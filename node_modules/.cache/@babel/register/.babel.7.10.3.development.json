{"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _data = _interopRequireDefault(require(\"./data\"));\n\nvar _customerRouter = _interopRequireDefault(require(\"./routers/customerRouter\"));\n\nvar _addressRouter = _interopRequireDefault(require(\"./routers/addressRouter\"));\n\nvar _OrderRouter = _interopRequireDefault(require(\"./routers/OrderRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// use packages and retrive models\nconst db = require(\"./models\");\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use(\"/api/customers\", _customerRouter.default);\napp.use(\"/api/address\", _addressRouter.default);\napp.use(\"/api/orders\", _OrderRouter.default);\napp.use('/api/product', _productRouter.default); // retrieve products on the server side\n\napp.get('/api/products', (req, res) => {\n  res.send(_data.default.products);\n}); // retrieve product by id from data.js\n\napp.get('/api/products/:id', (req, res) => {\n  const product = _data.default.products.find(x => x.id === req.params.id);\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found!'\n    });\n  }\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n}); // port the backend server is running on\n\ndb.sequelize.sync().then(() => {\n  app.listen(5000, () => {\n    console.log('Server running on port http://localhost:5000');\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsImN1c3RvbWVyUm91dGVyIiwiYWRkcmVzc1JvdXRlciIsIm9yZGVyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJkYXRhIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiZmluZCIsIngiLCJpZCIsInBhcmFtcyIsInN0YXR1cyIsIm1lc3NhZ2UiLCJlcnIiLCJuZXh0IiwibmFtZSIsInNlcXVlbGl6ZSIsInN5bmMiLCJ0aGVuIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBO0FBQ0EsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUFsQjs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsZ0JBQVIsRUFBMEJHLHVCQUExQjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSxjQUFSLEVBQXdCSSxzQkFBeEI7QUFDQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsYUFBUixFQUF1Qkssb0JBQXZCO0FBQ0FOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGNBQVIsRUFBd0JNLHNCQUF4QixFLENBSUE7O0FBQ0FQLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLGVBQVIsRUFBeUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFDbkNBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTQyxjQUFLQyxRQUFkO0FBQ0QsQ0FGRCxFLENBR0E7O0FBQ0FiLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLG1CQUFSLEVBQTZCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFhO0FBQ3hDLFFBQU1JLE9BQU8sR0FBR0YsY0FBS0MsUUFBTCxDQUFjRSxJQUFkLENBQW9CQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsRUFBRixLQUFTUixHQUFHLENBQUNTLE1BQUosQ0FBV0QsRUFBOUMsQ0FBaEI7O0FBQ0EsTUFBR0gsT0FBSCxFQUFXO0FBQ1RKLElBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTRyxPQUFUO0FBQ0QsR0FGRCxNQUVLO0FBQ0hKLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JSLElBQWhCLENBQXFCO0FBQUNTLE1BQUFBLE9BQU8sRUFBRTtBQUFWLEtBQXJCO0FBQ0Q7QUFDRixDQVBEO0FBU0FwQixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDb0IsR0FBRCxFQUFNWixHQUFOLEVBQVdDLEdBQVgsRUFBZ0JZLElBQWhCLEtBQXVCO0FBQzdCLFFBQU1ILE1BQU0sR0FBR0UsR0FBRyxDQUFDRSxJQUFKLElBQVlGLEdBQUcsQ0FBQ0UsSUFBSixLQUFhLGlCQUF6QixHQUE2QyxHQUE3QyxHQUFtRCxHQUFsRTtBQUNBYixFQUFBQSxHQUFHLENBQUNTLE1BQUosQ0FBV0EsTUFBWCxFQUFtQlIsSUFBbkIsQ0FBd0I7QUFBQ1MsSUFBQUEsT0FBTyxFQUFFQyxHQUFHLENBQUNEO0FBQWQsR0FBeEI7QUFDRCxDQUhELEUsQ0FJQTs7QUFDQXRCLEVBQUUsQ0FBQzBCLFNBQUgsQ0FBYUMsSUFBYixHQUFvQkMsSUFBcEIsQ0FBeUIsTUFBTTtBQUM3QjFCLEVBQUFBLEdBQUcsQ0FBQzJCLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDhDQUFaO0FBQ0QsR0FGRDtBQUdELENBSkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5cbmltcG9ydCBkYXRhIGZyb20gJy4vZGF0YSc7XG5pbXBvcnQgY3VzdG9tZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL2N1c3RvbWVyUm91dGVyJztcbmltcG9ydCBhZGRyZXNzUm91dGVyIGZyb20gJy4vcm91dGVycy9hZGRyZXNzUm91dGVyJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcnMvT3JkZXJSb3V0ZXInO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXInO1xuLy8gdXNlIHBhY2thZ2VzIGFuZCByZXRyaXZlIG1vZGVsc1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi9tb2RlbHNcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShcIi9hcGkvY3VzdG9tZXJzXCIsIGN1c3RvbWVyUm91dGVyKTtcbmFwcC51c2UoXCIvYXBpL2FkZHJlc3NcIiwgYWRkcmVzc1JvdXRlcik7XG5hcHAudXNlKFwiL2FwaS9vcmRlcnNcIiwgb3JkZXJSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0JywgcHJvZHVjdFJvdXRlcik7XG5cblxuXG4vLyByZXRyaWV2ZSBwcm9kdWN0cyBvbiB0aGUgc2VydmVyIHNpZGVcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMnLCAocmVxLCByZXMpPT57XG4gIHJlcy5zZW5kKGRhdGEucHJvZHVjdHMpXG59KVxuLy8gcmV0cmlldmUgcHJvZHVjdCBieSBpZCBmcm9tIGRhdGEuanNcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMvOmlkJywgKHJlcSwgcmVzKSA9PntcbiAgY29uc3QgcHJvZHVjdCA9IGRhdGEucHJvZHVjdHMuZmluZCgoeCkgPT4geC5pZCA9PT0gcmVxLnBhcmFtcy5pZCk7XG4gIGlmKHByb2R1Y3Qpe1xuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICB9ZWxzZXtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7bWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kISd9KTtcbiAgfVxufSlcblxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCk9PntcbiAgY29uc3Qgc3RhdHVzID0gZXJyLm5hbWUgJiYgZXJyLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InID8gNDAwIDogNTAwO1xuICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbn0pXG4vLyBwb3J0IHRoZSBiYWNrZW5kIHNlcnZlciBpcyBydW5uaW5nIG9uXG5kYi5zZXF1ZWxpemUuc3luYygpLnRoZW4oKCkgPT4ge1xuICBhcHAubGlzdGVuKDUwMDAsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIHJ1bm5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcbiAgfSk7XG59KTtcblxuIl19","map":{"version":3,"sources":["server.js"],"names":["db","require","app","use","bodyParser","json","customerRouter","addressRouter","orderRouter","productRouter","get","req","res","send","data","products","product","find","x","id","params","status","message","err","next","name","sequelize","sync","then","listen","console","log"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAA0BG,uBAA1B;AACAJ,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBI,sBAAxB;AACAL,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBK,oBAAvB;AACAN,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBM,sBAAxB,E,CAIA;;AACAP,GAAG,CAACQ,GAAJ,CAAQ,eAAR,EAAyB,CAACC,GAAD,EAAMC,GAAN,KAAY;AACnCA,EAAAA,GAAG,CAACC,IAAJ,CAASC,cAAKC,QAAd;AACD,CAFD,E,CAGA;;AACAb,GAAG,CAACQ,GAAJ,CAAQ,mBAAR,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAa;AACxC,QAAMI,OAAO,GAAGF,cAAKC,QAAL,CAAcE,IAAd,CAAoBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASR,GAAG,CAACS,MAAJ,CAAWD,EAA9C,CAAhB;;AACA,MAAGH,OAAH,EAAW;AACTJ,IAAAA,GAAG,CAACC,IAAJ,CAASG,OAAT;AACD,GAFD,MAEK;AACHJ,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAACS,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD;AACF,CAPD;AASApB,GAAG,CAACC,GAAJ,CAAQ,CAACoB,GAAD,EAAMZ,GAAN,EAAWC,GAAX,EAAgBY,IAAhB,KAAuB;AAC7B,QAAMH,MAAM,GAAGE,GAAG,CAACE,IAAJ,IAAYF,GAAG,CAACE,IAAJ,KAAa,iBAAzB,GAA6C,GAA7C,GAAmD,GAAlE;AACAb,EAAAA,GAAG,CAACS,MAAJ,CAAWA,MAAX,EAAmBR,IAAnB,CAAwB;AAACS,IAAAA,OAAO,EAAEC,GAAG,CAACD;AAAd,GAAxB;AACD,CAHD,E,CAIA;;AACAtB,EAAE,CAAC0B,SAAH,CAAaC,IAAb,GAAoBC,IAApB,CAAyB,MAAM;AAC7B1B,EAAAA,GAAG,CAAC2B,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACD,GAFD;AAGD,CAJD","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\n\nimport data from './data';\nimport customerRouter from './routers/customerRouter';\nimport addressRouter from './routers/addressRouter';\nimport orderRouter from './routers/OrderRouter';\nimport productRouter from './routers/productRouter';\n// use packages and retrive models\nconst db = require(\"./models\");\n\nconst app = express();\napp.use(cors());\napp.use(bodyParser.json());\napp.use(\"/api/customers\", customerRouter);\napp.use(\"/api/address\", addressRouter);\napp.use(\"/api/orders\", orderRouter);\napp.use('/api/product', productRouter);\n\n\n\n// retrieve products on the server side\napp.get('/api/products', (req, res)=>{\n  res.send(data.products)\n})\n// retrieve product by id from data.js\napp.get('/api/products/:id', (req, res) =>{\n  const product = data.products.find((x) => x.id === req.params.id);\n  if(product){\n    res.send(product);\n  }else{\n    res.status(404).send({message: 'Product Not Found!'});\n  }\n})\n\napp.use((err, req, res, next)=>{\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({message: err.message});\n})\n// port the backend server is running on\ndb.sequelize.sync().then(() => {\n  app.listen(5000, () => {\n    console.log('Server running on port http://localhost:5000');\n  });\n});\n\n"]}},"mtime":1651662062219},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/data.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products as javascript object/module\nmodule.exports = {\n  products: [{\n    id: '1',\n    name: 'Meal 1',\n    image: '/images/dinners/product-1.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '2',\n    name: 'Meal 2',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '3',\n    name: 'Meal 3',\n    image: '/images/dinners/product-3.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '4',\n    name: 'Meal 4',\n    image: '/images/dinners/product-4.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '5',\n    name: 'Meal 5',\n    image: '/images/dinners/product-5.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '6',\n    name: 'Meal 6',\n    image: '/images/dinners/product-6.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '7',\n    name: 'Meal 7',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 0\n  }, {\n    id: '8',\n    name: 'Meal 8',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '9',\n    name: 'Meal 9',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInByb2R1Y3RzIiwiaWQiLCJuYW1lIiwiaW1hZ2UiLCJwcmljZSIsImRlc2NyaXAiLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWdCO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBRFEsRUFVUjtBQUNFTCxJQUFBQSxFQUFFLEVBQUUsR0FETjtBQUVFQyxJQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsK0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEtBSlQ7QUFLRUMsSUFBQUEsT0FBTyxFQUFFLDJEQUxYO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQVZRLEVBa0JSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEJRLEVBMEJSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUJRLEVBa0NSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbENRLEVBMENSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUNRLEVBa0RSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbERRLEVBMERSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMURRLEVBa0VSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEVRO0FBREUsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIGFzIGphdmFzY3JpcHQgb2JqZWN0L21vZHVsZVxubW9kdWxlLmV4cG9ydHMgPXtcbiAgICBwcm9kdWN0czogW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnTWVhbCAxJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0xLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAnTWVhbCAyJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0yLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIG5hbWU6ICdNZWFsIDMnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTMuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc0JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNCcsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNC5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDgsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzUnLFxuICAgICAgICBuYW1lOiAnTWVhbCA1JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC01LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnNicsXG4gICAgICAgIG5hbWU6ICdNZWFsIDYnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTYuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNycsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNy5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzgnLFxuICAgICAgICBuYW1lOiAnTWVhbCA4JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC03LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnOScsXG4gICAgICAgIG5hbWU6ICdNZWFsIDknLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTIuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuICAiXX0=","map":{"version":3,"sources":["data.js"],"names":["module","exports","products","id","name","image","price","descrip","countInStock"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAgB;AACZC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EAUR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAVQ,EAkBR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlBQ,EA0BR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1BQ,EAkCR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlCQ,EA0CR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1CQ,EAkDR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlDQ,EA0DR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1DQ,EAkER;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlEQ;AADE,CAAhB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/","sourcesContent":["// products as javascript object/module\nmodule.exports ={\n    products: [\n      {\n        id: '1',\n        name: 'Meal 1',\n        image: '/images/dinners/product-1.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n  \n      },\n      {\n        id: '2',\n        name: 'Meal 2',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '3',\n        name: 'Meal 3',\n        image: '/images/dinners/product-3.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '4',\n        name: 'Meal 4',\n        image: '/images/dinners/product-4.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '5',\n        name: 'Meal 5',\n        image: '/images/dinners/product-5.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '6',\n        name: 'Meal 6',\n        image: '/images/dinners/product-6.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '7',\n        name: 'Meal 7',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 0,\n      },\n      {\n        id: '8',\n        name: 'Meal 8',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '9',\n        name: 'Meal 9',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n    ],\n  };\n  "]}},"mtime":1651661889901},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/customerRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst customerRouter = _express.default.Router(); // Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\n\n\ncustomerRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    _models.Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n    }).then(createAdmin => res.send(createAdmin));\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n})); // Route to login customers\n\ncustomerRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const signinCustomer = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (!signinCustomer) {\n    res.status(401).send({\n      message: \"Invalid email or password\"\n    });\n  } else {\n    _bcrypt.default.compare(password, signinCustomer.password).then(async match => {\n      if (!match) res.send({\n        error: \"wrong email and password combo\"\n      });\n    });\n\n    res.send({\n      id: signinCustomer.id,\n      firstname: signinCustomer.firstName,\n      lastname: signinCustomer.lastName,\n      email: signinCustomer.email,\n      isAdmin: signinCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(signinCustomer)\n    });\n  }\n\n  ;\n})); // register customers\n\ncustomerRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n  const customerEmail = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (customerEmail) {\n    res.status(401).send({\n      message: \"Email already exists\"\n    });\n  } else if (!customerEmail) {\n    _bcrypt.default.hash(password, 10).then(hash => {\n      _models.Customers.create({\n        firstName: firstname,\n        lastName: lastname,\n        email: email,\n        password: hash\n      });\n    });\n\n    res.send({\n      id: _models.Customers.id,\n      firstname: _models.Customers.firstName,\n      lastname: _models.Customers.lastName,\n      email: _models.Customers.email,\n      isAdmin: _models.Customers.isAdmin,\n      token: (0, _utlis.generateToken)(_models.Customers)\n    });\n  }\n\n  ;\n})); // Rout to update customer info\n\ncustomerRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: id\n    }\n  });\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    await _bcrypt.default.hash(password, 10).then(hash => {\n      customer.firstName = firstname || customer.firstName;\n      customer.lastName = lastname || customer.lastName;\n      customer.email = email || customer.email;\n      customer.password = hash || customer.password;\n    });\n    const updatedCustomer = await customer.save();\n    res.send({\n      id: updatedCustomer.id,\n      firstname: updatedCustomer.firstName,\n      lastname: updatedCustomer.lastName,\n      email: updatedCustomer.email,\n      isAdmin: updatedCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(updatedCustomer)\n    });\n  }\n\n  ;\n}));\nvar _default = customerRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyUm91dGVyLmpzIl0sIm5hbWVzIjpbImN1c3RvbWVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIkN1c3RvbWVycyIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJ0aGVuIiwiY3JlYXRlQWRtaW4iLCJzZW5kIiwiZXJyIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJib2R5Iiwic2lnbmluQ3VzdG9tZXIiLCJmaW5kT25lIiwid2hlcmUiLCJiY3J5cHQiLCJjb21wYXJlIiwibWF0Y2giLCJlcnJvciIsImlkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0b2tlbiIsImN1c3RvbWVyRW1haWwiLCJoYXNoIiwicHV0IiwiaXNBdXRoIiwicGFyYW1zIiwiY3VzdG9tZXIiLCJ1cGRhdGVkQ3VzdG9tZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFMQTtBQVFBLE1BQU1BLGNBQWMsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdkIsQyxDQUVBOzs7QUFDQUYsY0FBYyxDQUFDRyxHQUFmLENBQ0ksY0FESixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBbUI7QUFDeEMsTUFBRztBQUNEQyxzQkFBVUMsTUFBVixDQUFpQjtBQUNqQkMsTUFBQUEsU0FBUyxFQUFFLE9BRE07QUFFakJDLE1BQUFBLFFBQVEsRUFBRSxPQUZPO0FBR2pCQyxNQUFBQSxLQUFLLEVBQUUsa0JBSFU7QUFJakJDLE1BQUFBLFFBQVEsRUFBRSxVQUpPO0FBS2pCQyxNQUFBQSxPQUFPLEVBQUU7QUFMUSxLQUFqQixFQU1FQyxJQU5GLENBTU9DLFdBQVcsSUFBSVQsR0FBRyxDQUFDVSxJQUFKLENBQVNELFdBQVQsQ0FOdEI7QUFPRCxHQVJELENBUUMsT0FBTUUsR0FBTixFQUFVO0FBQ1BYLElBQUFB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QzNCLEtBQVQsR0FBaUJBLEtBQUssSUFBSTJCLFFBQVEsQ0FBQzNCLEtBQW5DO0FBQ0EyQixNQUFBQSxRQUFRLENBQUMxQixRQUFULEdBQW9Cc0IsSUFBSSxJQUFJSSxRQUFRLENBQUMxQixRQUFyQztBQUNILEtBTEssQ0FBTjtBQU1BLFVBQU0yQixlQUFlLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxJQUFULEVBQTlCO0FBQ0FsQyxJQUFBQSxHQUFHLENBQUNVLElBQUosQ0FBUztBQUNMYSxNQUFBQSxFQUFFLEVBQUVVLGVBQWUsQ0FBQ1YsRUFEZjtBQUVMQyxNQUFBQSxTQUFTLEVBQUVTLGVBQWUsQ0FBQzlCLFNBRnRCO0FBR0xzQixNQUFBQSxRQUFRLEVBQUVRLGVBQWUsQ0FBQzdCLFFBSHJCO0FBSUxDLE1BQUFBLEtBQUssRUFBRTRCLGVBQWUsQ0FBQzVCLEtBSmxCO0FBS0xFLE1BQUFBLE9BQU8sRUFBRTBCLGVBQWUsQ0FBQzFCLE9BTHBCO0FBTUxtQixNQUFBQSxLQUFLLEVBQUUsMEJBQWNPLGVBQWQ7QUFORixLQUFUO0FBUUg7O0FBQUE7QUFDSixDQTFCRyxDQUZKO2VBZ0NldEMsYyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7Q3VzdG9tZXJzfSBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuXG5jb25zdCBjdXN0b21lclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIFJvdXRlIHRvIGNyZWF0ZSBhbiBhZG1pbiB1c2VyLCBjYW4gYmUgdXBkYXRlZCB0byBnZW5lcmF0ZSBuZXcgYWRtaW5zIG5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gZW5jcnlwdCBwYXNzd29yZCBoZXJlXG5jdXN0b21lclJvdXRlci5nZXQoXG4gICAgJy9jcmVhdGVhZG1pbicsIFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT57XG4gICAgdHJ5e1xuICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICBmaXJzdE5hbWU6IFwiU2lyZW5cIixcbiAgICAgIGxhc3ROYW1lOiBcIk9jZWFuXCIsXG4gICAgICBlbWFpbDogXCJzaXJlbm9AZ21haWwuY29tXCIsXG4gICAgICBwYXNzd29yZDogXCJwYXNzd29yZFwiLFxuICAgICAgaXNBZG1pbjogXCIxXCJcbiAgICAgfSkudGhlbihjcmVhdGVBZG1pbiA9PiByZXMuc2VuZChjcmVhdGVBZG1pbikpIFxuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbiAgICB9XG59KSk7XG5cblxuXG4vLyBSb3V0ZSB0byBsb2dpbiBjdXN0b21lcnNcbmN1c3RvbWVyUm91dGVyLnBvc3QoXG4gICAgJy9zaWduaW4nLCBcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIFxuICAgIGNvbnN0IHNpZ25pbkN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbH0gfSk7XG4gIFxuICAgIGlmICghc2lnbmluQ3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgc2lnbmluQ3VzdG9tZXIucGFzc3dvcmQpLnRoZW4oYXN5bmMgKG1hdGNoKSA9PntcbiAgICAgICAgICAgIGlmKCFtYXRjaCkgcmVzLnNlbmQoe2Vycm9yOiBcIndyb25nIGVtYWlsIGFuZCBwYXNzd29yZCBjb21ib1wifSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiBzaWduaW5DdXN0b21lci5pZCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogc2lnbmluQ3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IHNpZ25pbkN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHNpZ25pbkN1c3RvbWVyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluQ3VzdG9tZXIuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pbkN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xuICBcbiAgfSlcbik7XG5cbi8vIHJlZ2lzdGVyIGN1c3RvbWVyc1xuY3VzdG9tZXJSb3V0ZXIucG9zdChcbiAgICAnL3JlZ2lzdGVyJywgXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lckVtYWlsID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7ZW1haWx9IH0pO1xuICAgIFxuICAgIGlmIChjdXN0b21lckVtYWlsKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoIWN1c3RvbWVyRW1haWwpe1xuXG4gICAgICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCkudGhlbigoaGFzaCk9PntcbiAgICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0bmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0bmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogQ3VzdG9tZXJzLmlkLFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBDdXN0b21lcnMuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IEN1c3RvbWVycy5sYXN0TmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBDdXN0b21lcnMuZW1haWwsXG4gICAgICAgICAgICBpc0FkbWluOiBDdXN0b21lcnMuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKEN1c3RvbWVycylcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgXG4gIH0pXG4gICk7XG4vLyBSb3V0IHRvIHVwZGF0ZSBjdXN0b21lciBpbmZvXG5jdXN0b21lclJvdXRlci5wdXQoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBDdXN0b21lcnMuZmluZE9uZSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcblxuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBOb3QgRm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICAgIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLDEwKS50aGVuKChoYXNoKT0+e1xuICAgICAgICAgICAgY3VzdG9tZXIuZmlyc3ROYW1lID0gZmlyc3RuYW1lIHx8IGN1c3RvbWVyLmZpcnN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIubGFzdE5hbWUgPSBsYXN0bmFtZSB8fCBjdXN0b21lci5sYXN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIuZW1haWwgPSBlbWFpbCB8fCBjdXN0b21lci5lbWFpbFxuICAgICAgICAgICAgY3VzdG9tZXIucGFzc3dvcmQgPSBoYXNoIHx8IGN1c3RvbWVyLnBhc3N3b3JkXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyLnNhdmUoKTsgXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiB1cGRhdGVkQ3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBmaXJzdG5hbWU6IHVwZGF0ZWRDdXN0b21lci5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0bmFtZTogdXBkYXRlZEN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVwZGF0ZWRDdXN0b21lci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRDdXN0b21lci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZEN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xufSlcbik7XG4gIFxuICBcbmV4cG9ydCBkZWZhdWx0IGN1c3RvbWVyUm91dGVyO1xuIl19","map":{"version":3,"sources":["customerRouter.js"],"names":["customerRouter","express","Router","get","req","res","Customers","create","firstName","lastName","email","password","isAdmin","then","createAdmin","send","err","status","message","post","body","signinCustomer","findOne","where","bcrypt","compare","match","error","id","firstname","lastname","token","customerEmail","hash","put","isAuth","params","customer","updatedCustomer","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport bcrypt from 'bcrypt';\nimport expressAsyncHandler from 'express-async-handler';\nimport {Customers} from \"../models\";\nimport { generateToken, isAuth } from \"../utlis\";\n\n\nconst customerRouter = express.Router();\n\n// Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\ncustomerRouter.get(\n    '/createadmin', \n    expressAsyncHandler( async (req, res) =>{\n    try{\n      Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n     }).then(createAdmin => res.send(createAdmin)) \n    }catch(err){\n        res.status(500).send({message: err.message});\n    }\n}));\n\n\n\n// Route to login customers\ncustomerRouter.post(\n    '/signin', \n    expressAsyncHandler( async (req, res) => {\n    const { email, password } = req.body;\n  \n    const signinCustomer = await Customers.findOne({ where: { email} });\n  \n    if (!signinCustomer) {\n        res.status(401).send({\n            message: \"Invalid email or password\",\n        });\n    }else{\n        bcrypt.compare(password, signinCustomer.password).then(async (match) =>{\n            if(!match) res.send({error: \"wrong email and password combo\"});\n        })\n        res.send({\n            id: signinCustomer.id,\n            firstname: signinCustomer.firstName,\n            lastname: signinCustomer.lastName,\n            email: signinCustomer.email,\n            isAdmin: signinCustomer.isAdmin,\n            token: generateToken(signinCustomer)\n        });\n    };\n  \n  })\n);\n\n// register customers\ncustomerRouter.post(\n    '/register', \n    expressAsyncHandler( async (req, res) => {\n    const {firstname,lastname,password,email} = req.body;\n    const customerEmail = await Customers.findOne({where: {email} });\n    \n    if (customerEmail) {\n        res.status(401).send({\n            message: \"Email already exists\",\n        });\n    }\n    else if(!customerEmail){\n\n        bcrypt.hash(password, 10).then((hash)=>{\n        Customers.create({\n            firstName: firstname,\n            lastName: lastname,\n            email: email,\n            password: hash\n            });\n        });\n  \n        res.send({\n            id: Customers.id,\n            firstname: Customers.firstName,\n            lastname: Customers.lastName,\n            email: Customers.email,\n            isAdmin: Customers.isAdmin,\n            token: generateToken(Customers)\n        });\n    };\n  \n  })\n  );\n// Rout to update customer info\ncustomerRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer = await Customers.findOne({where: {id: id}});\n    const {firstname,lastname,password,email} = req.body;\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        await bcrypt.hash(password,10).then((hash)=>{\n            customer.firstName = firstname || customer.firstName\n            customer.lastName = lastname || customer.lastName\n            customer.email = email || customer.email\n            customer.password = hash || customer.password\n        })\n        const updatedCustomer = await customer.save(); \n        res.send({\n            id: updatedCustomer.id,\n            firstname: updatedCustomer.firstName,\n            lastname: updatedCustomer.lastName,\n            email: updatedCustomer.email,\n            isAdmin: updatedCustomer.isAdmin,\n            token: generateToken(updatedCustomer)\n        });\n    };\n})\n);\n  \n  \nexport default customerRouter;\n"]}},"mtime":1651661817597},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n/* eslint-disable global-require */\n\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = require(`${__dirname}/../config/config.js`)[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js').forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJfX2Rpcm5hbWUiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJqb2luIiwiRGF0YVR5cGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBO0FBQ0E7QUFFQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFFQSxNQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQzs7QUFDQSxNQUFNQyxNQUFNLEdBQUdSLE9BQU8sQ0FBRSxHQUFFUyxTQUFZLHNCQUFoQixDQUFQLENBQThDSixHQUE5QyxDQUFmOztBQUNBLE1BQU1LLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJSCxNQUFNLENBQUNJLGdCQUFYLEVBQTZCO0FBQzNCRCxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWUcsTUFBTSxDQUFDSSxnQkFBbkIsQ0FBZCxFQUFvREosTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztBQUNMRyxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjTSxNQUFNLENBQUNLLFFBQXJCLEVBQStCTCxNQUFNLENBQUNNLFFBQXRDLEVBQWdETixNQUFNLENBQUNPLFFBQXZELEVBQWlFUCxNQUFqRSxDQUFaO0FBQ0Q7O0FBRURULEVBQUUsQ0FDQ2lCLFdBREgsQ0FDZVAsU0FEZixFQUVHUSxNQUZILENBRVVDLElBQUksSUFBS0EsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUE4QkQsSUFBSSxLQUFLZixRQUF2QyxJQUFxRGUsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBRjFGLEVBR0dDLE9BSEgsQ0FHV0gsSUFBSSxJQUFJO0FBQ2YsUUFBTUksS0FBSyxHQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVkLFNBQVYsRUFBcUJTLElBQXJCLENBQUQsQ0FBUCxDQUFvQ1AsU0FBcEMsRUFBK0NULFNBQVMsQ0FBQ3NCLFNBQXpELENBQWQ7O0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FOSDtBQVFBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXdCTyxTQUFTLElBQUk7QUFDbkMsTUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtBQUMzQm5CLElBQUFBLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7QUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDUixTQUFILEdBQWVBLFNBQWY7QUFFQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1keW5hbWljLXJlcXVpcmUgKi9cbi8vIGltcG9ydGFudCBmaWxlIGdlbmVyYXRlZCBieSBzZXF1bGllemVcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShgJHtfX2Rpcm5hbWUgIH0vLi4vY29uZmlnL2NvbmZpZy5qc2ApW2Vudl07XG5jb25zdCBkYiA9IHt9O1xuXG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShjb25maWcuZGF0YWJhc2UsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcpO1xufVxuXG5mc1xuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxuICAuZmlsdGVyKGZpbGUgPT4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpKVxuICAuZm9yRWFjaChmaWxlID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5cbk9iamVjdC5rZXlzKGRiKS5mb3JFYWNoKG1vZGVsTmFtZSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5cbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjtcbiJdfQ==","map":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":";;AAAA;;AACA;AACA;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AAEA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,MAAMC,MAAM,GAAGR,OAAO,CAAE,GAAES,SAAY,sBAAhB,CAAP,CAA8CJ,GAA9C,CAAf;;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;AAC3BD,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEUC,IAAI,IAAKA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAF1F,EAGGC,OAHH,CAGWH,IAAI,IAAI;AACf,QAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;AACAd,EAAAA,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CANH;AAQAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwBO,SAAS,IAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname  }/../config/config.js`)[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js'))\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]}},"mtime":1651661614846},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nrequire('dotenv').config(); // config file to connect to the db\n\n\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJlbnYiLCJQQVNTV09SRCIsIkRBVEFCQVNFIiwiSE9TVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUNBOzs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsaUJBQWU7QUFDYixnQkFBWSxNQURDO0FBRWIsZ0JBQVlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUZYO0FBR2IsZ0JBQVlGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxRQUhYO0FBSWIsWUFBUUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSlA7QUFLYixlQUFXO0FBTEUsR0FEQTtBQVFmLFVBQVE7QUFDTixnQkFBWSxTQUROO0FBRU4sZ0JBQVksSUFGTjtBQUdOLGdCQUFZLGVBSE47QUFJTixZQUFRLFdBSkY7QUFLTixlQUFXO0FBTEwsR0FSTztBQWVmLGdCQUFjO0FBQ1osZ0JBQVksTUFEQTtBQUVaLGdCQUFZLElBRkE7QUFHWixnQkFBWSxxQkFIQTtBQUlaLFlBQVEsV0FKSTtBQUtaLGVBQVc7QUFMQztBQWZDLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcbi8vIGNvbmZpZyBmaWxlIHRvIGNvbm5lY3QgdG8gdGhlIGRiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJkZXZlbG9wbWVudFwiOiB7XG4gICAgXCJ1c2VybmFtZVwiOiBcInJvb3RcIixcbiAgICBcInBhc3N3b3JkXCI6IHByb2Nlc3MuZW52LlBBU1NXT1JELFxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREFUQUJBU0UsXG4gICAgXCJob3N0XCI6IHByb2Nlc3MuZW52LkhPU1QsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInRlc3RcIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb29jbGV0XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV90ZXN0XCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInByb2R1Y3Rpb25cIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb290XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV9wcm9kdWN0aW9uXCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxufVxuXG4iXX0=","map":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","process","env","PASSWORD","DATABASE","HOST"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB;AACf,iBAAe;AACb,gBAAY,MADC;AAEb,gBAAYC,OAAO,CAACC,GAAR,CAAYC,QAFX;AAGb,gBAAYF,OAAO,CAACC,GAAR,CAAYE,QAHX;AAIb,YAAQH,OAAO,CAACC,GAAR,CAAYG,IAJP;AAKb,eAAW;AALE,GADA;AAQf,UAAQ;AACN,gBAAY,SADN;AAEN,gBAAY,IAFN;AAGN,gBAAY,eAHN;AAIN,YAAQ,WAJF;AAKN,eAAW;AALL,GARO;AAef,gBAAc;AACZ,gBAAY,MADA;AAEZ,gBAAY,IAFA;AAGZ,gBAAY,qBAHA;AAIZ,YAAQ,WAJI;AAKZ,eAAW;AALC;AAfC,CAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/","sourcesContent":["require('dotenv').config()\n// config file to connect to the db\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n}\n\n"]}},"mtime":1651661494824},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Address.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Address = sequelize.define(\"Address\", {\n    address: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    city: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    postcode: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    country: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    }\n  });\n\n  Address.associate = models => {\n    Address.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Address.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Address;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3MuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkFkZHJlc3MiLCJkZWZpbmUiLCJhZGRyZXNzIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJjaXR5IiwicG9zdGNvZGUiLCJjb3VudHJ5IiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiQ3VzdG9tZXJzIiwib25EZWxldGUiLCJoYXNNYW55IiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsT0FBTyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsU0FBakIsRUFBNEI7QUFDMUNDLElBQUFBLE9BQU8sRUFBRTtBQUNQQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQURpQztBQVExQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBUm9DO0FBZTFDRSxJQUFBQSxRQUFRLEVBQUU7QUFDUk4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0FmZ0M7QUFzQjFDRyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFQ7QUFFUEMsTUFBQUEsU0FBUyxFQUFFLEtBRko7QUFHUEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEg7QUF0QmlDLEdBQTVCLENBQWhCOztBQThCQVAsRUFBQUEsT0FBTyxDQUFDVyxTQUFSLEdBQXFCQyxNQUFELElBQVk7QUFDOUJaLElBQUFBLE9BQU8sQ0FBQ2EsU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxTQUF6QixFQUFvQztBQUNsQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRHdCLEtBQXBDO0FBR0FmLElBQUFBLE9BQU8sQ0FBQ2dCLE9BQVIsQ0FBZ0JKLE1BQU0sQ0FBQ0ssU0FBdkIsRUFBa0M7QUFDaENGLE1BQUFBLFFBQVEsRUFBRTtBQURzQixLQUFsQztBQUdELEdBUEQ7O0FBUUEsU0FBT2YsT0FBUDtBQUNELENBeENIIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkcmVzcyB0YWJsZSB3cml0dGVuIHVzaW5nIHNlcXVsaWV6ZSBzeW50YXhcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gICAgY29uc3QgQWRkcmVzcyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJBZGRyZXNzXCIsIHtcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2l0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwb3N0Y29kZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb3VudHJ5OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIEFkZHJlc3MuYXNzb2NpYXRlID0gKG1vZGVscykgPT4ge1xuICAgICAgQWRkcmVzcy5iZWxvbmdzVG8obW9kZWxzLkN1c3RvbWVycywge1xuICAgICAgICBvbkRlbGV0ZTogXCJjYXNjYWRlXCIsXG4gICAgICB9KTtcbiAgICAgIEFkZHJlc3MuaGFzTWFueShtb2RlbHMuT3JkZXJsaW5lLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFkZHJlc3M7XG4gIH07Il19","map":{"version":3,"sources":["Address.js"],"names":["module","exports","sequelize","DataTypes","Address","define","address","type","STRING","allowNull","validate","notEmpty","city","postcode","country","associate","models","belongsTo","Customers","onDelete","hasMany","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,OAAO,GAAGF,SAAS,CAACG,MAAV,CAAiB,SAAjB,EAA4B;AAC1CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KADiC;AAQ1CC,IAAAA,IAAI,EAAE;AACJL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KARoC;AAe1CE,IAAAA,QAAQ,EAAE;AACRN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAfgC;AAsB1CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH;AAtBiC,GAA5B,CAAhB;;AA8BAP,EAAAA,OAAO,CAACW,SAAR,GAAqBC,MAAD,IAAY;AAC9BZ,IAAAA,OAAO,CAACa,SAAR,CAAkBD,MAAM,CAACE,SAAzB,EAAoC;AAClCC,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGAf,IAAAA,OAAO,CAACgB,OAAR,CAAgBJ,MAAM,CAACK,SAAvB,EAAkC;AAChCF,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAGD,GAPD;;AAQA,SAAOf,OAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Address = sequelize.define(\"Address\", {\n      address: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      city: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      postcode: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      country: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    });\n    Address.associate = (models) => {\n      Address.belongsTo(models.Customers, {\n        onDelete: \"cascade\",\n      });\n      Address.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n    return Address;\n  };"]}},"mtime":1651661566304},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Customers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Customers = sequelize.define(\"Customers\", {\n    firstName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    lastName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isAdmin: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Customers.associate = models => {\n    Customers.hasMany(models.Address, {\n      onDelete: \"cascade\"\n    });\n    Customers.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Customers;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1c3RvbWVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ3VzdG9tZXJzIiwiZGVmaW5lIiwiZmlyc3ROYW1lIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQk9PTEVBTiIsImRlZmF1bHQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiQWRkcmVzcyIsIm9uRGVsZXRlIiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsU0FBUyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsV0FBakIsRUFBOEI7QUFDOUNDLElBQUFBLFNBQVMsRUFBRTtBQUNUQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUDtBQUVUQyxNQUFBQSxTQUFTLEVBQUUsS0FGRjtBQUdUQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRCxLQURtQztBQVE5Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQ1JMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURSO0FBRVJDLE1BQUFBLFNBQVMsRUFBRSxLQUZIO0FBR1JDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhGLEtBUm9DO0FBZTlDRSxJQUFBQSxLQUFLLEVBQUU7QUFDTE4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FmdUM7QUFzQjlDRyxJQUFBQSxRQUFRLEVBQUU7QUFDUlAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0F0Qm9DO0FBNkI5Q0ksSUFBQUEsT0FBTyxFQUFFO0FBQ1BSLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQURUO0FBRVBDLE1BQUFBLE9BQU8sRUFBRTtBQUZGO0FBN0JxQyxHQUE5QixDQUFsQjs7QUFrQ0FiLEVBQUFBLFNBQVMsQ0FBQ2MsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQ2hDZixJQUFBQSxTQUFTLENBQUNnQixPQUFWLENBQWtCRCxNQUFNLENBQUNFLE9BQXpCLEVBQWtDO0FBQ2hDQyxNQUFBQSxRQUFRLEVBQUU7QUFEc0IsS0FBbEM7QUFJQWxCLElBQUFBLFNBQVMsQ0FBQ2dCLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0ksU0FBekIsRUFBb0M7QUFDbENELE1BQUFBLFFBQVEsRUFBRTtBQUR3QixLQUFwQztBQUdELEdBUkQ7O0FBVUEsU0FBT2xCLFNBQVA7QUFDRCxDQTlDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGN1c3RvbWVyIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBDdXN0b21lcnMgPSBzZXF1ZWxpemUuZGVmaW5lKFwiQ3VzdG9tZXJzXCIsIHtcbiAgICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc0FkbWluOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9XG4gICAgfSk7XG4gICAgQ3VzdG9tZXJzLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5BZGRyZXNzLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICBcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5PcmRlcmxpbmUsIHtcbiAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgfSk7XG4gICAgfTtcbiAgXG4gICAgcmV0dXJuIEN1c3RvbWVycztcbiAgfTsiXX0=","map":{"version":3,"sources":["Customers.js"],"names":["module","exports","sequelize","DataTypes","Customers","define","firstName","type","STRING","allowNull","validate","notEmpty","lastName","email","password","isAdmin","BOOLEAN","default","associate","models","hasMany","Address","onDelete","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADP;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHD,KADmC;AAQ9CC,IAAAA,QAAQ,EAAE;AACRL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KARoC;AAe9CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfuC;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,OAAO,EAAE;AACPR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADT;AAEPC,MAAAA,OAAO,EAAE;AAFF;AA7BqC,GAA9B,CAAlB;;AAkCAb,EAAAA,SAAS,CAACc,SAAV,GAAuBC,MAAD,IAAY;AAChCf,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACE,OAAzB,EAAkC;AAChCC,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAIAlB,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACI,SAAzB,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GARD;;AAUA,SAAOlB,SAAP;AACD,CA9CH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Customers = sequelize.define(\"Customers\", {\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isAdmin: {\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      }\n    });\n    Customers.associate = (models) => {\n      Customers.hasMany(models.Address, {\n        onDelete: \"cascade\",\n      });\n  \n      Customers.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n  \n    return Customers;\n  };"]}},"mtime":1651661579788},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Orderline.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Orderline = sequelize.define(\"Orderline\", {\n    totalPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    itemsPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    shippingPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    taxPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isPaid: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    },\n    isDelivered: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Orderline.associate = models => {\n    Orderline.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Orderline.belongsTo(models.Address, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Orderline;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVybGluZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiT3JkZXJsaW5lIiwiZGVmaW5lIiwidG90YWxQcmljZSIsInR5cGUiLCJET1VCTEUiLCJhbGxvd051bGwiLCJ2YWxpZGF0ZSIsIm5vdEVtcHR5IiwiaXRlbXNQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0YXhQcmljZSIsImlzUGFpZCIsIkJPT0xFQU4iLCJkZWZhdWx0IiwiaXNEZWxpdmVyZWQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDdXN0b21lcnMiLCJvbkRlbGV0ZSIsIkFkZHJlc3MiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixXQUFqQixFQUE4QjtBQUM5Q0MsSUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQUROO0FBRVZDLE1BQUFBLFNBQVMsRUFBRSxLQUZEO0FBR1ZDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhBLEtBRGtDO0FBUTlDQyxJQUFBQSxVQUFVLEVBQUU7QUFDVkwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRE47QUFFVkMsTUFBQUEsU0FBUyxFQUFFLEtBRkQ7QUFHVkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEEsS0FSa0M7QUFlOUNFLElBQUFBLGFBQWEsRUFBRTtBQUNiTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFESDtBQUViQyxNQUFBQSxTQUFTLEVBQUUsS0FGRTtBQUdiQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRyxLQWYrQjtBQXNCOUNHLElBQUFBLFFBQVEsRUFBRTtBQUNSUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUjtBQUVSQyxNQUFBQSxTQUFTLEVBQUUsS0FGSDtBQUdSQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRixLQXRCb0M7QUE2QjlDSSxJQUFBQSxNQUFNLEVBQUM7QUFDTFIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BRFg7QUFFTEMsTUFBQUEsT0FBTyxFQUFFO0FBRkosS0E3QnVDO0FBaUM5Q0MsSUFBQUEsV0FBVyxFQUFDO0FBQ1ZYLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQUROO0FBRVZDLE1BQUFBLE9BQU8sRUFBRTtBQUZDO0FBakNrQyxHQUE5QixDQUFsQjs7QUF1Q0FiLEVBQUFBLFNBQVMsQ0FBQ2UsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQzlCaEIsSUFBQUEsU0FBUyxDQUFDaUIsU0FBVixDQUFvQkQsTUFBTSxDQUFDRSxTQUEzQixFQUFzQztBQUNwQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRDBCLEtBQXRDO0FBR0FuQixJQUFBQSxTQUFTLENBQUNpQixTQUFWLENBQW9CRCxNQUFNLENBQUNJLE9BQTNCLEVBQW9DO0FBQ2xDRCxNQUFBQSxRQUFRLEVBQUU7QUFEd0IsS0FBcEM7QUFHRCxHQVBIOztBQVFBLFNBQU9uQixTQUFQO0FBQ0QsQ0FqREgiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcmRlcmxpbmUgdGFibGUgd3JpdHRlbiB1c2luZyBzZXF1bGllemUgc3ludGF4XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICAgIGNvbnN0IE9yZGVybGluZSA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJPcmRlcmxpbmVcIiwge1xuICAgICAgdG90YWxQcmljZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRE9VQkxFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpdGVtc1ByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5ET1VCTEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNoaXBwaW5nUHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGF4UHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNQYWlkOntcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGRlZmF1bHQ6ICcwJyxcbiAgICAgIH0sXG4gICAgICBpc0RlbGl2ZXJlZDp7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgT3JkZXJsaW5lLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQ3VzdG9tZXJzLCB7XG4gICAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQWRkcmVzcywge1xuICAgICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgcmV0dXJuIE9yZGVybGluZTtcbiAgfTsiXX0=","map":{"version":3,"sources":["Orderline.js"],"names":["module","exports","sequelize","DataTypes","Orderline","define","totalPrice","type","DOUBLE","allowNull","validate","notEmpty","itemsPrice","shippingPrice","taxPrice","isPaid","BOOLEAN","default","isDelivered","associate","models","belongsTo","Customers","onDelete","Address"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KADkC;AAQ9CC,IAAAA,UAAU,EAAE;AACVL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KARkC;AAe9CE,IAAAA,aAAa,EAAE;AACbN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADH;AAEbC,MAAAA,SAAS,EAAE,KAFE;AAGbC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHG,KAf+B;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,MAAM,EAAC;AACLR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADX;AAELC,MAAAA,OAAO,EAAE;AAFJ,KA7BuC;AAiC9CC,IAAAA,WAAW,EAAC;AACVX,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADN;AAEVC,MAAAA,OAAO,EAAE;AAFC;AAjCkC,GAA9B,CAAlB;;AAuCAb,EAAAA,SAAS,CAACe,SAAV,GAAuBC,MAAD,IAAY;AAC9BhB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACE,SAA3B,EAAsC;AACpCC,MAAAA,QAAQ,EAAE;AAD0B,KAAtC;AAGAnB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACI,OAA3B,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GAPH;;AAQA,SAAOnB,SAAP;AACD,CAjDH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Orderline = sequelize.define(\"Orderline\", {\n      totalPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      itemsPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      shippingPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      taxPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isPaid:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n      isDelivered:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n    });\n\n    Orderline.associate = (models) => {\n        Orderline.belongsTo(models.Customers, {\n          onDelete: \"cascade\",\n        });\n        Orderline.belongsTo(models.Address, {\n          onDelete: \"cascade\",\n        });\n      }\n    return Orderline;\n  };"]}},"mtime":1651661640433},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/utlis.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _configa = _interopRequireDefault(require(\"./config/configa\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable arrow-body-style */\nconst generateToken = customer => {\n  return _jsonwebtoken.default.sign({\n    id: customer.id,\n    firstname: customer.firstName,\n    lastname: customer.lastName,\n    email: customer.email,\n    isAdmin: customer.isAdmin\n  }, _configa.default.JWT_SECRET);\n}; // function to check if the user is an authorizaed user\n\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n\n    _jsonwebtoken.default.verify(token, _configa.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.customer = data;\n        next();\n      }\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for this admin user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0bGlzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJjdXN0b21lciIsImp3dCIsInNpZ24iLCJpZCIsImZpcnN0bmFtZSIsImZpcnN0TmFtZSIsImxhc3RuYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlclRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlPLE1BQU1BLGFBQWEsR0FBSUMsUUFBRCxJQUFjO0FBQ3ZDLFNBQU9DLHNCQUFJQyxJQUFKLENBQ0w7QUFDRUMsSUFBQUEsRUFBRSxFQUFFSCxRQUFRLENBQUNHLEVBRGY7QUFFRUMsSUFBQUEsU0FBUyxFQUFFSixRQUFRLENBQUNLLFNBRnRCO0FBR0VDLElBQUFBLFFBQVEsRUFBRU4sUUFBUSxDQUFDTyxRQUhyQjtBQUlFQyxJQUFBQSxLQUFLLEVBQUVSLFFBQVEsQ0FBQ1EsS0FKbEI7QUFLRUMsSUFBQUEsT0FBTyxFQUFFVCxRQUFRLENBQUNTO0FBTHBCLEdBREssRUFRTEMsaUJBQU9DLFVBUkYsQ0FBUDtBQVVILENBWE0sQyxDQWFQOzs7OztBQUNPLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFtQjtBQUN2QyxRQUFNQyxXQUFXLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUFoQzs7QUFDQSxNQUFHLENBQUNGLFdBQUosRUFBZ0I7QUFDZEYsSUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsTUFBQUEsT0FBTyxFQUFFO0FBQVYsS0FBckI7QUFDRCxHQUZELE1BRUs7QUFDSCxVQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBWixDQUFrQixDQUFsQixFQUFvQlAsV0FBVyxDQUFDUSxNQUFoQyxDQUFkOztBQUNBdkIsMEJBQUl3QixNQUFKLENBQVdILEtBQVgsRUFBa0JaLGlCQUFPQyxVQUF6QixFQUFxQyxDQUFDZSxHQUFELEVBQU1DLElBQU4sS0FBYztBQUNqRCxVQUFHRCxHQUFILEVBQU87QUFDTFosUUFBQUEsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBQ0MsVUFBQUEsT0FBTyxFQUFFO0FBQVYsU0FBckI7QUFDRCxPQUZELE1BRUs7QUFDSFIsUUFBQUEsR0FBRyxDQUFDYixRQUFKLEdBQWUyQixJQUFmO0FBQ0FaLFFBQUFBLElBQUk7QUFDTDtBQUNGLEtBUEQ7QUFRRDtBQUNGLENBZk07Ozs7QUFnQkEsTUFBTU4sT0FBTyxHQUFHLENBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQ3pDLE1BQUlGLEdBQUcsQ0FBQ2IsUUFBSixJQUFnQmEsR0FBRyxDQUFDYixRQUFKLENBQWFTLE9BQWpDLEVBQTBDO0FBQ3hDTSxJQUFBQSxJQUFJO0FBQ0wsR0FGRCxNQUVPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQU5NIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBhcnJvdy1ib2R5LXN0eWxlICovXG5pbXBvcnQgand0ICBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcvY29uZmlnYSc7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKGN1c3RvbWVyKSA9PiB7XG4gICAgcmV0dXJuIGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICBpZDogY3VzdG9tZXIuaWQsXG4gICAgICAgIGZpcnN0bmFtZTogY3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICBsYXN0bmFtZTogY3VzdG9tZXIubGFzdE5hbWUsXG4gICAgICAgIGVtYWlsOiBjdXN0b21lci5lbWFpbCxcbiAgICAgICAgaXNBZG1pbjogY3VzdG9tZXIuaXNBZG1pblxuICAgICAgfSxcbiAgICAgIGNvbmZpZy5KV1RfU0VDUkVUXG4gICAgKTtcbn07XG5cbi8vIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSB1c2VyIGlzIGFuIGF1dGhvcml6YWVkIHVzZXJcbmV4cG9ydCBjb25zdCBpc0F1dGggPSAocmVxLCByZXMsIG5leHQpID0+e1xuICBjb25zdCBiZWFyZXJUb2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGlmKCFiZWFyZXJUb2tlbil7XG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6ICdUb2tlbiBpcyBub3Qgc3VwcGxpZWQnfSk7XG4gIH1lbHNle1xuICAgIGNvbnN0IHRva2VuID0gYmVhcmVyVG9rZW4uc2xpY2UoNyxiZWFyZXJUb2tlbi5sZW5ndGgpO1xuICAgIGp3dC52ZXJpZnkodG9rZW4sIGNvbmZpZy5KV1RfU0VDUkVULCAoZXJyLCBkYXRhKSA9PntcbiAgICAgIGlmKGVycil7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOiAnSW52YWxpZCBUb2tlbid9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXEuY3VzdG9tZXIgPSBkYXRhO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5jdXN0b21lciAmJiByZXEuY3VzdG9tZXIuaXNBZG1pbikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3QgdmFsaWQgZm9yIHRoaXMgYWRtaW4gdXNlcicgfSk7XG4gIH1cbn07Il19","map":{"version":3,"sources":["utlis.js"],"names":["generateToken","customer","jwt","sign","id","firstname","firstName","lastname","lastName","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"mappings":";;;;;;;AACA;;AACA;;;;AAFA;AAIO,MAAMA,aAAa,GAAIC,QAAD,IAAc;AACvC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,EAAE,EAAEH,QAAQ,CAACG,EADf;AAEEC,IAAAA,SAAS,EAAEJ,QAAQ,CAACK,SAFtB;AAGEC,IAAAA,QAAQ,EAAEN,QAAQ,CAACO,QAHrB;AAIEC,IAAAA,KAAK,EAAER,QAAQ,CAACQ,KAJlB;AAKEC,IAAAA,OAAO,EAAET,QAAQ,CAACS;AALpB,GADK,EAQLC,iBAAOC,UARF,CAAP;AAUH,CAXM,C,CAaP;;;;;AACO,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAmB;AACvC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAG,CAACF,WAAJ,EAAgB;AACdF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD,GAFD,MAEK;AACH,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAoBP,WAAW,CAACQ,MAAhC,CAAd;;AACAvB,0BAAIwB,MAAJ,CAAWH,KAAX,EAAkBZ,iBAAOC,UAAzB,EAAqC,CAACe,GAAD,EAAMC,IAAN,KAAc;AACjD,UAAGD,GAAH,EAAO;AACLZ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAE;AAAV,SAArB;AACD,OAFD,MAEK;AACHR,QAAAA,GAAG,CAACb,QAAJ,GAAe2B,IAAf;AACAZ,QAAAA,IAAI;AACL;AACF,KAPD;AAQD;AACF,CAfM;;;;AAgBA,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,QAAJ,IAAgBa,GAAG,CAACb,QAAJ,CAAaS,OAAjC,EAA0C;AACxCM,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/","sourcesContent":["/* eslint-disable arrow-body-style */\nimport jwt  from 'jsonwebtoken';\nimport config  from './config/configa';\n\nexport const generateToken = (customer) => {\n    return jwt.sign(\n      {\n        id: customer.id,\n        firstname: customer.firstName,\n        lastname: customer.lastName,\n        email: customer.email,\n        isAdmin: customer.isAdmin\n      },\n      config.JWT_SECRET\n    );\n};\n\n// function to check if the user is an authorizaed user\nexport const isAuth = (req, res, next) =>{\n  const bearerToken = req.headers.authorization;\n  if(!bearerToken){\n    res.status(401).send({message: 'Token is not supplied'});\n  }else{\n    const token = bearerToken.slice(7,bearerToken.length);\n    jwt.verify(token, config.JWT_SECRET, (err, data) =>{\n      if(err){\n        res.status(401).send({message: 'Invalid Token'});\n      }else{\n        req.customer = data;\n        next();\n      }\n    })\n  }\n}\nexport const isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Token is not valid for this admin user' });\n  }\n};"]}},"mtime":1651529161804},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/configa.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// config file to generate the secrect variable for the jwt token\n_dotenv.default.config();\n\nvar _default = {\n  JWT_SECRET: process.env.JWT_SECRET\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZ2EuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQURBO0FBR0FBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGO0FBRFgsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbmZpZyBmaWxlIHRvIGdlbmVyYXRlIHRoZSBzZWNyZWN0IHZhcmlhYmxlIGZvciB0aGUgand0IHRva2VuXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxufTsiXX0=","map":{"version":3,"sources":["configa.js"],"names":["dotenv","config","JWT_SECRET","process","env"],"mappings":";;;;;;;AACA;;;;AADA;AAGAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYF;AADX,C","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/","sourcesContent":["// config file to generate the secrect variable for the jwt token\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  JWT_SECRET: process.env.JWT_SECRET,\n};"]}},"mtime":1651661530707},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/addressRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst addressRouter = _express.default.Router(); // address route to create address\n\n\naddressRouter.post('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    address,\n    postcode,\n    city,\n    country\n  } = req.body;\n  const customerId = req.customer.id;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: customerId\n    }\n  });\n  const custAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId,\n      postcode: postcode,\n      address: address\n    }\n  });\n  const cAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else if (custAddress) {\n    res.status(401).send({\n      message: \"Address already registered\"\n    });\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  } else if (cAddress) {\n    res.status(401).send({\n      message: \"To use new address, update.\"\n    });\n  } else {\n    _models.Address.create({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country,\n      CustomerId: customerId\n    });\n\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  }\n})); // address route to update address\n\naddressRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Address.findOne({\n    where: {\n      CustomerId: id\n    }\n  });\n\n  if (!customer) {\n    res.status(404).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    customer.address = req.body.address || customer.address;\n    customer.postcode = req.body.postcode || customer.postcode;\n    customer.city = req.body.city || customer.city;\n    customer.country = req.body.country || customer.country;\n    const updatedAddress = await customer.save();\n    res.send({\n      id: updatedAddress.id,\n      address: updatedAddress.address,\n      postcode: updatedAddress.postcode,\n      city: updatedAddress.city,\n      country: updatedAddress.country\n    });\n  }\n\n  ;\n}));\nvar _default = addressRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHJlc3NSb3V0ZXIuanMiXSwibmFtZXMiOlsiYWRkcmVzc1JvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwiYWRkcmVzcyIsInBvc3Rjb2RlIiwiY2l0eSIsImNvdW50cnkiLCJib2R5IiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyIiwiaWQiLCJDdXN0b21lcnMiLCJmaW5kT25lIiwid2hlcmUiLCJjdXN0QWRkcmVzcyIsIkFkZHJlc3MiLCJDdXN0b21lcklkIiwiY0FkZHJlc3MiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNyZWF0ZSIsInB1dCIsInBhcmFtcyIsInVwZGF0ZWRBZGRyZXNzIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSkE7QUFNQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCLEMsQ0FDQTs7O0FBQ0FGLGFBQWEsQ0FBQ0csSUFBZCxDQUNJLE1BREosRUFDWUMsYUFEWixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTztBQUFDQyxJQUFBQSxPQUFEO0FBQVVDLElBQUFBLFFBQVY7QUFBb0JDLElBQUFBLElBQXBCO0FBQTBCQyxJQUFBQTtBQUExQixNQUFxQ0wsR0FBRyxDQUFDTSxJQUFoRDtBQUNBLFFBQU1DLFVBQVUsR0FBR1AsR0FBRyxDQUFDUSxRQUFKLENBQWFDLEVBQWhDO0FBQ0EsUUFBTUQsUUFBUSxHQUFHLE1BQU1FLGtCQUFVQyxPQUFWLENBQWtCO0FBQUNDLElBQUFBLEtBQUssRUFBRTtBQUFDSCxNQUFBQSxFQUFFLEVBQUVGO0FBQUw7QUFBUixHQUFsQixDQUF2QjtBQUNBLFFBQU1NLFdBQVcsR0FBRyxNQUFNQyxnQkFBUUgsT0FBUixDQUFnQjtBQUFDQyxJQUFBQSxLQUFLLEVBQUU7QUFBQ0csTUFBQUEsVUFBVSxFQUFFUixVQUFiO0FBQXlCSixNQUFB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TWtCLGNBQWMsR0FBRyxNQUFNZixRQUFRLENBQUNnQixJQUFULEVBQTdCO0FBQ0F2QixJQUFBQSxHQUFHLENBQUNpQixJQUFKLENBQVM7QUFDTFQsTUFBQUEsRUFBRSxFQUFFYyxjQUFjLENBQUNkLEVBRGQ7QUFFTFAsTUFBQUEsT0FBTyxFQUFFcUIsY0FBYyxDQUFDckIsT0FGbkI7QUFHTEMsTUFBQUEsUUFBUSxFQUFFb0IsY0FBYyxDQUFDcEIsUUFIcEI7QUFJTEMsTUFBQUEsSUFBSSxFQUFFbUIsY0FBYyxDQUFDbkIsSUFKaEI7QUFLTEMsTUFBQUEsT0FBTyxFQUFFa0IsY0FBYyxDQUFDbEI7QUFMbkIsS0FBVDtBQU9IOztBQUFBO0FBQ0osQ0F0QkcsQ0FGSjtlQTRCZVYsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7QWRkcmVzcywgQ3VzdG9tZXJzfSBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHtpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuY29uc3QgYWRkcmVzc1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4vLyBhZGRyZXNzIHJvdXRlIHRvIGNyZWF0ZSBhZGRyZXNzXG5hZGRyZXNzUm91dGVyLnBvc3QoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgIHthZGRyZXNzLCBwb3N0Y29kZSwgY2l0eSwgY291bnRyeX0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7aWQ6IGN1c3RvbWVySWQgfX0pO1xuICAgIGNvbnN0IGN1c3RBZGRyZXNzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWQsIHBvc3Rjb2RlOiBwb3N0Y29kZSwgYWRkcmVzczogYWRkcmVzc319KTtcbiAgICBjb25zdCBjQWRkcmVzcyA9IGF3YWl0IEFkZHJlc3MuZmluZE9uZSh7d2hlcmU6IHtDdXN0b21lcklkOiBjdXN0b21lcklkfX0pO1xuXG4gICAgaWYgKCFjdXN0b21lcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkN1c3RvbWVyIE5vdCBGb3VuZFwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZSBpZiAoY3VzdEFkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFkZHJlc3MgYWxyZWFkeSByZWdpc3RlcmVkXCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IGNvdW50cnlcbiAgICAgICAgfSlcbiAgICB9ZWxzZSBpZiAoY0FkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRvIHVzZSBuZXcgYWRkcmVzcywgdXBkYXRlLlwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZXtcbiAgICAgICAgQWRkcmVzcy5jcmVhdGUoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5LFxuICAgICAgICAgICAgQ3VzdG9tZXJJZDogY3VzdG9tZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5XG4gICAgICAgIH0pXG4gICAgfVxufSkgIFxuKTtcbi8vIGFkZHJlc3Mgcm91dGUgdG8gdXBkYXRlIGFkZHJlc3NcbmFkZHJlc3NSb3V0ZXIucHV0KFxuICAgICcvOmlkJywgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IGN1c3RvbWVyPSBhd2FpdCBBZGRyZXNzLmZpbmRPbmUoe3doZXJlOiB7Q3VzdG9tZXJJZDogaWR9fSk7XG5cbiAgICBpZiAoIWN1c3RvbWVyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgTm90IEZvdW5kXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBjdXN0b21lci5hZGRyZXNzID0gcmVxLmJvZHkuYWRkcmVzcyB8fCBjdXN0b21lci5hZGRyZXNzXG4gICAgICAgIGN1c3RvbWVyLnBvc3Rjb2RlID0gcmVxLmJvZHkucG9zdGNvZGUgfHwgY3VzdG9tZXIucG9zdGNvZGVcbiAgICAgICAgY3VzdG9tZXIuY2l0eSA9IHJlcS5ib2R5LmNpdHkgfHwgY3VzdG9tZXIuY2l0eVxuICAgICAgICBjdXN0b21lci5jb3VudHJ5ID0gcmVxLmJvZHkuY291bnRyeSB8fCBjdXN0b21lci5jb3VudHJ5XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBZGRyZXNzID0gYXdhaXQgY3VzdG9tZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogdXBkYXRlZEFkZHJlc3MuaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiB1cGRhdGVkQWRkcmVzcy5hZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHVwZGF0ZWRBZGRyZXNzLnBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogdXBkYXRlZEFkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IHVwZGF0ZWRBZGRyZXNzLmNvdW50cnksXG4gICAgICAgIH0pO1xuICAgIH07XG59KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCBhZGRyZXNzUm91dGVyO1xuIl19","map":{"version":3,"sources":["addressRouter.js"],"names":["addressRouter","express","Router","post","isAuth","req","res","address","postcode","city","country","body","customerId","customer","id","Customers","findOne","where","custAddress","Address","CustomerId","cAddress","status","send","message","create","put","params","updatedAddress","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport {Address, Customers} from '../models';\nimport {isAuth } from \"../utlis\";\n\nconst addressRouter = express.Router();\n// address route to create address\naddressRouter.post(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const  {address, postcode, city, country} = req.body;\n    const customerId = req.customer.id;\n    const customer = await Customers.findOne({where: {id: customerId }});\n    const custAddress = await Address.findOne({where: {CustomerId: customerId, postcode: postcode, address: address}});\n    const cAddress = await Address.findOne({where: {CustomerId: customerId}});\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else if (custAddress){\n        res.status(401).send({\n            message: \"Address already registered\",\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }else if (cAddress){\n        res.status(401).send({\n            message: \"To use new address, update.\",\n        });\n    }else{\n        Address.create({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country,\n            CustomerId: customerId\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }\n})  \n);\n// address route to update address\naddressRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer= await Address.findOne({where: {CustomerId: id}});\n\n    if (!customer) {\n        res.status(404).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        customer.address = req.body.address || customer.address\n        customer.postcode = req.body.postcode || customer.postcode\n        customer.city = req.body.city || customer.city\n        customer.country = req.body.country || customer.country\n        const updatedAddress = await customer.save();\n        res.send({\n            id: updatedAddress.id,\n            address: updatedAddress.address,\n            postcode: updatedAddress.postcode,\n            city: updatedAddress.city,\n            country: updatedAddress.country,\n        });\n    };\n})\n);\n\n\nexport default addressRouter;\n"]}},"mtime":1651661714919},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/orderRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.post('/', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const customerId = req.customer.id;\n  const addresses = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n  const addressId = addresses.id;\n  const createdOrder = {\n    totalPrice: req.body.totalPrice,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    AddressId: addressId,\n    CustomerId: customerId\n  };\n  const newOrder = await _models.Orderline.create(createdOrder);\n  res.status(201).send({\n    message: 'New Order Created',\n    data: newOrder\n  });\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJjdXN0b21lcklkIiwiY3VzdG9tZXIiLCJpZCIsImFkZHJlc3NlcyIsIkFkZHJlc3MiLCJmaW5kT25lIiwid2hlcmUiLCJDdXN0b21lcklkIiwiYWRkcmVzc0lkIiwiY3JlYXRlZE9yZGVyIiwidG90YWxQcmljZSIsImJvZHkiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwiQWRkcmVzc0lkIiwibmV3T3JkZXIiLCJPcmRlcmxpbmUiLCJjcmVhdGUiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csSUFBWixDQUNJLEdBREosRUFFSUMsYUFGSixFQUdJLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHRixHQUFHLENBQUNHLFFBQUosQ0FBYUMsRUFBaEM7QUFDQSxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsZ0JBQVFDLE9BQVIsQ0FBZ0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVA7QUFBYjtBQUFSLEdBQWhCLENBQXhCO0FBQ0EsUUFBTVEsU0FBUyxHQUFHTCxTQUFTLENBQUNELEVBQTVCO0FBRUEsUUFBTU8sWUFBWSxHQUFJO0FBQ3BCQyxJQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRCxVQUREO0FBRXBCRSxJQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ2EsSUFBSixDQUFTQyxVQUZEO0FBR3BCQyxJQUFBQSxRQUFRLEVBQUVmLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRSxRQUhDO0FBSXBCQyxJQUFBQSxhQUFhLEVBQUVoQixHQUFHLENBQUNhLElBQUosQ0FBU0csYUFKSjtBQUtwQkMsSUFBQUEsU0FBUyxFQUFFUCxTQUxTO0FBTXBCRCxJQUFBQSxVQUFVLEVBQUVQO0FBTlEsR0FBdEI7QUFRQSxRQUFNZ0IsUUFBUSxHQUFHLE1BQU1DLGtCQUFVQyxNQUFWLENBQWlCVCxZQUFqQixDQUF2QjtBQUNBVixFQUFBQSxHQUFHLENBQUNvQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFLG1CQUFYO0FBQWdDQyxJQUFBQSxJQUFJLEVBQUVOO0FBQXRDLEdBQXJCO0FBQ0QsQ0FmRCxDQUhKO2VBb0JldkIsVyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IHsgaXNBdXRoIH0gZnJvbSAnLi4vdXRsaXMnO1xuaW1wb3J0IHtPcmRlcmxpbmUsIEFkZHJlc3N9IGZyb20gJy4uL21vZGVscyc7XG5cblxuY29uc3Qgb3JkZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5vcmRlclJvdXRlci5wb3N0KFxuICAgICcvJyxcbiAgICBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbWVySWQgPSByZXEuY3VzdG9tZXIuaWQ7XG4gICAgICBjb25zdCBhZGRyZXNzZXMgPSBhd2FpdCBBZGRyZXNzLmZpbmRPbmUoe3doZXJlOiB7Q3VzdG9tZXJJZDogY3VzdG9tZXJJZH19KVxuICAgICAgY29uc3QgYWRkcmVzc0lkID0gYWRkcmVzc2VzLmlkXG4gICAgICBcbiAgICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9ICh7XG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICAgIHRheFByaWNlOiByZXEuYm9keS50YXhQcmljZSxcbiAgICAgICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcbiAgICAgICAgQWRkcmVzc0lkOiBhZGRyZXNzSWQsXG4gICAgICAgIEN1c3RvbWVySWQ6IGN1c3RvbWVySWRcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV3T3JkZXIgPSBhd2FpdCBPcmRlcmxpbmUuY3JlYXRlKGNyZWF0ZWRPcmRlcik7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgT3JkZXIgQ3JlYXRlZCcsIGRhdGE6IG5ld09yZGVyfSk7XG4gICAgfSlcbik7XG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjsiXX0=","map":{"version":3,"sources":["orderRouter.js"],"names":["orderRouter","express","Router","post","isAuth","req","res","customerId","customer","id","addresses","Address","findOne","where","CustomerId","addressId","createdOrder","totalPrice","body","itemsPrice","taxPrice","shippingPrice","AddressId","newOrder","Orderline","create","status","send","message","data"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CACI,GADJ,EAEIC,aAFJ,EAGI,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAAhC;AACA,QAAMC,SAAS,GAAG,MAAMC,gBAAQC,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAEP;AAAb;AAAR,GAAhB,CAAxB;AACA,QAAMQ,SAAS,GAAGL,SAAS,CAACD,EAA5B;AAEA,QAAMO,YAAY,GAAI;AACpBC,IAAAA,UAAU,EAAEZ,GAAG,CAACa,IAAJ,CAASD,UADD;AAEpBE,IAAAA,UAAU,EAAEd,GAAG,CAACa,IAAJ,CAASC,UAFD;AAGpBC,IAAAA,QAAQ,EAAEf,GAAG,CAACa,IAAJ,CAASE,QAHC;AAIpBC,IAAAA,aAAa,EAAEhB,GAAG,CAACa,IAAJ,CAASG,aAJJ;AAKpBC,IAAAA,SAAS,EAAEP,SALS;AAMpBD,IAAAA,UAAU,EAAEP;AANQ,GAAtB;AAQA,QAAMgB,QAAQ,GAAG,MAAMC,kBAAUC,MAAV,CAAiBT,YAAjB,CAAvB;AACAV,EAAAA,GAAG,CAACoB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEN;AAAtC,GAArB;AACD,CAfD,CAHJ;eAoBevB,W","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport { isAuth } from '../utlis';\nimport {Orderline, Address} from '../models';\n\n\nconst orderRouter = express.Router();\n\norderRouter.post(\n    '/',\n    isAuth,\n    expressAsyncHandler(async (req, res) => {\n      const customerId = req.customer.id;\n      const addresses = await Address.findOne({where: {CustomerId: customerId}})\n      const addressId = addresses.id\n      \n      const createdOrder = ({\n        totalPrice: req.body.totalPrice,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        AddressId: addressId,\n        CustomerId: customerId\n      });\n      const newOrder = await Orderline.create(createdOrder);\n      res.status(201).send({ message: 'New Order Created', data: newOrder});\n    })\n);\nexport default orderRouter;"]}},"mtime":1651074726295},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/data.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products as javascript object/module\nmodule.exports = {\n  products: [{\n    id: '1',\n    name: 'Meal 1',\n    image: '/images/dinners/product-1.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '2',\n    name: 'Meal 2',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '3',\n    name: 'Meal 3',\n    image: '/images/dinners/product-3.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '4',\n    name: 'Meal 4',\n    image: '/images/dinners/product-4.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '5',\n    name: 'Meal 5',\n    image: '/images/dinners/product-5.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '6',\n    name: 'Meal 6',\n    image: '/images/dinners/product-6.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '7',\n    name: 'Meal 7',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 0\n  }, {\n    id: '8',\n    name: 'Meal 8',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '9',\n    name: 'Meal 9',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInByb2R1Y3RzIiwiaWQiLCJuYW1lIiwiaW1hZ2UiLCJwcmljZSIsImRlc2NyaXAiLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWdCO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBRFEsRUFVUjtBQUNFTCxJQUFBQSxFQUFFLEVBQUUsR0FETjtBQUVFQyxJQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsK0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEtBSlQ7QUFLRUMsSUFBQUEsT0FBTyxFQUFFLDJEQUxYO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQVZRLEVBa0JSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEJRLEVBMEJSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUJRLEVBa0NSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbENRLEVBMENSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUNRLEVBa0RSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbERRLEVBMERSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMURRLEVBa0VSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEVRO0FBREUsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIGFzIGphdmFzY3JpcHQgb2JqZWN0L21vZHVsZVxubW9kdWxlLmV4cG9ydHMgPXtcbiAgICBwcm9kdWN0czogW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnTWVhbCAxJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0xLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAnTWVhbCAyJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0yLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIG5hbWU6ICdNZWFsIDMnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTMuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc0JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNCcsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNC5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDgsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzUnLFxuICAgICAgICBuYW1lOiAnTWVhbCA1JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC01LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnNicsXG4gICAgICAgIG5hbWU6ICdNZWFsIDYnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTYuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNycsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNy5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzgnLFxuICAgICAgICBuYW1lOiAnTWVhbCA4JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC03LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnOScsXG4gICAgICAgIG5hbWU6ICdNZWFsIDknLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTIuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuICAiXX0=","map":{"version":3,"sources":["data.js"],"names":["module","exports","products","id","name","image","price","descrip","countInStock"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAgB;AACZC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EAUR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAVQ,EAkBR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlBQ,EA0BR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1BQ,EAkCR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlCQ,EA0CR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1CQ,EAkDR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlDQ,EA0DR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1DQ,EAkER;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlEQ;AADE,CAAhB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/","sourcesContent":["// products as javascript object/module\nmodule.exports ={\n    products: [\n      {\n        id: '1',\n        name: 'Meal 1',\n        image: '/images/dinners/product-1.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n  \n      },\n      {\n        id: '2',\n        name: 'Meal 2',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '3',\n        name: 'Meal 3',\n        image: '/images/dinners/product-3.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '4',\n        name: 'Meal 4',\n        image: '/images/dinners/product-4.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '5',\n        name: 'Meal 5',\n        image: '/images/dinners/product-5.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '6',\n        name: 'Meal 6',\n        image: '/images/dinners/product-6.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '7',\n        name: 'Meal 7',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 0,\n      },\n      {\n        id: '8',\n        name: 'Meal 8',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '9',\n        name: 'Meal 9',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n    ],\n  };\n  "]}},"mtime":1651661889901},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/customerRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst customerRouter = _express.default.Router(); // Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\n\n\ncustomerRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    _models.Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n    }).then(createAdmin => res.send(createAdmin));\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n})); // Route to login customers\n\ncustomerRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const signinCustomer = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (!signinCustomer) {\n    res.status(401).send({\n      message: \"Invalid email or password\"\n    });\n  } else {\n    _bcrypt.default.compare(password, signinCustomer.password).then(async match => {\n      if (!match) res.send({\n        error: \"wrong email and password combo\"\n      });\n    });\n\n    res.send({\n      id: signinCustomer.id,\n      firstname: signinCustomer.firstName,\n      lastname: signinCustomer.lastName,\n      email: signinCustomer.email,\n      isAdmin: signinCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(signinCustomer)\n    });\n  }\n\n  ;\n})); // register customers\n\ncustomerRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n  const customerEmail = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (customerEmail) {\n    res.status(401).send({\n      message: \"Email already exists\"\n    });\n  } else if (!customerEmail) {\n    _bcrypt.default.hash(password, 10).then(hash => {\n      _models.Customers.create({\n        firstName: firstname,\n        lastName: lastname,\n        email: email,\n        password: hash\n      });\n    });\n\n    res.send({\n      id: _models.Customers.id,\n      firstname: _models.Customers.firstName,\n      lastname: _models.Customers.lastName,\n      email: _models.Customers.email,\n      isAdmin: _models.Customers.isAdmin,\n      token: (0, _utlis.generateToken)(_models.Customers)\n    });\n  }\n\n  ;\n})); // Rout to update customer info\n\ncustomerRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: id\n    }\n  });\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    await _bcrypt.default.hash(password, 10).then(hash => {\n      customer.firstName = firstname || customer.firstName;\n      customer.lastName = lastname || customer.lastName;\n      customer.email = email || customer.email;\n      customer.password = hash || customer.password;\n    });\n    const updatedCustomer = await customer.save();\n    res.send({\n      id: updatedCustomer.id,\n      firstname: updatedCustomer.firstName,\n      lastname: updatedCustomer.lastName,\n      email: updatedCustomer.email,\n      isAdmin: updatedCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(updatedCustomer)\n    });\n  }\n\n  ;\n}));\nvar _default = customerRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyUm91dGVyLmpzIl0sIm5hbWVzIjpbImN1c3RvbWVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIkN1c3RvbWVycyIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJ0aGVuIiwiY3JlYXRlQWRtaW4iLCJzZW5kIiwiZXJyIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJib2R5Iiwic2lnbmluQ3VzdG9tZXIiLCJmaW5kT25lIiwid2hlcmUiLCJiY3J5cHQiLCJjb21wYXJlIiwibWF0Y2giLCJlcnJvciIsImlkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0b2tlbiIsImN1c3RvbWVyRW1haWwiLCJoYXNoIiwicHV0IiwiaXNBdXRoIiwicGFyYW1zIiwiY3VzdG9tZXIiLCJ1cGRhdGVkQ3VzdG9tZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFMQTtBQVFBLE1BQU1BLGNBQWMsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdkIsQyxDQUVBOzs7QUFDQUYsY0FBYyxDQUFDRyxHQUFmLENBQ0ksY0FESixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBbUI7QUFDeEMsTUFBRztBQUNEQyxzQkFBVUMsTUFBVixDQUFpQjtBQUNqQkMsTUFBQUEsU0FBUyxFQUFFLE9BRE07QUFFakJDLE1BQUFBLFFBQVEsRUFBRSxPQUZPO0FBR2pCQyxNQUFBQSxLQUFLLEVBQUUsa0JBSFU7QUFJakJDLE1BQUFBLFFBQVEsRUFBRSxVQUpPO0FBS2pCQyxNQUFBQSxPQUFPLEVBQUU7QUFMUSxLQUFqQixFQU1FQyxJQU5GLENBTU9DLFdBQVcsSUFBSVQsR0FBRyxDQUFDVSxJQUFKLENBQVNELFdBQVQsQ0FOdEI7QUFPRCxHQVJELENBUUMsT0FBTUUsR0FBTixFQUFVO0FBQ1BYLElBQUFB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QzNCLEtBQVQsR0FBaUJBLEtBQUssSUFBSTJCLFFBQVEsQ0FBQzNCLEtBQW5DO0FBQ0EyQixNQUFBQSxRQUFRLENBQUMxQixRQUFULEdBQW9Cc0IsSUFBSSxJQUFJSSxRQUFRLENBQUMxQixRQUFyQztBQUNILEtBTEssQ0FBTjtBQU1BLFVBQU0yQixlQUFlLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxJQUFULEVBQTlCO0FBQ0FsQyxJQUFBQSxHQUFHLENBQUNVLElBQUosQ0FBUztBQUNMYSxNQUFBQSxFQUFFLEVBQUVVLGVBQWUsQ0FBQ1YsRUFEZjtBQUVMQyxNQUFBQSxTQUFTLEVBQUVTLGVBQWUsQ0FBQzlCLFNBRnRCO0FBR0xzQixNQUFBQSxRQUFRLEVBQUVRLGVBQWUsQ0FBQzdCLFFBSHJCO0FBSUxDLE1BQUFBLEtBQUssRUFBRTRCLGVBQWUsQ0FBQzVCLEtBSmxCO0FBS0xFLE1BQUFBLE9BQU8sRUFBRTBCLGVBQWUsQ0FBQzFCLE9BTHBCO0FBTUxtQixNQUFBQSxLQUFLLEVBQUUsMEJBQWNPLGVBQWQ7QUFORixLQUFUO0FBUUg7O0FBQUE7QUFDSixDQTFCRyxDQUZKO2VBZ0NldEMsYyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7Q3VzdG9tZXJzfSBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuXG5jb25zdCBjdXN0b21lclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIFJvdXRlIHRvIGNyZWF0ZSBhbiBhZG1pbiB1c2VyLCBjYW4gYmUgdXBkYXRlZCB0byBnZW5lcmF0ZSBuZXcgYWRtaW5zIG5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gZW5jcnlwdCBwYXNzd29yZCBoZXJlXG5jdXN0b21lclJvdXRlci5nZXQoXG4gICAgJy9jcmVhdGVhZG1pbicsIFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT57XG4gICAgdHJ5e1xuICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICBmaXJzdE5hbWU6IFwiU2lyZW5cIixcbiAgICAgIGxhc3ROYW1lOiBcIk9jZWFuXCIsXG4gICAgICBlbWFpbDogXCJzaXJlbm9AZ21haWwuY29tXCIsXG4gICAgICBwYXNzd29yZDogXCJwYXNzd29yZFwiLFxuICAgICAgaXNBZG1pbjogXCIxXCJcbiAgICAgfSkudGhlbihjcmVhdGVBZG1pbiA9PiByZXMuc2VuZChjcmVhdGVBZG1pbikpIFxuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbiAgICB9XG59KSk7XG5cblxuXG4vLyBSb3V0ZSB0byBsb2dpbiBjdXN0b21lcnNcbmN1c3RvbWVyUm91dGVyLnBvc3QoXG4gICAgJy9zaWduaW4nLCBcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIFxuICAgIGNvbnN0IHNpZ25pbkN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbH0gfSk7XG4gIFxuICAgIGlmICghc2lnbmluQ3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgc2lnbmluQ3VzdG9tZXIucGFzc3dvcmQpLnRoZW4oYXN5bmMgKG1hdGNoKSA9PntcbiAgICAgICAgICAgIGlmKCFtYXRjaCkgcmVzLnNlbmQoe2Vycm9yOiBcIndyb25nIGVtYWlsIGFuZCBwYXNzd29yZCBjb21ib1wifSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiBzaWduaW5DdXN0b21lci5pZCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogc2lnbmluQ3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IHNpZ25pbkN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHNpZ25pbkN1c3RvbWVyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluQ3VzdG9tZXIuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pbkN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xuICBcbiAgfSlcbik7XG5cbi8vIHJlZ2lzdGVyIGN1c3RvbWVyc1xuY3VzdG9tZXJSb3V0ZXIucG9zdChcbiAgICAnL3JlZ2lzdGVyJywgXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lckVtYWlsID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7ZW1haWx9IH0pO1xuICAgIFxuICAgIGlmIChjdXN0b21lckVtYWlsKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoIWN1c3RvbWVyRW1haWwpe1xuXG4gICAgICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCkudGhlbigoaGFzaCk9PntcbiAgICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0bmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0bmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogQ3VzdG9tZXJzLmlkLFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBDdXN0b21lcnMuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IEN1c3RvbWVycy5sYXN0TmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBDdXN0b21lcnMuZW1haWwsXG4gICAgICAgICAgICBpc0FkbWluOiBDdXN0b21lcnMuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKEN1c3RvbWVycylcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgXG4gIH0pXG4gICk7XG4vLyBSb3V0IHRvIHVwZGF0ZSBjdXN0b21lciBpbmZvXG5jdXN0b21lclJvdXRlci5wdXQoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBDdXN0b21lcnMuZmluZE9uZSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcblxuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBOb3QgRm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICAgIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLDEwKS50aGVuKChoYXNoKT0+e1xuICAgICAgICAgICAgY3VzdG9tZXIuZmlyc3ROYW1lID0gZmlyc3RuYW1lIHx8IGN1c3RvbWVyLmZpcnN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIubGFzdE5hbWUgPSBsYXN0bmFtZSB8fCBjdXN0b21lci5sYXN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIuZW1haWwgPSBlbWFpbCB8fCBjdXN0b21lci5lbWFpbFxuICAgICAgICAgICAgY3VzdG9tZXIucGFzc3dvcmQgPSBoYXNoIHx8IGN1c3RvbWVyLnBhc3N3b3JkXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyLnNhdmUoKTsgXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiB1cGRhdGVkQ3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBmaXJzdG5hbWU6IHVwZGF0ZWRDdXN0b21lci5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0bmFtZTogdXBkYXRlZEN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVwZGF0ZWRDdXN0b21lci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRDdXN0b21lci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZEN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xufSlcbik7XG4gIFxuICBcbmV4cG9ydCBkZWZhdWx0IGN1c3RvbWVyUm91dGVyO1xuIl19","map":{"version":3,"sources":["customerRouter.js"],"names":["customerRouter","express","Router","get","req","res","Customers","create","firstName","lastName","email","password","isAdmin","then","createAdmin","send","err","status","message","post","body","signinCustomer","findOne","where","bcrypt","compare","match","error","id","firstname","lastname","token","customerEmail","hash","put","isAuth","params","customer","updatedCustomer","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport bcrypt from 'bcrypt';\nimport expressAsyncHandler from 'express-async-handler';\nimport {Customers} from \"../models\";\nimport { generateToken, isAuth } from \"../utlis\";\n\n\nconst customerRouter = express.Router();\n\n// Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\ncustomerRouter.get(\n    '/createadmin', \n    expressAsyncHandler( async (req, res) =>{\n    try{\n      Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n     }).then(createAdmin => res.send(createAdmin)) \n    }catch(err){\n        res.status(500).send({message: err.message});\n    }\n}));\n\n\n\n// Route to login customers\ncustomerRouter.post(\n    '/signin', \n    expressAsyncHandler( async (req, res) => {\n    const { email, password } = req.body;\n  \n    const signinCustomer = await Customers.findOne({ where: { email} });\n  \n    if (!signinCustomer) {\n        res.status(401).send({\n            message: \"Invalid email or password\",\n        });\n    }else{\n        bcrypt.compare(password, signinCustomer.password).then(async (match) =>{\n            if(!match) res.send({error: \"wrong email and password combo\"});\n        })\n        res.send({\n            id: signinCustomer.id,\n            firstname: signinCustomer.firstName,\n            lastname: signinCustomer.lastName,\n            email: signinCustomer.email,\n            isAdmin: signinCustomer.isAdmin,\n            token: generateToken(signinCustomer)\n        });\n    };\n  \n  })\n);\n\n// register customers\ncustomerRouter.post(\n    '/register', \n    expressAsyncHandler( async (req, res) => {\n    const {firstname,lastname,password,email} = req.body;\n    const customerEmail = await Customers.findOne({where: {email} });\n    \n    if (customerEmail) {\n        res.status(401).send({\n            message: \"Email already exists\",\n        });\n    }\n    else if(!customerEmail){\n\n        bcrypt.hash(password, 10).then((hash)=>{\n        Customers.create({\n            firstName: firstname,\n            lastName: lastname,\n            email: email,\n            password: hash\n            });\n        });\n  \n        res.send({\n            id: Customers.id,\n            firstname: Customers.firstName,\n            lastname: Customers.lastName,\n            email: Customers.email,\n            isAdmin: Customers.isAdmin,\n            token: generateToken(Customers)\n        });\n    };\n  \n  })\n  );\n// Rout to update customer info\ncustomerRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer = await Customers.findOne({where: {id: id}});\n    const {firstname,lastname,password,email} = req.body;\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        await bcrypt.hash(password,10).then((hash)=>{\n            customer.firstName = firstname || customer.firstName\n            customer.lastName = lastname || customer.lastName\n            customer.email = email || customer.email\n            customer.password = hash || customer.password\n        })\n        const updatedCustomer = await customer.save(); \n        res.send({\n            id: updatedCustomer.id,\n            firstname: updatedCustomer.firstName,\n            lastname: updatedCustomer.lastName,\n            email: updatedCustomer.email,\n            isAdmin: updatedCustomer.isAdmin,\n            token: generateToken(updatedCustomer)\n        });\n    };\n})\n);\n  \n  \nexport default customerRouter;\n"]}},"mtime":1651661817597},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n/* eslint-disable global-require */\n\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = require(`${__dirname}/../config/config.js`)[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js').forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJfX2Rpcm5hbWUiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJqb2luIiwiRGF0YVR5cGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBO0FBQ0E7QUFFQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFFQSxNQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQzs7QUFDQSxNQUFNQyxNQUFNLEdBQUdSLE9BQU8sQ0FBRSxHQUFFUyxTQUFZLHNCQUFoQixDQUFQLENBQThDSixHQUE5QyxDQUFmOztBQUNBLE1BQU1LLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJSCxNQUFNLENBQUNJLGdCQUFYLEVBQTZCO0FBQzNCRCxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWUcsTUFBTSxDQUFDSSxnQkFBbkIsQ0FBZCxFQUFvREosTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztBQUNMRyxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjTSxNQUFNLENBQUNLLFFBQXJCLEVBQStCTCxNQUFNLENBQUNNLFFBQXRDLEVBQWdETixNQUFNLENBQUNPLFFBQXZELEVBQWlFUCxNQUFqRSxDQUFaO0FBQ0Q7O0FBRURULEVBQUUsQ0FDQ2lCLFdBREgsQ0FDZVAsU0FEZixFQUVHUSxNQUZILENBRVVDLElBQUksSUFBS0EsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUE4QkQsSUFBSSxLQUFLZixRQUF2QyxJQUFxRGUsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBRjFGLEVBR0dDLE9BSEgsQ0FHV0gsSUFBSSxJQUFJO0FBQ2YsUUFBTUksS0FBSyxHQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVkLFNBQVYsRUFBcUJTLElBQXJCLENBQUQsQ0FBUCxDQUFvQ1AsU0FBcEMsRUFBK0NULFNBQVMsQ0FBQ3NCLFNBQXpELENBQWQ7O0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FOSDtBQVFBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXdCTyxTQUFTLElBQUk7QUFDbkMsTUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtBQUMzQm5CLElBQUFBLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7QUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDUixTQUFILEdBQWVBLFNBQWY7QUFFQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1keW5hbWljLXJlcXVpcmUgKi9cbi8vIGltcG9ydGFudCBmaWxlIGdlbmVyYXRlZCBieSBzZXF1bGllemVcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShgJHtfX2Rpcm5hbWUgIH0vLi4vY29uZmlnL2NvbmZpZy5qc2ApW2Vudl07XG5jb25zdCBkYiA9IHt9O1xuXG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShjb25maWcuZGF0YWJhc2UsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcpO1xufVxuXG5mc1xuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxuICAuZmlsdGVyKGZpbGUgPT4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpKVxuICAuZm9yRWFjaChmaWxlID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5cbk9iamVjdC5rZXlzKGRiKS5mb3JFYWNoKG1vZGVsTmFtZSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5cbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjtcbiJdfQ==","map":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":";;AAAA;;AACA;AACA;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AAEA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,MAAMC,MAAM,GAAGR,OAAO,CAAE,GAAES,SAAY,sBAAhB,CAAP,CAA8CJ,GAA9C,CAAf;;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;AAC3BD,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEUC,IAAI,IAAKA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAF1F,EAGGC,OAHH,CAGWH,IAAI,IAAI;AACf,QAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;AACAd,EAAAA,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CANH;AAQAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwBO,SAAS,IAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname  }/../config/config.js`)[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js'))\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]}},"mtime":1651661614846},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nrequire('dotenv').config(); // config file to connect to the db\n\n\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJlbnYiLCJQQVNTV09SRCIsIkRBVEFCQVNFIiwiSE9TVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUNBOzs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsaUJBQWU7QUFDYixnQkFBWSxNQURDO0FBRWIsZ0JBQVlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUZYO0FBR2IsZ0JBQVlGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxRQUhYO0FBSWIsWUFBUUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSlA7QUFLYixlQUFXO0FBTEUsR0FEQTtBQVFmLFVBQVE7QUFDTixnQkFBWSxTQUROO0FBRU4sZ0JBQVksSUFGTjtBQUdOLGdCQUFZLGVBSE47QUFJTixZQUFRLFdBSkY7QUFLTixlQUFXO0FBTEwsR0FSTztBQWVmLGdCQUFjO0FBQ1osZ0JBQVksTUFEQTtBQUVaLGdCQUFZLElBRkE7QUFHWixnQkFBWSxxQkFIQTtBQUlaLFlBQVEsV0FKSTtBQUtaLGVBQVc7QUFMQztBQWZDLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcbi8vIGNvbmZpZyBmaWxlIHRvIGNvbm5lY3QgdG8gdGhlIGRiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJkZXZlbG9wbWVudFwiOiB7XG4gICAgXCJ1c2VybmFtZVwiOiBcInJvb3RcIixcbiAgICBcInBhc3N3b3JkXCI6IHByb2Nlc3MuZW52LlBBU1NXT1JELFxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREFUQUJBU0UsXG4gICAgXCJob3N0XCI6IHByb2Nlc3MuZW52LkhPU1QsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInRlc3RcIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb29jbGV0XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV90ZXN0XCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInByb2R1Y3Rpb25cIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb290XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV9wcm9kdWN0aW9uXCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxufVxuXG4iXX0=","map":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","process","env","PASSWORD","DATABASE","HOST"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB;AACf,iBAAe;AACb,gBAAY,MADC;AAEb,gBAAYC,OAAO,CAACC,GAAR,CAAYC,QAFX;AAGb,gBAAYF,OAAO,CAACC,GAAR,CAAYE,QAHX;AAIb,YAAQH,OAAO,CAACC,GAAR,CAAYG,IAJP;AAKb,eAAW;AALE,GADA;AAQf,UAAQ;AACN,gBAAY,SADN;AAEN,gBAAY,IAFN;AAGN,gBAAY,eAHN;AAIN,YAAQ,WAJF;AAKN,eAAW;AALL,GARO;AAef,gBAAc;AACZ,gBAAY,MADA;AAEZ,gBAAY,IAFA;AAGZ,gBAAY,qBAHA;AAIZ,YAAQ,WAJI;AAKZ,eAAW;AALC;AAfC,CAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/","sourcesContent":["require('dotenv').config()\n// config file to connect to the db\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n}\n\n"]}},"mtime":1651661494824},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Address.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Address = sequelize.define(\"Address\", {\n    address: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    city: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    postcode: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    country: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    }\n  });\n\n  Address.associate = models => {\n    Address.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Address.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Address;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3MuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkFkZHJlc3MiLCJkZWZpbmUiLCJhZGRyZXNzIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJjaXR5IiwicG9zdGNvZGUiLCJjb3VudHJ5IiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiQ3VzdG9tZXJzIiwib25EZWxldGUiLCJoYXNNYW55IiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsT0FBTyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsU0FBakIsRUFBNEI7QUFDMUNDLElBQUFBLE9BQU8sRUFBRTtBQUNQQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQURpQztBQVExQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBUm9DO0FBZTFDRSxJQUFBQSxRQUFRLEVBQUU7QUFDUk4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0FmZ0M7QUFzQjFDRyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFQ7QUFFUEMsTUFBQUEsU0FBUyxFQUFFLEtBRko7QUFHUEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEg7QUF0QmlDLEdBQTVCLENBQWhCOztBQThCQVAsRUFBQUEsT0FBTyxDQUFDVyxTQUFSLEdBQXFCQyxNQUFELElBQVk7QUFDOUJaLElBQUFBLE9BQU8sQ0FBQ2EsU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxTQUF6QixFQUFvQztBQUNsQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRHdCLEtBQXBDO0FBR0FmLElBQUFBLE9BQU8sQ0FBQ2dCLE9BQVIsQ0FBZ0JKLE1BQU0sQ0FBQ0ssU0FBdkIsRUFBa0M7QUFDaENGLE1BQUFBLFFBQVEsRUFBRTtBQURzQixLQUFsQztBQUdELEdBUEQ7O0FBUUEsU0FBT2YsT0FBUDtBQUNELENBeENIIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkcmVzcyB0YWJsZSB3cml0dGVuIHVzaW5nIHNlcXVsaWV6ZSBzeW50YXhcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gICAgY29uc3QgQWRkcmVzcyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJBZGRyZXNzXCIsIHtcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2l0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwb3N0Y29kZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb3VudHJ5OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIEFkZHJlc3MuYXNzb2NpYXRlID0gKG1vZGVscykgPT4ge1xuICAgICAgQWRkcmVzcy5iZWxvbmdzVG8obW9kZWxzLkN1c3RvbWVycywge1xuICAgICAgICBvbkRlbGV0ZTogXCJjYXNjYWRlXCIsXG4gICAgICB9KTtcbiAgICAgIEFkZHJlc3MuaGFzTWFueShtb2RlbHMuT3JkZXJsaW5lLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFkZHJlc3M7XG4gIH07Il19","map":{"version":3,"sources":["Address.js"],"names":["module","exports","sequelize","DataTypes","Address","define","address","type","STRING","allowNull","validate","notEmpty","city","postcode","country","associate","models","belongsTo","Customers","onDelete","hasMany","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,OAAO,GAAGF,SAAS,CAACG,MAAV,CAAiB,SAAjB,EAA4B;AAC1CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KADiC;AAQ1CC,IAAAA,IAAI,EAAE;AACJL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KARoC;AAe1CE,IAAAA,QAAQ,EAAE;AACRN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAfgC;AAsB1CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH;AAtBiC,GAA5B,CAAhB;;AA8BAP,EAAAA,OAAO,CAACW,SAAR,GAAqBC,MAAD,IAAY;AAC9BZ,IAAAA,OAAO,CAACa,SAAR,CAAkBD,MAAM,CAACE,SAAzB,EAAoC;AAClCC,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGAf,IAAAA,OAAO,CAACgB,OAAR,CAAgBJ,MAAM,CAACK,SAAvB,EAAkC;AAChCF,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAGD,GAPD;;AAQA,SAAOf,OAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Address = sequelize.define(\"Address\", {\n      address: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      city: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      postcode: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      country: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    });\n    Address.associate = (models) => {\n      Address.belongsTo(models.Customers, {\n        onDelete: \"cascade\",\n      });\n      Address.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n    return Address;\n  };"]}},"mtime":1651661566304},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Customers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Customers = sequelize.define(\"Customers\", {\n    firstName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    lastName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isAdmin: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Customers.associate = models => {\n    Customers.hasMany(models.Address, {\n      onDelete: \"cascade\"\n    });\n    Customers.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Customers;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1c3RvbWVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ3VzdG9tZXJzIiwiZGVmaW5lIiwiZmlyc3ROYW1lIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQk9PTEVBTiIsImRlZmF1bHQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiQWRkcmVzcyIsIm9uRGVsZXRlIiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsU0FBUyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsV0FBakIsRUFBOEI7QUFDOUNDLElBQUFBLFNBQVMsRUFBRTtBQUNUQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUDtBQUVUQyxNQUFBQSxTQUFTLEVBQUUsS0FGRjtBQUdUQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRCxLQURtQztBQVE5Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQ1JMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURSO0FBRVJDLE1BQUFBLFNBQVMsRUFBRSxLQUZIO0FBR1JDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhGLEtBUm9DO0FBZTlDRSxJQUFBQSxLQUFLLEVBQUU7QUFDTE4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FmdUM7QUFzQjlDRyxJQUFBQSxRQUFRLEVBQUU7QUFDUlAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0F0Qm9DO0FBNkI5Q0ksSUFBQUEsT0FBTyxFQUFFO0FBQ1BSLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQURUO0FBRVBDLE1BQUFBLE9BQU8sRUFBRTtBQUZGO0FBN0JxQyxHQUE5QixDQUFsQjs7QUFrQ0FiLEVBQUFBLFNBQVMsQ0FBQ2MsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQ2hDZixJQUFBQSxTQUFTLENBQUNnQixPQUFWLENBQWtCRCxNQUFNLENBQUNFLE9BQXpCLEVBQWtDO0FBQ2hDQyxNQUFBQSxRQUFRLEVBQUU7QUFEc0IsS0FBbEM7QUFJQWxCLElBQUFBLFNBQVMsQ0FBQ2dCLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0ksU0FBekIsRUFBb0M7QUFDbENELE1BQUFBLFFBQVEsRUFBRTtBQUR3QixLQUFwQztBQUdELEdBUkQ7O0FBVUEsU0FBT2xCLFNBQVA7QUFDRCxDQTlDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGN1c3RvbWVyIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBDdXN0b21lcnMgPSBzZXF1ZWxpemUuZGVmaW5lKFwiQ3VzdG9tZXJzXCIsIHtcbiAgICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc0FkbWluOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9XG4gICAgfSk7XG4gICAgQ3VzdG9tZXJzLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5BZGRyZXNzLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICBcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5PcmRlcmxpbmUsIHtcbiAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgfSk7XG4gICAgfTtcbiAgXG4gICAgcmV0dXJuIEN1c3RvbWVycztcbiAgfTsiXX0=","map":{"version":3,"sources":["Customers.js"],"names":["module","exports","sequelize","DataTypes","Customers","define","firstName","type","STRING","allowNull","validate","notEmpty","lastName","email","password","isAdmin","BOOLEAN","default","associate","models","hasMany","Address","onDelete","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADP;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHD,KADmC;AAQ9CC,IAAAA,QAAQ,EAAE;AACRL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KARoC;AAe9CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfuC;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,OAAO,EAAE;AACPR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADT;AAEPC,MAAAA,OAAO,EAAE;AAFF;AA7BqC,GAA9B,CAAlB;;AAkCAb,EAAAA,SAAS,CAACc,SAAV,GAAuBC,MAAD,IAAY;AAChCf,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACE,OAAzB,EAAkC;AAChCC,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAIAlB,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACI,SAAzB,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GARD;;AAUA,SAAOlB,SAAP;AACD,CA9CH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Customers = sequelize.define(\"Customers\", {\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isAdmin: {\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      }\n    });\n    Customers.associate = (models) => {\n      Customers.hasMany(models.Address, {\n        onDelete: \"cascade\",\n      });\n  \n      Customers.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n  \n    return Customers;\n  };"]}},"mtime":1651661579788},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Orderline.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Orderline = sequelize.define(\"Orderline\", {\n    totalPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    itemsPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    shippingPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    taxPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isPaid: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    },\n    isDelivered: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Orderline.associate = models => {\n    Orderline.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Orderline.belongsTo(models.Address, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Orderline;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVybGluZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiT3JkZXJsaW5lIiwiZGVmaW5lIiwidG90YWxQcmljZSIsInR5cGUiLCJET1VCTEUiLCJhbGxvd051bGwiLCJ2YWxpZGF0ZSIsIm5vdEVtcHR5IiwiaXRlbXNQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0YXhQcmljZSIsImlzUGFpZCIsIkJPT0xFQU4iLCJkZWZhdWx0IiwiaXNEZWxpdmVyZWQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDdXN0b21lcnMiLCJvbkRlbGV0ZSIsIkFkZHJlc3MiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixXQUFqQixFQUE4QjtBQUM5Q0MsSUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQUROO0FBRVZDLE1BQUFBLFNBQVMsRUFBRSxLQUZEO0FBR1ZDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhBLEtBRGtDO0FBUTlDQyxJQUFBQSxVQUFVLEVBQUU7QUFDVkwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRE47QUFFVkMsTUFBQUEsU0FBUyxFQUFFLEtBRkQ7QUFHVkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEEsS0FSa0M7QUFlOUNFLElBQUFBLGFBQWEsRUFBRTtBQUNiTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFESDtBQUViQyxNQUFBQSxTQUFTLEVBQUUsS0FGRTtBQUdiQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRyxLQWYrQjtBQXNCOUNHLElBQUFBLFFBQVEsRUFBRTtBQUNSUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUjtBQUVSQyxNQUFBQSxTQUFTLEVBQUUsS0FGSDtBQUdSQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRixLQXRCb0M7QUE2QjlDSSxJQUFBQSxNQUFNLEVBQUM7QUFDTFIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BRFg7QUFFTEMsTUFBQUEsT0FBTyxFQUFFO0FBRkosS0E3QnVDO0FBaUM5Q0MsSUFBQUEsV0FBVyxFQUFDO0FBQ1ZYLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQUROO0FBRVZDLE1BQUFBLE9BQU8sRUFBRTtBQUZDO0FBakNrQyxHQUE5QixDQUFsQjs7QUF1Q0FiLEVBQUFBLFNBQVMsQ0FBQ2UsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQzlCaEIsSUFBQUEsU0FBUyxDQUFDaUIsU0FBVixDQUFvQkQsTUFBTSxDQUFDRSxTQUEzQixFQUFzQztBQUNwQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRDBCLEtBQXRDO0FBR0FuQixJQUFBQSxTQUFTLENBQUNpQixTQUFWLENBQW9CRCxNQUFNLENBQUNJLE9BQTNCLEVBQW9DO0FBQ2xDRCxNQUFBQSxRQUFRLEVBQUU7QUFEd0IsS0FBcEM7QUFHRCxHQVBIOztBQVFBLFNBQU9uQixTQUFQO0FBQ0QsQ0FqREgiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcmRlcmxpbmUgdGFibGUgd3JpdHRlbiB1c2luZyBzZXF1bGllemUgc3ludGF4XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICAgIGNvbnN0IE9yZGVybGluZSA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJPcmRlcmxpbmVcIiwge1xuICAgICAgdG90YWxQcmljZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRE9VQkxFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpdGVtc1ByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5ET1VCTEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNoaXBwaW5nUHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGF4UHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNQYWlkOntcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGRlZmF1bHQ6ICcwJyxcbiAgICAgIH0sXG4gICAgICBpc0RlbGl2ZXJlZDp7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgT3JkZXJsaW5lLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQ3VzdG9tZXJzLCB7XG4gICAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQWRkcmVzcywge1xuICAgICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgcmV0dXJuIE9yZGVybGluZTtcbiAgfTsiXX0=","map":{"version":3,"sources":["Orderline.js"],"names":["module","exports","sequelize","DataTypes","Orderline","define","totalPrice","type","DOUBLE","allowNull","validate","notEmpty","itemsPrice","shippingPrice","taxPrice","isPaid","BOOLEAN","default","isDelivered","associate","models","belongsTo","Customers","onDelete","Address"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KADkC;AAQ9CC,IAAAA,UAAU,EAAE;AACVL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KARkC;AAe9CE,IAAAA,aAAa,EAAE;AACbN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADH;AAEbC,MAAAA,SAAS,EAAE,KAFE;AAGbC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHG,KAf+B;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,MAAM,EAAC;AACLR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADX;AAELC,MAAAA,OAAO,EAAE;AAFJ,KA7BuC;AAiC9CC,IAAAA,WAAW,EAAC;AACVX,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADN;AAEVC,MAAAA,OAAO,EAAE;AAFC;AAjCkC,GAA9B,CAAlB;;AAuCAb,EAAAA,SAAS,CAACe,SAAV,GAAuBC,MAAD,IAAY;AAC9BhB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACE,SAA3B,EAAsC;AACpCC,MAAAA,QAAQ,EAAE;AAD0B,KAAtC;AAGAnB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACI,OAA3B,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GAPH;;AAQA,SAAOnB,SAAP;AACD,CAjDH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Orderline = sequelize.define(\"Orderline\", {\n      totalPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      itemsPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      shippingPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      taxPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isPaid:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n      isDelivered:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n    });\n\n    Orderline.associate = (models) => {\n        Orderline.belongsTo(models.Customers, {\n          onDelete: \"cascade\",\n        });\n        Orderline.belongsTo(models.Address, {\n          onDelete: \"cascade\",\n        });\n      }\n    return Orderline;\n  };"]}},"mtime":1651661640433},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/utlis.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _configa = _interopRequireDefault(require(\"./config/configa\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable arrow-body-style */\n// function to generate a token for a customer\nconst generateToken = customer => {\n  return _jsonwebtoken.default.sign({\n    id: customer.id,\n    firstname: customer.firstName,\n    lastname: customer.lastName,\n    email: customer.email,\n    isAdmin: customer.isAdmin\n  }, _configa.default.JWT_SECRET);\n}; // function to check if the user is an authorizaed user\n\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n\n    _jsonwebtoken.default.verify(token, _configa.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.customer = data;\n        next();\n      }\n    });\n  }\n}; // function to check if the current logged in customer is an admin\n\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for this admin user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0bGlzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJjdXN0b21lciIsImp3dCIsInNpZ24iLCJpZCIsImZpcnN0bmFtZSIsImZpcnN0TmFtZSIsImxhc3RuYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlclRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBO0FBQ08sTUFBTUEsYUFBYSxHQUFJQyxRQUFELElBQWM7QUFDdkMsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxFQUFFLEVBQUVILFFBQVEsQ0FBQ0csRUFEZjtBQUVFQyxJQUFBQSxTQUFTLEVBQUVKLFFBQVEsQ0FBQ0ssU0FGdEI7QUFHRUMsSUFBQUEsUUFBUSxFQUFFTixRQUFRLENBQUNPLFFBSHJCO0FBSUVDLElBQUFBLEtBQUssRUFBRVIsUUFBUSxDQUFDUSxLQUpsQjtBQUtFQyxJQUFBQSxPQUFPLEVBQUVULFFBQVEsQ0FBQ1M7QUFMcEIsR0FESyxFQVFMQyxpQkFBT0MsVUFSRixDQUFQO0FBVUgsQ0FYTSxDLENBYVA7Ozs7O0FBQ08sTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW1CO0FBQ3ZDLFFBQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztBQUNBLE1BQUcsQ0FBQ0YsV0FBSixFQUFnQjtBQUNkRixJQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUU7QUFBVixLQUFyQjtBQUNELEdBRkQsTUFFSztBQUNILFVBQU1DLEtBQUssR0FBR04sV0FBVyxDQUFDTyxLQUFaLENBQWtCLENBQWxCLEVBQW9CUCxXQUFXLENBQUNRLE1BQWhDLENBQWQ7O0FBQ0F2QiwwQkFBSXdCLE1BQUosQ0FBV0gsS0FBWCxFQUFrQlosaUJBQU9DLFVBQXpCLEVBQXFDLENBQUNlLEdBQUQsRUFBTUMsSUFBTixLQUFjO0FBQ2pELFVBQUdELEdBQUgsRUFBTztBQUNMWixRQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxVQUFBQSxPQUFPLEVBQUU7QUFBVixTQUFyQjtBQUNELE9BRkQsTUFFSztBQUNIUixRQUFBQSxHQUFHLENBQUNiLFFBQUosR0FBZTJCLElBQWY7QUFDQVosUUFBQUEsSUFBSTtBQUNMO0FBQ0YsS0FQRDtBQVFEO0FBQ0YsQ0FmTSxDLENBZ0JQOzs7OztBQUNPLE1BQU1OLE9BQU8sR0FBRyxDQUFDSSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN6QyxNQUFJRixHQUFHLENBQUNiLFFBQUosSUFBZ0JhLEdBQUcsQ0FBQ2IsUUFBSixDQUFhUyxPQUFqQyxFQUEwQztBQUN4Q00sSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuaW1wb3J0IGp3dCAgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnL2NvbmZpZ2EnO1xuXG4vLyBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHRva2VuIGZvciBhIGN1c3RvbWVyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9IChjdXN0b21lcikgPT4ge1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgIHtcbiAgICAgICAgaWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICBmaXJzdG5hbWU6IGN1c3RvbWVyLmZpcnN0TmFtZSxcbiAgICAgICAgbGFzdG5hbWU6IGN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICAgIGlzQWRtaW46IGN1c3RvbWVyLmlzQWRtaW5cbiAgICAgIH0sXG4gICAgICBjb25maWcuSldUX1NFQ1JFVFxuICAgICk7XG59O1xuXG4vLyBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgdXNlciBpcyBhbiBhdXRob3JpemFlZCB1c2VyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PntcbiAgY29uc3QgYmVhcmVyVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZighYmVhcmVyVG9rZW4pe1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkJ30pO1xuICB9ZWxzZXtcbiAgICBjb25zdCB0b2tlbiA9IGJlYXJlclRva2VuLnNsaWNlKDcsYmVhcmVyVG9rZW4ubGVuZ3RoKTtcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGF0YSkgPT57XG4gICAgICBpZihlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVxLmN1c3RvbWVyID0gZGF0YTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbi8vIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBjdXJyZW50IGxvZ2dlZCBpbiBjdXN0b21lciBpcyBhbiBhZG1pblxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5jdXN0b21lciAmJiByZXEuY3VzdG9tZXIuaXNBZG1pbikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3QgdmFsaWQgZm9yIHRoaXMgYWRtaW4gdXNlcicgfSk7XG4gIH1cbn07Il19","map":{"version":3,"sources":["utlis.js"],"names":["generateToken","customer","jwt","sign","id","firstname","firstName","lastname","lastName","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"mappings":";;;;;;;AACA;;AACA;;;;AAFA;AAIA;AACO,MAAMA,aAAa,GAAIC,QAAD,IAAc;AACvC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,EAAE,EAAEH,QAAQ,CAACG,EADf;AAEEC,IAAAA,SAAS,EAAEJ,QAAQ,CAACK,SAFtB;AAGEC,IAAAA,QAAQ,EAAEN,QAAQ,CAACO,QAHrB;AAIEC,IAAAA,KAAK,EAAER,QAAQ,CAACQ,KAJlB;AAKEC,IAAAA,OAAO,EAAET,QAAQ,CAACS;AALpB,GADK,EAQLC,iBAAOC,UARF,CAAP;AAUH,CAXM,C,CAaP;;;;;AACO,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAmB;AACvC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAG,CAACF,WAAJ,EAAgB;AACdF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD,GAFD,MAEK;AACH,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAoBP,WAAW,CAACQ,MAAhC,CAAd;;AACAvB,0BAAIwB,MAAJ,CAAWH,KAAX,EAAkBZ,iBAAOC,UAAzB,EAAqC,CAACe,GAAD,EAAMC,IAAN,KAAc;AACjD,UAAGD,GAAH,EAAO;AACLZ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAE;AAAV,SAArB;AACD,OAFD,MAEK;AACHR,QAAAA,GAAG,CAACb,QAAJ,GAAe2B,IAAf;AACAZ,QAAAA,IAAI;AACL;AACF,KAPD;AAQD;AACF,CAfM,C,CAgBP;;;;;AACO,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,QAAJ,IAAgBa,GAAG,CAACb,QAAJ,CAAaS,OAAjC,EAA0C;AACxCM,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/","sourcesContent":["/* eslint-disable arrow-body-style */\nimport jwt  from 'jsonwebtoken';\nimport config  from './config/configa';\n\n// function to generate a token for a customer\nexport const generateToken = (customer) => {\n    return jwt.sign(\n      {\n        id: customer.id,\n        firstname: customer.firstName,\n        lastname: customer.lastName,\n        email: customer.email,\n        isAdmin: customer.isAdmin\n      },\n      config.JWT_SECRET\n    );\n};\n\n// function to check if the user is an authorizaed user\nexport const isAuth = (req, res, next) =>{\n  const bearerToken = req.headers.authorization;\n  if(!bearerToken){\n    res.status(401).send({message: 'Token is not supplied'});\n  }else{\n    const token = bearerToken.slice(7,bearerToken.length);\n    jwt.verify(token, config.JWT_SECRET, (err, data) =>{\n      if(err){\n        res.status(401).send({message: 'Invalid Token'});\n      }else{\n        req.customer = data;\n        next();\n      }\n    })\n  }\n}\n// function to check if the current logged in customer is an admin\nexport const isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Token is not valid for this admin user' });\n  }\n};"]}},"mtime":1651662123922},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/configa.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// config file to generate the secrect variable for the jwt token\n_dotenv.default.config();\n\nvar _default = {\n  JWT_SECRET: process.env.JWT_SECRET\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZ2EuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQURBO0FBR0FBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGO0FBRFgsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbmZpZyBmaWxlIHRvIGdlbmVyYXRlIHRoZSBzZWNyZWN0IHZhcmlhYmxlIGZvciB0aGUgand0IHRva2VuXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxufTsiXX0=","map":{"version":3,"sources":["configa.js"],"names":["dotenv","config","JWT_SECRET","process","env"],"mappings":";;;;;;;AACA;;;;AADA;AAGAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYF;AADX,C","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/config/","sourcesContent":["// config file to generate the secrect variable for the jwt token\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  JWT_SECRET: process.env.JWT_SECRET,\n};"]}},"mtime":1651661530707},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/addressRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst addressRouter = _express.default.Router(); // address route to create address\n\n\naddressRouter.post('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    address,\n    postcode,\n    city,\n    country\n  } = req.body;\n  const customerId = req.customer.id;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: customerId\n    }\n  });\n  const custAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId,\n      postcode: postcode,\n      address: address\n    }\n  });\n  const cAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else if (custAddress) {\n    res.status(401).send({\n      message: \"Address already registered\"\n    });\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  } else if (cAddress) {\n    res.status(401).send({\n      message: \"To use new address, update.\"\n    });\n  } else {\n    _models.Address.create({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country,\n      CustomerId: customerId\n    });\n\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  }\n})); // address route to update address\n\naddressRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Address.findOne({\n    where: {\n      CustomerId: id\n    }\n  });\n\n  if (!customer) {\n    res.status(404).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    customer.address = req.body.address || customer.address;\n    customer.postcode = req.body.postcode || customer.postcode;\n    customer.city = req.body.city || customer.city;\n    customer.country = req.body.country || customer.country;\n    const updatedAddress = await customer.save();\n    res.send({\n      id: updatedAddress.id,\n      address: updatedAddress.address,\n      postcode: updatedAddress.postcode,\n      city: updatedAddress.city,\n      country: updatedAddress.country\n    });\n  }\n\n  ;\n}));\nvar _default = addressRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHJlc3NSb3V0ZXIuanMiXSwibmFtZXMiOlsiYWRkcmVzc1JvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwiYWRkcmVzcyIsInBvc3Rjb2RlIiwiY2l0eSIsImNvdW50cnkiLCJib2R5IiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyIiwiaWQiLCJDdXN0b21lcnMiLCJmaW5kT25lIiwid2hlcmUiLCJjdXN0QWRkcmVzcyIsIkFkZHJlc3MiLCJDdXN0b21lcklkIiwiY0FkZHJlc3MiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNyZWF0ZSIsInB1dCIsInBhcmFtcyIsInVwZGF0ZWRBZGRyZXNzIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSkE7QUFNQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCLEMsQ0FDQTs7O0FBQ0FGLGFBQWEsQ0FBQ0csSUFBZCxDQUNJLE1BREosRUFDWUMsYUFEWixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTztBQUFDQyxJQUFBQSxPQUFEO0FBQVVDLElBQUFBLFFBQVY7QUFBb0JDLElBQUFBLElBQXBCO0FBQTBCQyxJQUFBQTtBQUExQixNQUFxQ0wsR0FBRyxDQUFDTSxJQUFoRDtBQUNBLFFBQU1DLFVBQVUsR0FBR1AsR0FBRyxDQUFDUSxRQUFKLENBQWFDLEVBQWhDO0FBQ0EsUUFBTUQsUUFBUSxHQUFHLE1BQU1FLGtCQUFVQyxPQUFWLENBQWtCO0FBQUNDLElBQUFBLEtBQUssRUFBRTtBQUFDSCxNQUFBQSxFQUFFLEVBQUVGO0FBQUw7QUFBUixHQUFsQixDQUF2QjtBQUNBLFFBQU1NLFdBQVcsR0FBRyxNQUFNQyxnQkFBUUgsT0FBUixDQUFnQjtBQUFDQyxJQUFBQSxLQUFLLEVBQUU7QUFBQ0csTUFBQUEsVUFBVSxFQUFFUixVQUFiO0FBQXlCSixNQUFB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TWtCLGNBQWMsR0FBRyxNQUFNZixRQUFRLENBQUNnQixJQUFULEVBQTdCO0FBQ0F2QixJQUFBQSxHQUFHLENBQUNpQixJQUFKLENBQVM7QUFDTFQsTUFBQUEsRUFBRSxFQUFFYyxjQUFjLENBQUNkLEVBRGQ7QUFFTFAsTUFBQUEsT0FBTyxFQUFFcUIsY0FBYyxDQUFDckIsT0FGbkI7QUFHTEMsTUFBQUEsUUFBUSxFQUFFb0IsY0FBYyxDQUFDcEIsUUFIcEI7QUFJTEMsTUFBQUEsSUFBSSxFQUFFbUIsY0FBYyxDQUFDbkIsSUFKaEI7QUFLTEMsTUFBQUEsT0FBTyxFQUFFa0IsY0FBYyxDQUFDbEI7QUFMbkIsS0FBVDtBQU9IOztBQUFBO0FBQ0osQ0F0QkcsQ0FGSjtlQTRCZVYsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7QWRkcmVzcywgQ3VzdG9tZXJzfSBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHtpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuY29uc3QgYWRkcmVzc1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4vLyBhZGRyZXNzIHJvdXRlIHRvIGNyZWF0ZSBhZGRyZXNzXG5hZGRyZXNzUm91dGVyLnBvc3QoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgIHthZGRyZXNzLCBwb3N0Y29kZSwgY2l0eSwgY291bnRyeX0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7aWQ6IGN1c3RvbWVySWQgfX0pO1xuICAgIGNvbnN0IGN1c3RBZGRyZXNzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWQsIHBvc3Rjb2RlOiBwb3N0Y29kZSwgYWRkcmVzczogYWRkcmVzc319KTtcbiAgICBjb25zdCBjQWRkcmVzcyA9IGF3YWl0IEFkZHJlc3MuZmluZE9uZSh7d2hlcmU6IHtDdXN0b21lcklkOiBjdXN0b21lcklkfX0pO1xuXG4gICAgaWYgKCFjdXN0b21lcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkN1c3RvbWVyIE5vdCBGb3VuZFwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZSBpZiAoY3VzdEFkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFkZHJlc3MgYWxyZWFkeSByZWdpc3RlcmVkXCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IGNvdW50cnlcbiAgICAgICAgfSlcbiAgICB9ZWxzZSBpZiAoY0FkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRvIHVzZSBuZXcgYWRkcmVzcywgdXBkYXRlLlwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZXtcbiAgICAgICAgQWRkcmVzcy5jcmVhdGUoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5LFxuICAgICAgICAgICAgQ3VzdG9tZXJJZDogY3VzdG9tZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5XG4gICAgICAgIH0pXG4gICAgfVxufSkgIFxuKTtcbi8vIGFkZHJlc3Mgcm91dGUgdG8gdXBkYXRlIGFkZHJlc3NcbmFkZHJlc3NSb3V0ZXIucHV0KFxuICAgICcvOmlkJywgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IGN1c3RvbWVyPSBhd2FpdCBBZGRyZXNzLmZpbmRPbmUoe3doZXJlOiB7Q3VzdG9tZXJJZDogaWR9fSk7XG5cbiAgICBpZiAoIWN1c3RvbWVyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgTm90IEZvdW5kXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBjdXN0b21lci5hZGRyZXNzID0gcmVxLmJvZHkuYWRkcmVzcyB8fCBjdXN0b21lci5hZGRyZXNzXG4gICAgICAgIGN1c3RvbWVyLnBvc3Rjb2RlID0gcmVxLmJvZHkucG9zdGNvZGUgfHwgY3VzdG9tZXIucG9zdGNvZGVcbiAgICAgICAgY3VzdG9tZXIuY2l0eSA9IHJlcS5ib2R5LmNpdHkgfHwgY3VzdG9tZXIuY2l0eVxuICAgICAgICBjdXN0b21lci5jb3VudHJ5ID0gcmVxLmJvZHkuY291bnRyeSB8fCBjdXN0b21lci5jb3VudHJ5XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBZGRyZXNzID0gYXdhaXQgY3VzdG9tZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogdXBkYXRlZEFkZHJlc3MuaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiB1cGRhdGVkQWRkcmVzcy5hZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHVwZGF0ZWRBZGRyZXNzLnBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogdXBkYXRlZEFkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IHVwZGF0ZWRBZGRyZXNzLmNvdW50cnksXG4gICAgICAgIH0pO1xuICAgIH07XG59KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCBhZGRyZXNzUm91dGVyO1xuIl19","map":{"version":3,"sources":["addressRouter.js"],"names":["addressRouter","express","Router","post","isAuth","req","res","address","postcode","city","country","body","customerId","customer","id","Customers","findOne","where","custAddress","Address","CustomerId","cAddress","status","send","message","create","put","params","updatedAddress","save"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAJA;AAMA,MAAMA,aAAa,GAAGC,iBAAQC,MAAR,EAAtB,C,CACA;;;AACAF,aAAa,CAACG,IAAd,CACI,MADJ,EACYC,aADZ,EAEI,kCAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAO;AAACC,IAAAA,OAAD;AAAUC,IAAAA,QAAV;AAAoBC,IAAAA,IAApB;AAA0BC,IAAAA;AAA1B,MAAqCL,GAAG,CAACM,IAAhD;AACA,QAAMC,UAAU,GAAGP,GAAG,CAACQ,QAAJ,CAAaC,EAAhC;AACA,QAAMD,QAAQ,GAAG,MAAME,kBAAUC,OAAV,CAAkB;AAACC,IAAAA,KAAK,EAAE;AAACH,MAAAA,EAAE,EAAEF;AAAL;AAAR,GAAlB,CAAvB;AACA,QAAMM,WAAW,GAAG,MAAMC,gBAAQH,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACG,MAAAA,UAAU,EAAER,UAAb;AAAyBJ,MAAAA,QAAQ,EAAEA,QAAnC;AAA6CD,MAAAA,OAAO,EAAEA;AAAtD;AAAR,GAAhB,CAA1B;AACA,QAAMc,QAAQ,GAAG,MAAMF,gBAAQH,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACG,MAAAA,UAAU,EAAER;AAAb;AAAR,GAAhB,CAAvB;;AAEA,MAAI,CAACC,QAAL,EAAe;AACXP,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,OAAO,EAAE;AADQ,KAArB;AAGH,GAJD,MAIM,IAAIN,WAAJ,EAAgB;AAClBZ,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,OAAO,EAAE;AADQ,KAArB;AAGAlB,IAAAA,GAAG,CAACiB,IAAJ,CAAS;AACLhB,MAAAA,OAAO,EAAEA,OADJ;AAELC,MAAAA,QAAQ,EAAEA,QAFL;AAGLC,MAAAA,IAAI,EAAEA,IAHD;AAILC,MAAAA,OAAO,EAAEA;AAJJ,KAAT;AAMH,GAVK,MAUA,IAAIW,QAAJ,EAAa;AACff,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,OAAO,EAAE;AADQ,KAArB;AAGH,GAJK,MAID;AACDL,oBAAQM,MAAR,CAAe;AACXlB,MAAAA,OAAO,EAAEA,OADE;AAEXC,MAAAA,QAAQ,EAAEA,QAFC;AAGXC,MAAAA,IAAI,EAAEA,IAHK;AAIXC,MAAAA,OAAO,EAAEA,OAJE;AAKXU,MAAAA,UAAU,EAAER;AALD,KAAf;;AAOAN,IAAAA,GAAG,CAACiB,IAAJ,CAAS;AACLhB,MAAAA,OAAO,EAAEA,OADJ;AAELC,MAAAA,QAAQ,EAAEA,QAFL;AAGLC,MAAAA,IAAI,EAAEA,IAHD;AAILC,MAAAA,OAAO,EAAEA;AAJJ,KAAT;AAMH;AACJ,CAxCG,CAFJ,E,CA4CA;;AACAV,aAAa,CAAC0B,GAAd,CACI,MADJ,EACYtB,aADZ,EAEI,kCAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAM;AAACQ,IAAAA;AAAD,MAAOT,GAAG,CAACsB,MAAjB;AACA,QAAMd,QAAQ,GAAE,MAAMM,gBAAQH,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACG,MAAAA,UAAU,EAAEN;AAAb;AAAR,GAAhB,CAAtB;;AAEA,MAAI,CAACD,QAAL,EAAe;AACXP,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,OAAO,EAAE;AADQ,KAArB;AAGH,GAJD,MAIK;AACDX,IAAAA,QAAQ,CAACN,OAAT,GAAmBF,GAAG,CAACM,IAAJ,CAASJ,OAAT,IAAoBM,QAAQ,CAACN,OAAhD;AACAM,IAAAA,QAAQ,CAACL,QAAT,GAAoBH,GAAG,CAACM,IAAJ,CAASH,QAAT,IAAqBK,QAAQ,CAACL,QAAlD;AACAK,IAAAA,QAAQ,CAACJ,IAAT,GAAgBJ,GAAG,CAACM,IAAJ,CAASF,IAAT,IAAiBI,QAAQ,CAACJ,IAA1C;AACAI,IAAAA,QAAQ,CAACH,OAAT,GAAmBL,GAAG,CAACM,IAAJ,CAASD,OAAT,IAAoBG,QAAQ,CAACH,OAAhD;AACA,UAAMkB,cAAc,GAAG,MAAMf,QAAQ,CAACgB,IAAT,EAA7B;AACAvB,IAAAA,GAAG,CAACiB,IAAJ,CAAS;AACLT,MAAAA,EAAE,EAAEc,cAAc,CAACd,EADd;AAELP,MAAAA,OAAO,EAAEqB,cAAc,CAACrB,OAFnB;AAGLC,MAAAA,QAAQ,EAAEoB,cAAc,CAACpB,QAHpB;AAILC,MAAAA,IAAI,EAAEmB,cAAc,CAACnB,IAJhB;AAKLC,MAAAA,OAAO,EAAEkB,cAAc,CAAClB;AALnB,KAAT;AAOH;;AAAA;AACJ,CAtBG,CAFJ;eA4BeV,a","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport {Address, Customers} from '../models';\nimport {isAuth } from \"../utlis\";\n\nconst addressRouter = express.Router();\n// address route to create address\naddressRouter.post(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const  {address, postcode, city, country} = req.body;\n    const customerId = req.customer.id;\n    const customer = await Customers.findOne({where: {id: customerId }});\n    const custAddress = await Address.findOne({where: {CustomerId: customerId, postcode: postcode, address: address}});\n    const cAddress = await Address.findOne({where: {CustomerId: customerId}});\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else if (custAddress){\n        res.status(401).send({\n            message: \"Address already registered\",\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }else if (cAddress){\n        res.status(401).send({\n            message: \"To use new address, update.\",\n        });\n    }else{\n        Address.create({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country,\n            CustomerId: customerId\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }\n})  \n);\n// address route to update address\naddressRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer= await Address.findOne({where: {CustomerId: id}});\n\n    if (!customer) {\n        res.status(404).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        customer.address = req.body.address || customer.address\n        customer.postcode = req.body.postcode || customer.postcode\n        customer.city = req.body.city || customer.city\n        customer.country = req.body.country || customer.country\n        const updatedAddress = await customer.save();\n        res.send({\n            id: updatedAddress.id,\n            address: updatedAddress.address,\n            postcode: updatedAddress.postcode,\n            city: updatedAddress.city,\n            country: updatedAddress.country,\n        });\n    };\n})\n);\n\n\nexport default addressRouter;\n"]}},"mtime":1651661714919},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/orderRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable object-shorthand */\nconst orderRouter = _express.default.Router();\n\norderRouter.post('/', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const customerId = req.customer.id;\n  const address = req.address;\n  const postcode = req.postcode;\n  const addresses = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId,\n      address: address,\n      postcode: postcode\n    }\n  });\n  const addressId = addresses.id;\n  const createdOrder = {\n    totalPrice: req.body.totalPrice,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    AddressId: addressId,\n    CustomerId: customerId\n  };\n  const newOrder = await _models.Orderline.create(createdOrder);\n  res.status(201).send({\n    message: 'New Order Created',\n    data: newOrder\n  });\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJjdXN0b21lcklkIiwiY3VzdG9tZXIiLCJpZCIsImFkZHJlc3MiLCJwb3N0Y29kZSIsImFkZHJlc3NlcyIsIkFkZHJlc3MiLCJmaW5kT25lIiwid2hlcmUiLCJDdXN0b21lcklkIiwiYWRkcmVzc0lkIiwiY3JlYXRlZE9yZGVyIiwidG90YWxQcmljZSIsImJvZHkiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwiQWRkcmVzc0lkIiwibmV3T3JkZXIiLCJPcmRlcmxpbmUiLCJjcmVhdGUiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImRhdGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQU5BOztBQUNBO0FBUUEsTUFBTUEsV0FBVyxHQUFHQyxpQkFBUUMsTUFBUixFQUFwQjs7QUFFQUYsV0FBVyxDQUFDRyxJQUFaLENBQ0ksR0FESixFQUVJQyxhQUZKLEVBR0ksa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0QyxRQUFNQyxVQUFVLEdBQUdGLEdBQUcsQ0FBQ0csUUFBSixDQUFhQyxFQUFoQztBQUNBLFFBQU1DLE9BQU8sR0FBR0wsR0FBRyxDQUFDSyxPQUFwQjtBQUNBLFFBQU1DLFFBQVEsR0FBR04sR0FBRyxDQUFDTSxRQUFyQjtBQUNBLFFBQU1DLFNBQVMsR0FBRyxNQUFNQyxnQkFBUUMsT0FBUixDQUFnQjtBQUFDQyxJQUFBQSxLQUFLLEVBQUU7QUFBQ0MsTUFBQUEsVUFBVSxFQUFFVCxVQUFiO0FBQXlCRyxNQUFBQSxPQUFPLEVBQUVBLE9BQWxDO0FBQzlDQyxNQUFBQSxRQUFRLEVBQUVBO0FBRG9DO0FBQVIsR0FBaEIsQ0FBeEI7QUFFQSxRQUFNTSxTQUFTLEdBQUdMLFNBQVMsQ0FBQ0gsRUFBNUI7QUFFQSxRQUFNUyxZQUFZLEdBQUk7QUFDcEJDLElBQUFBLFVBQVUsRUFBRWQsR0FBRyxDQUFDZSxJQUFKLENBQVNELFVBREQ7QUFFcEJFLElBQUFBLFVBQVUsRUFBRWhCLEdBQUcsQ0FBQ2UsSUFBSixDQUFTQyxVQUZEO0FBR3BCQyxJQUFBQSxRQUFRLEVBQUVqQixHQUFHLENBQUNlLElBQUosQ0FBU0UsUUFIQztBQUlwQkMsSUFBQUEsYUFBYSxFQUFFbEIsR0FBRyxDQUFDZSxJQUFKLENBQVNHLGFBSko7QUFLcEJDLElBQUFBLFNBQVMsRUFBRVAsU0FMUztBQU1wQkQsSUFBQUEsVUFBVSxFQUFFVDtBQU5RLEdBQXRCO0FBUUEsUUFBTWtCLFFBQVEsR0FBRyxNQUFNQyxrQkFBVUMsTUFBVixDQUFpQlQsWUFBakIsQ0FBdkI7QUFDQVosRUFBQUEsR0FBRyxDQUFDc0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLElBQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ0MsSUFBQUEsSUFBSSxFQUFFTjtBQUF0QyxHQUFyQjtBQUNELENBbEJELENBSEo7ZUF1QmV6QixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9yb3V0ZXJzLyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1kZXN0cnVjdHVyaW5nICovXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5cbmltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IHsgaXNBdXRoIH0gZnJvbSAnLi4vdXRsaXMnO1xuaW1wb3J0IHtPcmRlcmxpbmUsIEFkZHJlc3N9IGZyb20gJy4uL21vZGVscyc7XG5cblxuY29uc3Qgb3JkZXJSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5vcmRlclJvdXRlci5wb3N0KFxuICAgICcvJyxcbiAgICBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbWVySWQgPSByZXEuY3VzdG9tZXIuaWQ7XG4gICAgICBjb25zdCBhZGRyZXNzID0gcmVxLmFkZHJlc3M7XG4gICAgICBjb25zdCBwb3N0Y29kZSA9IHJlcS5wb3N0Y29kZTtcbiAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IGF3YWl0IEFkZHJlc3MuZmluZE9uZSh7d2hlcmU6IHtDdXN0b21lcklkOiBjdXN0b21lcklkLCBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICBwb3N0Y29kZTogcG9zdGNvZGV9fSlcbiAgICAgIGNvbnN0IGFkZHJlc3NJZCA9IGFkZHJlc3Nlcy5pZFxuICAgICAgXG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSAoe1xuICAgICAgICB0b3RhbFByaWNlOiByZXEuYm9keS50b3RhbFByaWNlLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIEFkZHJlc3NJZDogYWRkcmVzc0lkLFxuICAgICAgICBDdXN0b21lcklkOiBjdXN0b21lcklkXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5ld09yZGVyID0gYXdhaXQgT3JkZXJsaW5lLmNyZWF0ZShjcmVhdGVkT3JkZXIpO1xuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBkYXRhOiBuZXdPcmRlcn0pO1xuICAgIH0pXG4pO1xuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19","map":{"version":3,"sources":["orderRouter.js"],"names":["orderRouter","express","Router","post","isAuth","req","res","customerId","customer","id","address","postcode","addresses","Address","findOne","where","CustomerId","addressId","createdOrder","totalPrice","body","itemsPrice","taxPrice","shippingPrice","AddressId","newOrder","Orderline","create","status","send","message","data"],"mappings":";;;;;;;AAGA;;AACA;;AACA;;AACA;;;;AANA;;AACA;AAQA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CACI,GADJ,EAEIC,aAFJ,EAGI,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAAhC;AACA,QAAMC,OAAO,GAAGL,GAAG,CAACK,OAApB;AACA,QAAMC,QAAQ,GAAGN,GAAG,CAACM,QAArB;AACA,QAAMC,SAAS,GAAG,MAAMC,gBAAQC,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAET,UAAb;AAAyBG,MAAAA,OAAO,EAAEA,OAAlC;AAC9CC,MAAAA,QAAQ,EAAEA;AADoC;AAAR,GAAhB,CAAxB;AAEA,QAAMM,SAAS,GAAGL,SAAS,CAACH,EAA5B;AAEA,QAAMS,YAAY,GAAI;AACpBC,IAAAA,UAAU,EAAEd,GAAG,CAACe,IAAJ,CAASD,UADD;AAEpBE,IAAAA,UAAU,EAAEhB,GAAG,CAACe,IAAJ,CAASC,UAFD;AAGpBC,IAAAA,QAAQ,EAAEjB,GAAG,CAACe,IAAJ,CAASE,QAHC;AAIpBC,IAAAA,aAAa,EAAElB,GAAG,CAACe,IAAJ,CAASG,aAJJ;AAKpBC,IAAAA,SAAS,EAAEP,SALS;AAMpBD,IAAAA,UAAU,EAAET;AANQ,GAAtB;AAQA,QAAMkB,QAAQ,GAAG,MAAMC,kBAAUC,MAAV,CAAiBT,YAAjB,CAAvB;AACAZ,EAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEN;AAAtC,GAArB;AACD,CAlBD,CAHJ;eAuBezB,W","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable prefer-destructuring */\n/* eslint-disable object-shorthand */\n\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport { isAuth } from '../utlis';\nimport {Orderline, Address} from '../models';\n\n\nconst orderRouter = express.Router();\n\norderRouter.post(\n    '/',\n    isAuth,\n    expressAsyncHandler(async (req, res) => {\n      const customerId = req.customer.id;\n      const address = req.address;\n      const postcode = req.postcode;\n      const addresses = await Address.findOne({where: {CustomerId: customerId, address: address,\n        postcode: postcode}})\n      const addressId = addresses.id\n      \n      const createdOrder = ({\n        totalPrice: req.body.totalPrice,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        AddressId: addressId,\n        CustomerId: customerId\n      });\n      const newOrder = await Orderline.create(createdOrder);\n      res.status(201).send({ message: 'New Order Created', data: newOrder});\n    })\n);\nexport default orderRouter;"]}},"mtime":1651353132744},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/OrderRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router(); // route to place an order, ispaid and delivered are default 0(false)\n\n\norderRouter.post('/', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const customerId = req.customer.id;\n  const addresses = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n  const addressId = addresses.id;\n  const createdOrder = {\n    totalPrice: req.body.totalPrice,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    AddressId: addressId,\n    CustomerId: customerId,\n    isPaid: '0',\n    isDelivered: '0'\n  };\n  const newOrder = await _models.Orderline.create(createdOrder);\n  res.status(201).send({\n    message: 'New Order Created',\n    data: newOrder\n  });\n})); // route to get all orders made by a specific customer\n\norderRouter.get('/mine', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    where: {\n      CustomerId: req.customer.id\n    }\n  });\n  res.send(orders);\n})); // Route to get all the orders ever made form admin dashboard\n\norderRouter.get('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    customer: req.customer.id\n  });\n  res.send(orders);\n})); // Route to delete the orders made form admin dashboard\n\norderRouter.delete('/:id', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _models.Orderline.findByPk(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.destroy();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJjdXN0b21lcklkIiwiY3VzdG9tZXIiLCJpZCIsImFkZHJlc3NlcyIsIkFkZHJlc3MiLCJmaW5kT25lIiwid2hlcmUiLCJDdXN0b21lcklkIiwiYWRkcmVzc0lkIiwiY3JlYXRlZE9yZGVyIiwidG90YWxQcmljZSIsImJvZHkiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwiQWRkcmVzc0lkIiwiaXNQYWlkIiwiaXNEZWxpdmVyZWQiLCJuZXdPcmRlciIsIk9yZGVybGluZSIsImNyZWF0ZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiZGF0YSIsImdldCIsIm9yZGVycyIsImZpbmRBbGwiLCJpc0FkbWluIiwiZGVsZXRlIiwib3JkZXIiLCJmaW5kQnlQayIsInBhcmFtcyIsImRlbGV0ZWRPcmRlciIsImRlc3Ryb3kiLCJwcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCLEMsQ0FDQTs7O0FBQ0FGLFdBQVcsQ0FBQ0csSUFBWixDQUNJLEdBREosRUFFSUMsYUFGSixFQUdJLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHRixHQUFHLENBQUNHLFFBQUosQ0FBYUMsRUFBaEM7QUFDQSxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsZ0JBQVFDLE9BQVIsQ0FBZ0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVA7QUFBYjtBQUFSLEdBQWhCLENBQXhCO0FBQ0EsUUFBTVEsU0FBUyxHQUFHTCxTQUFTLENBQUNELEVBQTVCO0FBRUEsUUFBTU8sWUFBWSxHQUFJO0FBQ3BCQyxJQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRCxVQUREO0FBRXBCRSxJQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ2EsSUFBSixDQUFTQyxVQUZEO0FBR3BCQyxJQUFBQSxRQUFRLEVBQUVmLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRSxRQUhDO0FBSXBCQyxJQUFBQSxhQUFhLEVBQUVoQixHQUFHLENBQUNhLElBQUosQ0FBU0csYUFKSjtBQUtwQkMsSUFBQUEsU0FBUyxFQUFFUCxTQUxTO0FBTXBCRCxJQUFBQSxVQUFVLEVBQUVQLFVBTlE7QUFPcEJnQixJQUFBQSxNQUFNLEVBQUUsR0FQWTtBQVFwQkMsSUFBQUEsV0FBVyxFQUFFO0FBUk8sR0FBdEI7QUFVQSxRQUFNQyxRQUFRLEdBQUcsTUFBTUMsa0JBQVVDLE1BQVYsQ0FBaUJYLFlBQWpCLENBQXZCO0FBQ0FWLEVBQUFBLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUUsbUJBQVg7QUFBZ0NDLElBQUFBLElBQUksRUFBRU47QUFBdEMsR0FBckI7QUFDRCxDQWpCRCxDQUhKLEUsQ0FzQkE7O0FBQ0F6QixXQUFXLENBQUNnQyxHQUFaLENBQ0UsT0FERixFQUVFNUIsYUFGRixFQUdFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFFckIsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVQsR0FBRyxDQUFDRyxRQUFKLENBQWFDO0FBQTFCO0FBQVQsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUhGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ2dDLEdBQVosQ0FDRSxHQURGLEVBRUU1QixhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFDMUIsSUFBQUEsUUFBUSxFQUFFSCxHQUFHLENBQUNHLFFBQUosQ0FBYUM7QUFBeEIsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUpGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ29DLE1BQVosQ0FDRSxNQURGLEVBRUVoQyxhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTStCLEtBQUssR0FBRyxNQUFNWCxrQkFBVVksUUFBVixDQUFtQmpDLEdBQUcsQ0FBQ2tDLE1BQUosQ0FBVzlCLEVBQTlCLENBQXBCOztBQUNBLE1BQUk0QixLQUFKLEVBQVc7QUFDVCxVQUFNRyxZQUFZLEdBQUcsTUFBTUgsS0FBSyxDQUFDSSxPQUFOLEVBQTNCO0FBQ0FuQyxJQUFBQSxHQUFHLENBQUN1QixJQUFKLENBQVM7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGVBQVg7QUFBNEJZLE1BQUFBLE9BQU8sRUFBRUY7QUFBckMsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMbEMsSUFBQUEsR0FBRyxDQUFDc0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVJELENBSkY7ZUFjZTlCLFciLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL3JvdXRlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0bGlzJztcbmltcG9ydCB7T3JkZXJsaW5lLCBBZGRyZXNzfSBmcm9tICcuLi9tb2RlbHMnO1xuXG5cbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbi8vIHJvdXRlIHRvIHBsYWNlIGFuIG9yZGVyLCBpc3BhaWQgYW5kIGRlbGl2ZXJlZCBhcmUgZGVmYXVsdCAwKGZhbHNlKVxub3JkZXJSb3V0ZXIucG9zdChcbiAgICAnLycsXG4gICAgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWR9fSlcbiAgICAgIGNvbnN0IGFkZHJlc3NJZCA9IGFkZHJlc3Nlcy5pZFxuICAgICAgXG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSAoe1xuICAgICAgICB0b3RhbFByaWNlOiByZXEuYm9keS50b3RhbFByaWNlLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIEFkZHJlc3NJZDogYWRkcmVzc0lkLFxuICAgICAgICBDdXN0b21lcklkOiBjdXN0b21lcklkLFxuICAgICAgICBpc1BhaWQ6ICcwJyxcbiAgICAgICAgaXNEZWxpdmVyZWQ6ICcwJ1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXdPcmRlciA9IGF3YWl0IE9yZGVybGluZS5jcmVhdGUoY3JlYXRlZE9yZGVyKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgZGF0YTogbmV3T3JkZXJ9KTtcbiAgICB9KVxuKTtcbi8vIHJvdXRlIHRvIGdldCBhbGwgb3JkZXJzIG1hZGUgYnkgYSBzcGVjaWZpYyBjdXN0b21lclxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnL21pbmUnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRBbGwoeyB3aGVyZToge0N1c3RvbWVySWQ6IHJlcS5jdXN0b21lci5pZH19KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcblxuLy8gUm91dGUgdG8gZ2V0IGFsbCB0aGUgb3JkZXJzIGV2ZXIgbWFkZSBmb3JtIGFkbWluIGRhc2hib2FyZFxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlcmxpbmUuZmluZEFsbCh7Y3VzdG9tZXI6IHJlcS5jdXN0b21lci5pZH0pXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG4vLyBSb3V0ZSB0byBkZWxldGUgdGhlIG9yZGVycyBtYWRlIGZvcm0gYWRtaW4gZGFzaGJvYXJkXG5vcmRlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRCeVBrKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuZGVzdHJveSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19","map":{"version":3,"sources":["OrderRouter.js"],"names":["orderRouter","express","Router","post","isAuth","req","res","customerId","customer","id","addresses","Address","findOne","where","CustomerId","addressId","createdOrder","totalPrice","body","itemsPrice","taxPrice","shippingPrice","AddressId","isPaid","isDelivered","newOrder","Orderline","create","status","send","message","data","get","orders","findAll","isAdmin","delete","order","findByPk","params","deletedOrder","destroy","product"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB,C,CACA;;;AACAF,WAAW,CAACG,IAAZ,CACI,GADJ,EAEIC,aAFJ,EAGI,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAAhC;AACA,QAAMC,SAAS,GAAG,MAAMC,gBAAQC,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAEP;AAAb;AAAR,GAAhB,CAAxB;AACA,QAAMQ,SAAS,GAAGL,SAAS,CAACD,EAA5B;AAEA,QAAMO,YAAY,GAAI;AACpBC,IAAAA,UAAU,EAAEZ,GAAG,CAACa,IAAJ,CAASD,UADD;AAEpBE,IAAAA,UAAU,EAAEd,GAAG,CAACa,IAAJ,CAASC,UAFD;AAGpBC,IAAAA,QAAQ,EAAEf,GAAG,CAACa,IAAJ,CAASE,QAHC;AAIpBC,IAAAA,aAAa,EAAEhB,GAAG,CAACa,IAAJ,CAASG,aAJJ;AAKpBC,IAAAA,SAAS,EAAEP,SALS;AAMpBD,IAAAA,UAAU,EAAEP,UANQ;AAOpBgB,IAAAA,MAAM,EAAE,GAPY;AAQpBC,IAAAA,WAAW,EAAE;AARO,GAAtB;AAUA,QAAMC,QAAQ,GAAG,MAAMC,kBAAUC,MAAV,CAAiBX,YAAjB,CAAvB;AACAV,EAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEN;AAAtC,GAArB;AACD,CAjBD,CAHJ,E,CAsBA;;AACAzB,WAAW,CAACgC,GAAZ,CACE,OADF,EAEE5B,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAErB,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAET,GAAG,CAACG,QAAJ,CAAaC;AAA1B;AAAT,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAHF,E,CASA;;AACAjC,WAAW,CAACgC,GAAZ,CACE,GADF,EAEE5B,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAC1B,IAAAA,QAAQ,EAAEH,GAAG,CAACG,QAAJ,CAAaC;AAAxB,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAJF,E,CASA;;AACAjC,WAAW,CAACoC,MAAZ,CACE,MADF,EAEEhC,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM+B,KAAK,GAAG,MAAMX,kBAAUY,QAAV,CAAmBjC,GAAG,CAACkC,MAAJ,CAAW9B,EAA9B,CAApB;;AACA,MAAI4B,KAAJ,EAAW;AACT,UAAMG,YAAY,GAAG,MAAMH,KAAK,CAACI,OAAN,EAA3B;AACAnC,IAAAA,GAAG,CAACuB,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE,eAAX;AAA4BY,MAAAA,OAAO,EAAEF;AAArC,KAAT;AACD,GAHD,MAGO;AACLlC,IAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CARD,CAJF;eAce9B,W","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport { isAdmin, isAuth } from '../utlis';\nimport {Orderline, Address} from '../models';\n\n\nconst orderRouter = express.Router();\n// route to place an order, ispaid and delivered are default 0(false)\norderRouter.post(\n    '/',\n    isAuth,\n    expressAsyncHandler(async (req, res) => {\n      const customerId = req.customer.id;\n      const addresses = await Address.findOne({where: {CustomerId: customerId}})\n      const addressId = addresses.id\n      \n      const createdOrder = ({\n        totalPrice: req.body.totalPrice,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        AddressId: addressId,\n        CustomerId: customerId,\n        isPaid: '0',\n        isDelivered: '0'\n      });\n      const newOrder = await Orderline.create(createdOrder);\n      res.status(201).send({ message: 'New Order Created', data: newOrder});\n    })\n);\n// route to get all orders made by a specific customer\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({ where: {CustomerId: req.customer.id}});\n    res.send(orders);\n  })\n);\n\n// Route to get all the orders ever made form admin dashboard\norderRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({customer: req.customer.id})\n    res.send(orders);\n  })\n);\n// Route to delete the orders made form admin dashboard\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Orderline.findByPk(req.params.id);\n    if (order) {\n      const deletedOrder = await order.destroy();\n      res.send({ message: 'Order Deleted', product: deletedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\nexport default orderRouter;"]}},"mtime":1651613201756},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/OrderRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router(); // route to place an order, ispaid and delivered are default 0(false)\n\n\norderRouter.post('/', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const customerId = req.customer.id;\n  const addresses = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n  const addressId = addresses.id;\n  const createdOrder = {\n    totalPrice: req.body.totalPrice,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    AddressId: addressId,\n    CustomerId: customerId,\n    isPaid: '0',\n    isDelivered: '0'\n  };\n  const newOrder = await _models.Orderline.create(createdOrder);\n  res.status(201).send({\n    message: 'New Order Created',\n    data: newOrder\n  });\n})); // route to get all orders made by a specific customer\n\norderRouter.get('/mine', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    where: {\n      CustomerId: req.customer.id\n    }\n  });\n  res.send(orders);\n})); // Route to get all the orders ever made form admin dashboard\n\norderRouter.get('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    customer: req.customer.id\n  });\n  res.send(orders);\n})); // Route to delete the orders made form admin dashboard\n\norderRouter.delete('/:id', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _models.Orderline.findByPk(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.destroy();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJjdXN0b21lcklkIiwiY3VzdG9tZXIiLCJpZCIsImFkZHJlc3NlcyIsIkFkZHJlc3MiLCJmaW5kT25lIiwid2hlcmUiLCJDdXN0b21lcklkIiwiYWRkcmVzc0lkIiwiY3JlYXRlZE9yZGVyIiwidG90YWxQcmljZSIsImJvZHkiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwiQWRkcmVzc0lkIiwiaXNQYWlkIiwiaXNEZWxpdmVyZWQiLCJuZXdPcmRlciIsIk9yZGVybGluZSIsImNyZWF0ZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiZGF0YSIsImdldCIsIm9yZGVycyIsImZpbmRBbGwiLCJpc0FkbWluIiwiZGVsZXRlIiwib3JkZXIiLCJmaW5kQnlQayIsInBhcmFtcyIsImRlbGV0ZWRPcmRlciIsImRlc3Ryb3kiLCJwcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCLEMsQ0FDQTs7O0FBQ0FGLFdBQVcsQ0FBQ0csSUFBWixDQUNJLEdBREosRUFFSUMsYUFGSixFQUdJLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHRixHQUFHLENBQUNHLFFBQUosQ0FBYUMsRUFBaEM7QUFDQSxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsZ0JBQVFDLE9BQVIsQ0FBZ0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVA7QUFBYjtBQUFSLEdBQWhCLENBQXhCO0FBQ0EsUUFBTVEsU0FBUyxHQUFHTCxTQUFTLENBQUNELEVBQTVCO0FBRUEsUUFBTU8sWUFBWSxHQUFJO0FBQ3BCQyxJQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRCxVQUREO0FBRXBCRSxJQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ2EsSUFBSixDQUFTQyxVQUZEO0FBR3BCQyxJQUFBQSxRQUFRLEVBQUVmLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRSxRQUhDO0FBSXBCQyxJQUFBQSxhQUFhLEVBQUVoQixHQUFHLENBQUNhLElBQUosQ0FBU0csYUFKSjtBQUtwQkMsSUFBQUEsU0FBUyxFQUFFUCxTQUxTO0FBTXBCRCxJQUFBQSxVQUFVLEVBQUVQLFVBTlE7QUFPcEJnQixJQUFBQSxNQUFNLEVBQUUsR0FQWTtBQVFwQkMsSUFBQUEsV0FBVyxFQUFFO0FBUk8sR0FBdEI7QUFVQSxRQUFNQyxRQUFRLEdBQUcsTUFBTUMsa0JBQVVDLE1BQVYsQ0FBaUJYLFlBQWpCLENBQXZCO0FBQ0FWLEVBQUFBLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUUsbUJBQVg7QUFBZ0NDLElBQUFBLElBQUksRUFBRU47QUFBdEMsR0FBckI7QUFDRCxDQWpCRCxDQUhKLEUsQ0FzQkE7O0FBQ0F6QixXQUFXLENBQUNnQyxHQUFaLENBQ0UsT0FERixFQUVFNUIsYUFGRixFQUdFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFFckIsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVQsR0FBRyxDQUFDRyxRQUFKLENBQWFDO0FBQTFCO0FBQVQsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUhGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ2dDLEdBQVosQ0FDRSxHQURGLEVBRUU1QixhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFDMUIsSUFBQUEsUUFBUSxFQUFFSCxHQUFHLENBQUNHLFFBQUosQ0FBYUM7QUFBeEIsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUpGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ29DLE1BQVosQ0FDRSxNQURGLEVBRUVoQyxhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTStCLEtBQUssR0FBRyxNQUFNWCxrQkFBVVksUUFBVixDQUFtQmpDLEdBQUcsQ0FBQ2tDLE1BQUosQ0FBVzlCLEVBQTlCLENBQXBCOztBQUNBLE1BQUk0QixLQUFKLEVBQVc7QUFDVCxVQUFNRyxZQUFZLEdBQUcsTUFBTUgsS0FBSyxDQUFDSSxPQUFOLEVBQTNCO0FBQ0FuQyxJQUFBQSxHQUFHLENBQUN1QixJQUFKLENBQVM7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGVBQVg7QUFBNEJZLE1BQUFBLE9BQU8sRUFBRUY7QUFBckMsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMbEMsSUFBQUEsR0FBRyxDQUFDc0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVJELENBSkY7ZUFjZTlCLFciLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL3JvdXRlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0bGlzJztcbmltcG9ydCB7T3JkZXJsaW5lLCBBZGRyZXNzfSBmcm9tICcuLi9tb2RlbHMnO1xuXG5cbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbi8vIHJvdXRlIHRvIHBsYWNlIGFuIG9yZGVyLCBpc3BhaWQgYW5kIGRlbGl2ZXJlZCBhcmUgZGVmYXVsdCAwKGZhbHNlKVxub3JkZXJSb3V0ZXIucG9zdChcbiAgICAnLycsXG4gICAgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWR9fSlcbiAgICAgIGNvbnN0IGFkZHJlc3NJZCA9IGFkZHJlc3Nlcy5pZFxuICAgICAgXG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSAoe1xuICAgICAgICB0b3RhbFByaWNlOiByZXEuYm9keS50b3RhbFByaWNlLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIEFkZHJlc3NJZDogYWRkcmVzc0lkLFxuICAgICAgICBDdXN0b21lcklkOiBjdXN0b21lcklkLFxuICAgICAgICBpc1BhaWQ6ICcwJyxcbiAgICAgICAgaXNEZWxpdmVyZWQ6ICcwJ1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXdPcmRlciA9IGF3YWl0IE9yZGVybGluZS5jcmVhdGUoY3JlYXRlZE9yZGVyKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgZGF0YTogbmV3T3JkZXJ9KTtcbiAgICB9KVxuKTtcbi8vIHJvdXRlIHRvIGdldCBhbGwgb3JkZXJzIG1hZGUgYnkgYSBzcGVjaWZpYyBjdXN0b21lclxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnL21pbmUnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRBbGwoeyB3aGVyZToge0N1c3RvbWVySWQ6IHJlcS5jdXN0b21lci5pZH19KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcblxuLy8gUm91dGUgdG8gZ2V0IGFsbCB0aGUgb3JkZXJzIGV2ZXIgbWFkZSBmb3JtIGFkbWluIGRhc2hib2FyZFxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlcmxpbmUuZmluZEFsbCh7Y3VzdG9tZXI6IHJlcS5jdXN0b21lci5pZH0pXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG4vLyBSb3V0ZSB0byBkZWxldGUgdGhlIG9yZGVycyBtYWRlIGZvcm0gYWRtaW4gZGFzaGJvYXJkXG5vcmRlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRCeVBrKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuZGVzdHJveSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19","map":{"version":3,"sources":["OrderRouter.js"],"names":["orderRouter","express","Router","post","isAuth","req","res","customerId","customer","id","addresses","Address","findOne","where","CustomerId","addressId","createdOrder","totalPrice","body","itemsPrice","taxPrice","shippingPrice","AddressId","isPaid","isDelivered","newOrder","Orderline","create","status","send","message","data","get","orders","findAll","isAdmin","delete","order","findByPk","params","deletedOrder","destroy","product"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB,C,CACA;;;AACAF,WAAW,CAACG,IAAZ,CACI,GADJ,EAEIC,aAFJ,EAGI,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAAhC;AACA,QAAMC,SAAS,GAAG,MAAMC,gBAAQC,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAEP;AAAb;AAAR,GAAhB,CAAxB;AACA,QAAMQ,SAAS,GAAGL,SAAS,CAACD,EAA5B;AAEA,QAAMO,YAAY,GAAI;AACpBC,IAAAA,UAAU,EAAEZ,GAAG,CAACa,IAAJ,CAASD,UADD;AAEpBE,IAAAA,UAAU,EAAEd,GAAG,CAACa,IAAJ,CAASC,UAFD;AAGpBC,IAAAA,QAAQ,EAAEf,GAAG,CAACa,IAAJ,CAASE,QAHC;AAIpBC,IAAAA,aAAa,EAAEhB,GAAG,CAACa,IAAJ,CAASG,aAJJ;AAKpBC,IAAAA,SAAS,EAAEP,SALS;AAMpBD,IAAAA,UAAU,EAAEP,UANQ;AAOpBgB,IAAAA,MAAM,EAAE,GAPY;AAQpBC,IAAAA,WAAW,EAAE;AARO,GAAtB;AAUA,QAAMC,QAAQ,GAAG,MAAMC,kBAAUC,MAAV,CAAiBX,YAAjB,CAAvB;AACAV,EAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEN;AAAtC,GAArB;AACD,CAjBD,CAHJ,E,CAsBA;;AACAzB,WAAW,CAACgC,GAAZ,CACE,OADF,EAEE5B,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAErB,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAET,GAAG,CAACG,QAAJ,CAAaC;AAA1B;AAAT,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAHF,E,CASA;;AACAjC,WAAW,CAACgC,GAAZ,CACE,GADF,EAEE5B,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAC1B,IAAAA,QAAQ,EAAEH,GAAG,CAACG,QAAJ,CAAaC;AAAxB,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAJF,E,CASA;;AACAjC,WAAW,CAACoC,MAAZ,CACE,MADF,EAEEhC,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM+B,KAAK,GAAG,MAAMX,kBAAUY,QAAV,CAAmBjC,GAAG,CAACkC,MAAJ,CAAW9B,EAA9B,CAApB;;AACA,MAAI4B,KAAJ,EAAW;AACT,UAAMG,YAAY,GAAG,MAAMH,KAAK,CAACI,OAAN,EAA3B;AACAnC,IAAAA,GAAG,CAACuB,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE,eAAX;AAA4BY,MAAAA,OAAO,EAAEF;AAArC,KAAT;AACD,GAHD,MAGO;AACLlC,IAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CARD,CAJF;eAce9B,W","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport { isAdmin, isAuth } from '../utlis';\nimport {Orderline, Address} from '../models';\n\n\nconst orderRouter = express.Router();\n// route to place an order, ispaid and delivered are default 0(false)\norderRouter.post(\n    '/',\n    isAuth,\n    expressAsyncHandler(async (req, res) => {\n      const customerId = req.customer.id;\n      const addresses = await Address.findOne({where: {CustomerId: customerId}})\n      const addressId = addresses.id\n      \n      const createdOrder = ({\n        totalPrice: req.body.totalPrice,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        AddressId: addressId,\n        CustomerId: customerId,\n        isPaid: '0',\n        isDelivered: '0'\n      });\n      const newOrder = await Orderline.create(createdOrder);\n      res.status(201).send({ message: 'New Order Created', data: newOrder});\n    })\n);\n// route to get all orders made by a specific customer\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({ where: {CustomerId: req.customer.id}});\n    res.send(orders);\n  })\n);\n\n// Route to get all the orders ever made form admin dashboard\norderRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({customer: req.customer.id})\n    res.send(orders);\n  })\n);\n// Route to delete the orders made form admin dashboard\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Orderline.findByPk(req.params.id);\n    if (order) {\n      const deletedOrder = await order.destroy();\n      res.send({ message: 'Order Deleted', product: deletedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\nexport default orderRouter;"]}},"mtime":1651613201756},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Products.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Products = sequelize.define(\"Products\", {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    price: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    image: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    descrip: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    countInStock: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      validate: {\n        notEmpty: true,\n        default: '0'\n      }\n    }\n  });\n  return Products;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJQcm9kdWN0cyIsImRlZmluZSIsIm5hbWUiLCJ0eXBlIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJub3RFbXB0eSIsInByaWNlIiwiaW1hZ2UiLCJkZXNjcmlwIiwiY291bnRJblN0b2NrIiwiSU5URUdFUiIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixVQUFqQixFQUE2QjtBQUM1Q0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBRHNDO0FBUTVDQyxJQUFBQSxLQUFLLEVBQUU7QUFDTEwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FScUM7QUFlNUNFLElBQUFBLEtBQUssRUFBRTtBQUNMTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEWDtBQUVMQyxNQUFBQSxTQUFTLEVBQUUsS0FGTjtBQUdMQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFITCxLQWZxQztBQXNCNUNHLElBQUFBLE9BQU8sRUFBRTtBQUNQUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQXRCbUM7QUE2QjVDSSxJQUFBQSxZQUFZLEVBQUU7QUFDWlIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BREo7QUFFWlAsTUFBQUEsU0FBUyxFQUFFLEtBRkM7QUFHWkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRSxJQURGO0FBRVJNLFFBQUFBLE9BQU8sRUFBRTtBQUZEO0FBSEU7QUE3QjhCLEdBQTdCLENBQWpCO0FBc0NBLFNBQU9iLFFBQVA7QUFDRCxDQXhDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBQcm9kdWN0cyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJQcm9kdWN0c1wiLCB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXA6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY291bnRJblN0b2NrOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICAgIGRlZmF1bHQ6ICcwJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb2R1Y3RzO1xuICB9OyJdfQ==","map":{"version":3,"sources":["Products.js"],"names":["module","exports","sequelize","DataTypes","Products","define","name","type","STRING","allowNull","validate","notEmpty","price","image","descrip","countInStock","INTEGER","default"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6B;AAC5CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KADsC;AAQ5CC,IAAAA,KAAK,EAAE;AACLL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KARqC;AAe5CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfqC;AAsB5CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KAtBmC;AA6B5CI,IAAAA,YAAY,EAAE;AACZR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADJ;AAEZP,MAAAA,SAAS,EAAE,KAFC;AAGZC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE,IADF;AAERM,QAAAA,OAAO,EAAE;AAFD;AAHE;AA7B8B,GAA7B,CAAjB;AAsCA,SAAOb,QAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Products = sequelize.define(\"Products\", {\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      price: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      image: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      descrip: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      countInStock: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n          default: '0'\n        }\n      }\n    });\n    return Products;\n  };"]}},"mtime":1651661656864},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/Products.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Products = sequelize.define(\"Products\", {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    price: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    image: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    descrip: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    countInStock: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      validate: {\n        notEmpty: true,\n        default: '0'\n      }\n    }\n  });\n  return Products;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJQcm9kdWN0cyIsImRlZmluZSIsIm5hbWUiLCJ0eXBlIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJub3RFbXB0eSIsInByaWNlIiwiaW1hZ2UiLCJkZXNjcmlwIiwiY291bnRJblN0b2NrIiwiSU5URUdFUiIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixVQUFqQixFQUE2QjtBQUM1Q0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBRHNDO0FBUTVDQyxJQUFBQSxLQUFLLEVBQUU7QUFDTEwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FScUM7QUFlNUNFLElBQUFBLEtBQUssRUFBRTtBQUNMTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEWDtBQUVMQyxNQUFBQSxTQUFTLEVBQUUsS0FGTjtBQUdMQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFITCxLQWZxQztBQXNCNUNHLElBQUFBLE9BQU8sRUFBRTtBQUNQUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQXRCbUM7QUE2QjVDSSxJQUFBQSxZQUFZLEVBQUU7QUFDWlIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BREo7QUFFWlAsTUFBQUEsU0FBUyxFQUFFLEtBRkM7QUFHWkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRSxJQURGO0FBRVJNLFFBQUFBLE9BQU8sRUFBRTtBQUZEO0FBSEU7QUE3QjhCLEdBQTdCLENBQWpCO0FBc0NBLFNBQU9iLFFBQVA7QUFDRCxDQXhDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBQcm9kdWN0cyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJQcm9kdWN0c1wiLCB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXA6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY291bnRJblN0b2NrOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICAgIGRlZmF1bHQ6ICcwJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb2R1Y3RzO1xuICB9OyJdfQ==","map":{"version":3,"sources":["Products.js"],"names":["module","exports","sequelize","DataTypes","Products","define","name","type","STRING","allowNull","validate","notEmpty","price","image","descrip","countInStock","INTEGER","default"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6B;AAC5CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KADsC;AAQ5CC,IAAAA,KAAK,EAAE;AACLL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KARqC;AAe5CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfqC;AAsB5CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KAtBmC;AA6B5CI,IAAAA,YAAY,EAAE;AACZR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADJ;AAEZP,MAAAA,SAAS,EAAE,KAFC;AAGZC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE,IADF;AAERM,QAAAA,OAAO,EAAE;AAFD;AAHE;AA7B8B,GAA7B,CAAjB;AAsCA,SAAOb,QAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/models/","sourcesContent":["// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Products = sequelize.define(\"Products\", {\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      price: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      image: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      descrip: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      countInStock: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n          default: '0'\n        }\n      }\n    });\n    return Products;\n  };"]}},"mtime":1651661656864},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/productRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// product route to create a product not complete\nconst productRouter = _express.default.Router();\n\nproductRouter.post('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  _models.default.create({\n    name: 'sample product',\n    price: '00',\n    descrip: 'sample descripto',\n    image: '/images/product-1.jpg'\n  });\n\n  const createdProduct = await _models.default.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    console.error();\n    res.status(500).send({\n      message: 'Error in creating product'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInJlcSIsInJlcyIsIlByb2R1Y3RzIiwiY3JlYXRlIiwibmFtZSIsInByaWNlIiwiZGVzY3JpcCIsImltYWdlIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJwcm9kdWN0IiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0M7O0FBQ0E7O0FBQ0E7Ozs7QUFFRDtBQUNBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBQ0NGLGFBQWEsQ0FBQ0csSUFBZCxDQUNFLEdBREYsRUFFRUMsYUFGRixFQUdFQyxjQUhGLEVBSUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0Q0Msa0JBQVNDLE1BQVQsQ0FBZ0I7QUFDZEMsSUFBQUEsSUFBSSxFQUFFLGdCQURRO0FBRWRDLElBQUFBLEtBQUssRUFBRSxJQUZPO0FBR2RDLElBQUFBLE9BQU8sRUFBRSxrQkFISztBQUlkQyxJQUFBQSxLQUFLLEVBQUU7QUFKTyxHQUFoQjs7QUFNQSxRQUFNQyxjQUFjLEdBQUcsTUFBTU4sZ0JBQVNPLElBQVQsRUFBN0I7O0FBQ0EsTUFBSUQsY0FBSixFQUFvQjtBQUNsQlAsSUFBQUEsR0FBRyxDQUNBUyxNQURILENBQ1UsR0FEVixFQUVHQyxJQUZILENBRVE7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCQyxNQUFBQSxPQUFPLEVBQUVMO0FBQXZDLEtBRlI7QUFHRCxHQUpELE1BSU87QUFDTE0sSUFBQUEsT0FBTyxDQUFDQyxLQUFSO0FBQ0FkLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWhCRCxDQUpGO2VBc0JlbEIsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbiBpbXBvcnQgZXhwcmVzc0F5c25jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuIGltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0bGlzJztcbiBpbXBvcnQgUHJvZHVjdHMgZnJvbSAnLi4vbW9kZWxzJztcblxuLy8gcHJvZHVjdCByb3V0ZSB0byBjcmVhdGUgYSBwcm9kdWN0IG5vdCBjb21wbGV0ZVxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gcHJvZHVjdFJvdXRlci5wb3N0KFxuICAgJy8nLFxuICAgaXNBdXRoLFxuICAgaXNBZG1pbixcbiAgIGV4cHJlc3NBeXNuY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgIFByb2R1Y3RzLmNyZWF0ZSh7XG4gICAgICAgbmFtZTogJ3NhbXBsZSBwcm9kdWN0JyxcbiAgICAgICBwcmljZTogJzAwJyxcbiAgICAgICBkZXNjcmlwOiAnc2FtcGxlIGRlc2NyaXB0bycsXG4gICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtMS5qcGcnLFxuICAgICB9KTtcbiAgICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5zYXZlKCk7XG4gICAgIGlmIChjcmVhdGVkUHJvZHVjdCkge1xuICAgICAgIHJlc1xuICAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmVycm9yKCk7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnRXJyb3IgaW4gY3JlYXRpbmcgcHJvZHVjdCcgfSk7XG4gICAgIH1cbiAgIH0pXG4gKTtcbiBleHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyOyJdfQ==","map":{"version":3,"sources":["productRouter.js"],"names":["productRouter","express","Router","post","isAuth","isAdmin","req","res","Products","create","name","price","descrip","image","createdProduct","save","status","send","message","product","console","error"],"mappings":";;;;;;;AAAA;;AACC;;AACA;;AACA;;;;AAED;AACA,MAAMA,aAAa,GAAGC,iBAAQC,MAAR,EAAtB;;AACCF,aAAa,CAACG,IAAd,CACE,GADF,EAEEC,aAFF,EAGEC,cAHF,EAIE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtCC,kBAASC,MAAT,CAAgB;AACdC,IAAAA,IAAI,EAAE,gBADQ;AAEdC,IAAAA,KAAK,EAAE,IAFO;AAGdC,IAAAA,OAAO,EAAE,kBAHK;AAIdC,IAAAA,KAAK,EAAE;AAJO,GAAhB;;AAMA,QAAMC,cAAc,GAAG,MAAMN,gBAASO,IAAT,EAA7B;;AACA,MAAID,cAAJ,EAAoB;AAClBP,IAAAA,GAAG,CACAS,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,iBAAX;AAA8BC,MAAAA,OAAO,EAAEL;AAAvC,KAFR;AAGD,GAJD,MAIO;AACLM,IAAAA,OAAO,CAACC,KAAR;AACAd,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAhBD,CAJF;eAsBelB,a","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["import express from 'express';\n import expressAysncHandler from 'express-async-handler';\n import { isAuth, isAdmin } from '../utlis';\n import Products from '../models';\n\n// product route to create a product not complete\nconst productRouter = express.Router();\n productRouter.post(\n   '/',\n   isAuth,\n   isAdmin,\n   expressAysncHandler(async (req, res) => {\n     Products.create({\n       name: 'sample product',\n       price: '00',\n       descrip: 'sample descripto',\n       image: '/images/product-1.jpg',\n     });\n     const createdProduct = await Products.save();\n     if (createdProduct) {\n       res\n         .status(201)\n         .send({ message: 'Product Created', product: createdProduct });\n     } else {\n       console.error();\n       res.status(500).send({ message: 'Error in creating product' });\n     }\n   })\n );\n export default productRouter;"]}},"mtime":1651661867003},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/productRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// product route to create a product not complete\nconst productRouter = _express.default.Router();\n\nproductRouter.post('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  _models.default.create({\n    name: 'sample product',\n    price: '00',\n    descrip: 'sample descripto',\n    image: '/images/product-1.jpg'\n  });\n\n  const createdProduct = await _models.default.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    console.error();\n    res.status(500).send({\n      message: 'Error in creating product'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInJlcSIsInJlcyIsIlByb2R1Y3RzIiwiY3JlYXRlIiwibmFtZSIsInByaWNlIiwiZGVzY3JpcCIsImltYWdlIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJwcm9kdWN0IiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0M7O0FBQ0E7O0FBQ0E7Ozs7QUFFRDtBQUNBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBQ0NGLGFBQWEsQ0FBQ0csSUFBZCxDQUNFLEdBREYsRUFFRUMsYUFGRixFQUdFQyxjQUhGLEVBSUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0Q0Msa0JBQVNDLE1BQVQsQ0FBZ0I7QUFDZEMsSUFBQUEsSUFBSSxFQUFFLGdCQURRO0FBRWRDLElBQUFBLEtBQUssRUFBRSxJQUZPO0FBR2RDLElBQUFBLE9BQU8sRUFBRSxrQkFISztBQUlkQyxJQUFBQSxLQUFLLEVBQUU7QUFKTyxHQUFoQjs7QUFNQSxRQUFNQyxjQUFjLEdBQUcsTUFBTU4sZ0JBQVNPLElBQVQsRUFBN0I7O0FBQ0EsTUFBSUQsY0FBSixFQUFvQjtBQUNsQlAsSUFBQUEsR0FBRyxDQUNBUyxNQURILENBQ1UsR0FEVixFQUVHQyxJQUZILENBRVE7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCQyxNQUFBQSxPQUFPLEVBQUVMO0FBQXZDLEtBRlI7QUFHRCxHQUpELE1BSU87QUFDTE0sSUFBQUEsT0FBTyxDQUFDQyxLQUFSO0FBQ0FkLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWhCRCxDQUpGO2VBc0JlbEIsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbiBpbXBvcnQgZXhwcmVzc0F5c25jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuIGltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0bGlzJztcbiBpbXBvcnQgUHJvZHVjdHMgZnJvbSAnLi4vbW9kZWxzJztcblxuLy8gcHJvZHVjdCByb3V0ZSB0byBjcmVhdGUgYSBwcm9kdWN0IG5vdCBjb21wbGV0ZVxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gcHJvZHVjdFJvdXRlci5wb3N0KFxuICAgJy8nLFxuICAgaXNBdXRoLFxuICAgaXNBZG1pbixcbiAgIGV4cHJlc3NBeXNuY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgIFByb2R1Y3RzLmNyZWF0ZSh7XG4gICAgICAgbmFtZTogJ3NhbXBsZSBwcm9kdWN0JyxcbiAgICAgICBwcmljZTogJzAwJyxcbiAgICAgICBkZXNjcmlwOiAnc2FtcGxlIGRlc2NyaXB0bycsXG4gICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtMS5qcGcnLFxuICAgICB9KTtcbiAgICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5zYXZlKCk7XG4gICAgIGlmIChjcmVhdGVkUHJvZHVjdCkge1xuICAgICAgIHJlc1xuICAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmVycm9yKCk7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnRXJyb3IgaW4gY3JlYXRpbmcgcHJvZHVjdCcgfSk7XG4gICAgIH1cbiAgIH0pXG4gKTtcbiBleHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyOyJdfQ==","map":{"version":3,"sources":["productRouter.js"],"names":["productRouter","express","Router","post","isAuth","isAdmin","req","res","Products","create","name","price","descrip","image","createdProduct","save","status","send","message","product","console","error"],"mappings":";;;;;;;AAAA;;AACC;;AACA;;AACA;;;;AAED;AACA,MAAMA,aAAa,GAAGC,iBAAQC,MAAR,EAAtB;;AACCF,aAAa,CAACG,IAAd,CACE,GADF,EAEEC,aAFF,EAGEC,cAHF,EAIE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtCC,kBAASC,MAAT,CAAgB;AACdC,IAAAA,IAAI,EAAE,gBADQ;AAEdC,IAAAA,KAAK,EAAE,IAFO;AAGdC,IAAAA,OAAO,EAAE,kBAHK;AAIdC,IAAAA,KAAK,EAAE;AAJO,GAAhB;;AAMA,QAAMC,cAAc,GAAG,MAAMN,gBAASO,IAAT,EAA7B;;AACA,MAAID,cAAJ,EAAoB;AAClBP,IAAAA,GAAG,CACAS,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,iBAAX;AAA8BC,MAAAA,OAAO,EAAEL;AAAvC,KAFR;AAGD,GAJD,MAIO;AACLM,IAAAA,OAAO,CAACC,KAAR;AACAd,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAhBD,CAJF;eAsBelB,a","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/ResturantComplete/backend/routers/","sourcesContent":["import express from 'express';\n import expressAysncHandler from 'express-async-handler';\n import { isAuth, isAdmin } from '../utlis';\n import Products from '../models';\n\n// product route to create a product not complete\nconst productRouter = express.Router();\n productRouter.post(\n   '/',\n   isAuth,\n   isAdmin,\n   expressAysncHandler(async (req, res) => {\n     Products.create({\n       name: 'sample product',\n       price: '00',\n       descrip: 'sample descripto',\n       image: '/images/product-1.jpg',\n     });\n     const createdProduct = await Products.save();\n     if (createdProduct) {\n       res\n         .status(201)\n         .send({ message: 'Product Created', product: createdProduct });\n     } else {\n       console.error();\n       res.status(500).send({ message: 'Error in creating product' });\n     }\n   })\n );\n export default productRouter;"]}},"mtime":1651661867003},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _data = _interopRequireDefault(require(\"./data\"));\n\nvar _customerRouter = _interopRequireDefault(require(\"./routers/customerRouter\"));\n\nvar _addressRouter = _interopRequireDefault(require(\"./routers/addressRouter\"));\n\nvar _OrderRouter = _interopRequireDefault(require(\"./routers/OrderRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// use packages and retrive models\nconst db = require(\"./models\");\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use(\"/api/customers\", _customerRouter.default);\napp.use(\"/api/address\", _addressRouter.default);\napp.use(\"/api/orders\", _OrderRouter.default);\napp.use('/api/product', _productRouter.default); // retrieve products on the server side\n\napp.get('/api/products', (req, res) => {\n  res.send(_data.default.products);\n}); // retrieve product by id from data.js\n\napp.get('/api/products/:id', (req, res) => {\n  const product = _data.default.products.find(x => x.id === req.params.id);\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found!'\n    });\n  }\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n}); // port the backend server is running on\n\ndb.sequelize.sync().then(() => {\n  app.listen(5000, () => {\n    console.log('Server running on port http://localhost:5000');\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsImN1c3RvbWVyUm91dGVyIiwiYWRkcmVzc1JvdXRlciIsIm9yZGVyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJkYXRhIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiZmluZCIsIngiLCJpZCIsInBhcmFtcyIsInN0YXR1cyIsIm1lc3NhZ2UiLCJlcnIiLCJuZXh0IiwibmFtZSIsInNlcXVlbGl6ZSIsInN5bmMiLCJ0aGVuIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBO0FBQ0EsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUFsQjs7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVI7QUFDQUQsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsZ0JBQVIsRUFBMEJHLHVCQUExQjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSxjQUFSLEVBQXdCSSxzQkFBeEI7QUFDQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsYUFBUixFQUF1Qkssb0JBQXZCO0FBQ0FOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGNBQVIsRUFBd0JNLHNCQUF4QixFLENBSUE7O0FBQ0FQLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLGVBQVIsRUFBeUIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQVk7QUFDbkNBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTQyxjQUFLQyxRQUFkO0FBQ0QsQ0FGRCxFLENBR0E7O0FBQ0FiLEdBQUcsQ0FBQ1EsR0FBSixDQUFRLG1CQUFSLEVBQTZCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFhO0FBQ3hDLFFBQU1JLE9BQU8sR0FBR0YsY0FBS0MsUUFBTCxDQUFjRSxJQUFkLENBQW9CQyxDQUFELElBQU9BLENBQUMsQ0FBQ0MsRUFBRixLQUFTUixHQUFHLENBQUNTLE1BQUosQ0FBV0QsRUFBOUMsQ0FBaEI7O0FBQ0EsTUFBR0gsT0FBSCxFQUFXO0FBQ1RKLElBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTRyxPQUFUO0FBQ0QsR0FGRCxNQUVLO0FBQ0hKLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JSLElBQWhCLENBQXFCO0FBQUNTLE1BQUFBLE9BQU8sRUFBRTtBQUFWLEtBQXJCO0FBQ0Q7QUFDRixDQVBEO0FBU0FwQixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDb0IsR0FBRCxFQUFNWixHQUFOLEVBQVdDLEdBQVgsRUFBZ0JZLElBQWhCLEtBQXVCO0FBQzdCLFFBQU1ILE1BQU0sR0FBR0UsR0FBRyxDQUFDRSxJQUFKLElBQVlGLEdBQUcsQ0FBQ0UsSUFBSixLQUFhLGlCQUF6QixHQUE2QyxHQUE3QyxHQUFtRCxHQUFsRTtBQUNBYixFQUFBQSxHQUFHLENBQUNTLE1BQUosQ0FBV0EsTUFBWCxFQUFtQlIsSUFBbkIsQ0FBd0I7QUFBQ1MsSUFBQUEsT0FBTyxFQUFFQyxHQUFHLENBQUNEO0FBQWQsR0FBeEI7QUFDRCxDQUhELEUsQ0FJQTs7QUFDQXRCLEVBQUUsQ0FBQzBCLFNBQUgsQ0FBYUMsSUFBYixHQUFvQkMsSUFBcEIsQ0FBeUIsTUFBTTtBQUM3QjFCLEVBQUFBLEdBQUcsQ0FBQzJCLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDhDQUFaO0FBQ0QsR0FGRDtBQUdELENBSkQiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9TYXJhaF9CYWRpYmFuZ2EvRGV2ZWxvcG1lbnQvQ29kZS9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5cbmltcG9ydCBkYXRhIGZyb20gJy4vZGF0YSc7XG5pbXBvcnQgY3VzdG9tZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL2N1c3RvbWVyUm91dGVyJztcbmltcG9ydCBhZGRyZXNzUm91dGVyIGZyb20gJy4vcm91dGVycy9hZGRyZXNzUm91dGVyJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcnMvT3JkZXJSb3V0ZXInO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXInO1xuLy8gdXNlIHBhY2thZ2VzIGFuZCByZXRyaXZlIG1vZGVsc1xuY29uc3QgZGIgPSByZXF1aXJlKFwiLi9tb2RlbHNcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShcIi9hcGkvY3VzdG9tZXJzXCIsIGN1c3RvbWVyUm91dGVyKTtcbmFwcC51c2UoXCIvYXBpL2FkZHJlc3NcIiwgYWRkcmVzc1JvdXRlcik7XG5hcHAudXNlKFwiL2FwaS9vcmRlcnNcIiwgb3JkZXJSb3V0ZXIpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0JywgcHJvZHVjdFJvdXRlcik7XG5cblxuXG4vLyByZXRyaWV2ZSBwcm9kdWN0cyBvbiB0aGUgc2VydmVyIHNpZGVcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMnLCAocmVxLCByZXMpPT57XG4gIHJlcy5zZW5kKGRhdGEucHJvZHVjdHMpXG59KVxuLy8gcmV0cmlldmUgcHJvZHVjdCBieSBpZCBmcm9tIGRhdGEuanNcbmFwcC5nZXQoJy9hcGkvcHJvZHVjdHMvOmlkJywgKHJlcSwgcmVzKSA9PntcbiAgY29uc3QgcHJvZHVjdCA9IGRhdGEucHJvZHVjdHMuZmluZCgoeCkgPT4geC5pZCA9PT0gcmVxLnBhcmFtcy5pZCk7XG4gIGlmKHByb2R1Y3Qpe1xuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICB9ZWxzZXtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7bWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kISd9KTtcbiAgfVxufSlcblxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCk9PntcbiAgY29uc3Qgc3RhdHVzID0gZXJyLm5hbWUgJiYgZXJyLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InID8gNDAwIDogNTAwO1xuICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbn0pXG4vLyBwb3J0IHRoZSBiYWNrZW5kIHNlcnZlciBpcyBydW5uaW5nIG9uXG5kYi5zZXF1ZWxpemUuc3luYygpLnRoZW4oKCkgPT4ge1xuICBhcHAubGlzdGVuKDUwMDAsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU2VydmVyIHJ1bm5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcbiAgfSk7XG59KTtcblxuIl19","map":{"version":3,"sources":["server.js"],"names":["db","require","app","use","bodyParser","json","customerRouter","addressRouter","orderRouter","productRouter","get","req","res","send","data","products","product","find","x","id","params","status","message","err","next","name","sequelize","sync","then","listen","console","log"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,gBAAR,EAA0BG,uBAA1B;AACAJ,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBI,sBAAxB;AACAL,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBK,oBAAvB;AACAN,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBM,sBAAxB,E,CAIA;;AACAP,GAAG,CAACQ,GAAJ,CAAQ,eAAR,EAAyB,CAACC,GAAD,EAAMC,GAAN,KAAY;AACnCA,EAAAA,GAAG,CAACC,IAAJ,CAASC,cAAKC,QAAd;AACD,CAFD,E,CAGA;;AACAb,GAAG,CAACQ,GAAJ,CAAQ,mBAAR,EAA6B,CAACC,GAAD,EAAMC,GAAN,KAAa;AACxC,QAAMI,OAAO,GAAGF,cAAKC,QAAL,CAAcE,IAAd,CAAoBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASR,GAAG,CAACS,MAAJ,CAAWD,EAA9C,CAAhB;;AACA,MAAGH,OAAH,EAAW;AACTJ,IAAAA,GAAG,CAACC,IAAJ,CAASG,OAAT;AACD,GAFD,MAEK;AACHJ,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAACS,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD;AACF,CAPD;AASApB,GAAG,CAACC,GAAJ,CAAQ,CAACoB,GAAD,EAAMZ,GAAN,EAAWC,GAAX,EAAgBY,IAAhB,KAAuB;AAC7B,QAAMH,MAAM,GAAGE,GAAG,CAACE,IAAJ,IAAYF,GAAG,CAACE,IAAJ,KAAa,iBAAzB,GAA6C,GAA7C,GAAmD,GAAlE;AACAb,EAAAA,GAAG,CAACS,MAAJ,CAAWA,MAAX,EAAmBR,IAAnB,CAAwB;AAACS,IAAAA,OAAO,EAAEC,GAAG,CAACD;AAAd,GAAxB;AACD,CAHD,E,CAIA;;AACAtB,EAAE,CAAC0B,SAAH,CAAaC,IAAb,GAAoBC,IAApB,CAAyB,MAAM;AAC7B1B,EAAAA,GAAG,CAAC2B,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACD,GAFD;AAGD,CAJD","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\n\nimport data from './data';\nimport customerRouter from './routers/customerRouter';\nimport addressRouter from './routers/addressRouter';\nimport orderRouter from './routers/OrderRouter';\nimport productRouter from './routers/productRouter';\n// use packages and retrive models\nconst db = require(\"./models\");\n\nconst app = express();\napp.use(cors());\napp.use(bodyParser.json());\napp.use(\"/api/customers\", customerRouter);\napp.use(\"/api/address\", addressRouter);\napp.use(\"/api/orders\", orderRouter);\napp.use('/api/product', productRouter);\n\n\n\n// retrieve products on the server side\napp.get('/api/products', (req, res)=>{\n  res.send(data.products)\n})\n// retrieve product by id from data.js\napp.get('/api/products/:id', (req, res) =>{\n  const product = data.products.find((x) => x.id === req.params.id);\n  if(product){\n    res.send(product);\n  }else{\n    res.status(404).send({message: 'Product Not Found!'});\n  }\n})\n\napp.use((err, req, res, next)=>{\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({message: err.message});\n})\n// port the backend server is running on\ndb.sequelize.sync().then(() => {\n  app.listen(5000, () => {\n    console.log('Server running on port http://localhost:5000');\n  });\n});\n\n"]}},"mtime":1651662062219},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/data.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products as javascript object/module\nmodule.exports = {\n  products: [{\n    id: '1',\n    name: 'Meal 1',\n    image: '/images/dinners/product-1.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '2',\n    name: 'Meal 2',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '3',\n    name: 'Meal 3',\n    image: '/images/dinners/product-3.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '4',\n    name: 'Meal 4',\n    image: '/images/dinners/product-4.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '5',\n    name: 'Meal 5',\n    image: '/images/dinners/product-5.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '6',\n    name: 'Meal 6',\n    image: '/images/dinners/product-6.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '7',\n    name: 'Meal 7',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 0\n  }, {\n    id: '8',\n    name: 'Meal 8',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '9',\n    name: 'Meal 9',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInByb2R1Y3RzIiwiaWQiLCJuYW1lIiwiaW1hZ2UiLCJwcmljZSIsImRlc2NyaXAiLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWdCO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBRFEsRUFVUjtBQUNFTCxJQUFBQSxFQUFFLEVBQUUsR0FETjtBQUVFQyxJQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsK0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEtBSlQ7QUFLRUMsSUFBQUEsT0FBTyxFQUFFLDJEQUxYO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQVZRLEVBa0JSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEJRLEVBMEJSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUJRLEVBa0NSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbENRLEVBMENSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUNRLEVBa0RSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbERRLEVBMERSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMURRLEVBa0VSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEVRO0FBREUsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9TYXJhaF9CYWRpYmFuZ2EvRGV2ZWxvcG1lbnQvQ29kZS9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIGFzIGphdmFzY3JpcHQgb2JqZWN0L21vZHVsZVxubW9kdWxlLmV4cG9ydHMgPXtcbiAgICBwcm9kdWN0czogW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnTWVhbCAxJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0xLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAnTWVhbCAyJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0yLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIG5hbWU6ICdNZWFsIDMnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTMuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc0JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNCcsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNC5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDgsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzUnLFxuICAgICAgICBuYW1lOiAnTWVhbCA1JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC01LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnNicsXG4gICAgICAgIG5hbWU6ICdNZWFsIDYnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTYuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNycsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNy5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzgnLFxuICAgICAgICBuYW1lOiAnTWVhbCA4JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC03LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnOScsXG4gICAgICAgIG5hbWU6ICdNZWFsIDknLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTIuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuICAiXX0=","map":{"version":3,"sources":["data.js"],"names":["module","exports","products","id","name","image","price","descrip","countInStock"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAgB;AACZC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EAUR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAVQ,EAkBR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlBQ,EA0BR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1BQ,EAkCR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlCQ,EA0CR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1CQ,EAkDR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlDQ,EA0DR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1DQ,EAkER;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlEQ;AADE,CAAhB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/","sourcesContent":["// products as javascript object/module\nmodule.exports ={\n    products: [\n      {\n        id: '1',\n        name: 'Meal 1',\n        image: '/images/dinners/product-1.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n  \n      },\n      {\n        id: '2',\n        name: 'Meal 2',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '3',\n        name: 'Meal 3',\n        image: '/images/dinners/product-3.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '4',\n        name: 'Meal 4',\n        image: '/images/dinners/product-4.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '5',\n        name: 'Meal 5',\n        image: '/images/dinners/product-5.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '6',\n        name: 'Meal 6',\n        image: '/images/dinners/product-6.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '7',\n        name: 'Meal 7',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 0,\n      },\n      {\n        id: '8',\n        name: 'Meal 8',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '9',\n        name: 'Meal 9',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n    ],\n  };\n  "]}},"mtime":1651661889901},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/customerRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst customerRouter = _express.default.Router(); // Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\n\n\ncustomerRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    _models.Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n    }).then(createAdmin => res.send(createAdmin));\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n})); // Route to login customers\n\ncustomerRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const signinCustomer = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (!signinCustomer) {\n    res.status(401).send({\n      message: \"Invalid email or password\"\n    });\n  } else {\n    _bcrypt.default.compare(password, signinCustomer.password).then(async match => {\n      if (!match) res.send({\n        error: \"wrong email and password combo\"\n      });\n    });\n\n    res.send({\n      id: signinCustomer.id,\n      firstname: signinCustomer.firstName,\n      lastname: signinCustomer.lastName,\n      email: signinCustomer.email,\n      isAdmin: signinCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(signinCustomer)\n    });\n  }\n\n  ;\n})); // register customers\n\ncustomerRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n  const customerEmail = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (customerEmail) {\n    res.status(401).send({\n      message: \"Email already exists\"\n    });\n  } else if (!customerEmail) {\n    _bcrypt.default.hash(password, 10).then(hash => {\n      _models.Customers.create({\n        firstName: firstname,\n        lastName: lastname,\n        email: email,\n        password: hash\n      });\n    });\n\n    res.send({\n      id: _models.Customers.id,\n      firstname: _models.Customers.firstName,\n      lastname: _models.Customers.lastName,\n      email: _models.Customers.email,\n      isAdmin: _models.Customers.isAdmin,\n      token: (0, _utlis.generateToken)(_models.Customers)\n    });\n  }\n\n  ;\n})); // Rout to update customer info\n\ncustomerRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: id\n    }\n  });\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    await _bcrypt.default.hash(password, 10).then(hash => {\n      customer.firstName = firstname || customer.firstName;\n      customer.lastName = lastname || customer.lastName;\n      customer.email = email || customer.email;\n      customer.password = hash || customer.password;\n    });\n    const updatedCustomer = await customer.save();\n    res.send({\n      id: updatedCustomer.id,\n      firstname: updatedCustomer.firstName,\n      lastname: updatedCustomer.lastName,\n      email: updatedCustomer.email,\n      isAdmin: updatedCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(updatedCustomer)\n    });\n  }\n\n  ;\n}));\nvar _default = customerRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyUm91dGVyLmpzIl0sIm5hbWVzIjpbImN1c3RvbWVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIkN1c3RvbWVycyIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJ0aGVuIiwiY3JlYXRlQWRtaW4iLCJzZW5kIiwiZXJyIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJib2R5Iiwic2lnbmluQ3VzdG9tZXIiLCJmaW5kT25lIiwid2hlcmUiLCJiY3J5cHQiLCJjb21wYXJlIiwibWF0Y2giLCJlcnJvciIsImlkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0b2tlbiIsImN1c3RvbWVyRW1haWwiLCJoYXNoIiwicHV0IiwiaXNBdXRoIiwicGFyYW1zIiwiY3VzdG9tZXIiLCJ1cGRhdGVkQ3VzdG9tZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFMQTtBQVFBLE1BQU1BLGNBQWMsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdkIsQyxDQUVBOzs7QUFDQUYsY0FBYyxDQUFDRyxHQUFmLENBQ0ksY0FESixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBbUI7QUFDeEMsTUFBRztBQUNEQyxzQkFBVUMsTUFBVixDQUFpQjtBQUNqQkMsTUFBQUEsU0FBUyxFQUFFLE9BRE07QUFFakJDLE1BQUFBLFFBQVEsRUFBRSxPQUZPO0FBR2pCQyxNQUFBQSxLQUFLLEVBQUUsa0JBSFU7QUFJakJDLE1BQUFBLFFBQVEsRUFBRSxVQUpPO0FBS2pCQyxNQUFBQSxPQUFPLEVBQUU7QUFMUSxLQUFqQixFQU1FQyxJQU5GLENBTU9DLFdBQVcsSUFBSVQsR0FBRyxDQUFDVSxJQUFKLENBQVNELFdBQVQsQ0FOdEI7QUFPRCxHQVJELENBUUMsT0FBTUUsR0FBTixFQUFVO0FBQ1BYLElBQUFB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QzNCLEtBQVQsR0FBaUJBLEtBQUssSUFBSTJCLFFBQVEsQ0FBQzNCLEtBQW5DO0FBQ0EyQixNQUFBQSxRQUFRLENBQUMxQixRQUFULEdBQW9Cc0IsSUFBSSxJQUFJSSxRQUFRLENBQUMxQixRQUFyQztBQUNILEtBTEssQ0FBTjtBQU1BLFVBQU0yQixlQUFlLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxJQUFULEVBQTlCO0FBQ0FsQyxJQUFBQSxHQUFHLENBQUNVLElBQUosQ0FBUztBQUNMYSxNQUFBQSxFQUFFLEVBQUVVLGVBQWUsQ0FBQ1YsRUFEZjtBQUVMQyxNQUFBQSxTQUFTLEVBQUVTLGVBQWUsQ0FBQzlCLFNBRnRCO0FBR0xzQixNQUFBQSxRQUFRLEVBQUVRLGVBQWUsQ0FBQzdCLFFBSHJCO0FBSUxDLE1BQUFBLEtBQUssRUFBRTRCLGVBQWUsQ0FBQzVCLEtBSmxCO0FBS0xFLE1BQUFBLE9BQU8sRUFBRTBCLGVBQWUsQ0FBQzFCLE9BTHBCO0FBTUxtQixNQUFBQSxLQUFLLEVBQUUsMEJBQWNPLGVBQWQ7QUFORixLQUFUO0FBUUg7O0FBQUE7QUFDSixDQTFCRyxDQUZKO2VBZ0NldEMsYyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7Q3VzdG9tZXJzfSBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuXG5jb25zdCBjdXN0b21lclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIFJvdXRlIHRvIGNyZWF0ZSBhbiBhZG1pbiB1c2VyLCBjYW4gYmUgdXBkYXRlZCB0byBnZW5lcmF0ZSBuZXcgYWRtaW5zIG5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gZW5jcnlwdCBwYXNzd29yZCBoZXJlXG5jdXN0b21lclJvdXRlci5nZXQoXG4gICAgJy9jcmVhdGVhZG1pbicsIFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT57XG4gICAgdHJ5e1xuICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICBmaXJzdE5hbWU6IFwiU2lyZW5cIixcbiAgICAgIGxhc3ROYW1lOiBcIk9jZWFuXCIsXG4gICAgICBlbWFpbDogXCJzaXJlbm9AZ21haWwuY29tXCIsXG4gICAgICBwYXNzd29yZDogXCJwYXNzd29yZFwiLFxuICAgICAgaXNBZG1pbjogXCIxXCJcbiAgICAgfSkudGhlbihjcmVhdGVBZG1pbiA9PiByZXMuc2VuZChjcmVhdGVBZG1pbikpIFxuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbiAgICB9XG59KSk7XG5cblxuXG4vLyBSb3V0ZSB0byBsb2dpbiBjdXN0b21lcnNcbmN1c3RvbWVyUm91dGVyLnBvc3QoXG4gICAgJy9zaWduaW4nLCBcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIFxuICAgIGNvbnN0IHNpZ25pbkN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbH0gfSk7XG4gIFxuICAgIGlmICghc2lnbmluQ3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgc2lnbmluQ3VzdG9tZXIucGFzc3dvcmQpLnRoZW4oYXN5bmMgKG1hdGNoKSA9PntcbiAgICAgICAgICAgIGlmKCFtYXRjaCkgcmVzLnNlbmQoe2Vycm9yOiBcIndyb25nIGVtYWlsIGFuZCBwYXNzd29yZCBjb21ib1wifSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiBzaWduaW5DdXN0b21lci5pZCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogc2lnbmluQ3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IHNpZ25pbkN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHNpZ25pbkN1c3RvbWVyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluQ3VzdG9tZXIuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pbkN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xuICBcbiAgfSlcbik7XG5cbi8vIHJlZ2lzdGVyIGN1c3RvbWVyc1xuY3VzdG9tZXJSb3V0ZXIucG9zdChcbiAgICAnL3JlZ2lzdGVyJywgXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lckVtYWlsID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7ZW1haWx9IH0pO1xuICAgIFxuICAgIGlmIChjdXN0b21lckVtYWlsKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoIWN1c3RvbWVyRW1haWwpe1xuXG4gICAgICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCkudGhlbigoaGFzaCk9PntcbiAgICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0bmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0bmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogQ3VzdG9tZXJzLmlkLFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBDdXN0b21lcnMuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IEN1c3RvbWVycy5sYXN0TmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBDdXN0b21lcnMuZW1haWwsXG4gICAgICAgICAgICBpc0FkbWluOiBDdXN0b21lcnMuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKEN1c3RvbWVycylcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgXG4gIH0pXG4gICk7XG4vLyBSb3V0IHRvIHVwZGF0ZSBjdXN0b21lciBpbmZvXG5jdXN0b21lclJvdXRlci5wdXQoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBDdXN0b21lcnMuZmluZE9uZSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcblxuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBOb3QgRm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICAgIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLDEwKS50aGVuKChoYXNoKT0+e1xuICAgICAgICAgICAgY3VzdG9tZXIuZmlyc3ROYW1lID0gZmlyc3RuYW1lIHx8IGN1c3RvbWVyLmZpcnN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIubGFzdE5hbWUgPSBsYXN0bmFtZSB8fCBjdXN0b21lci5sYXN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIuZW1haWwgPSBlbWFpbCB8fCBjdXN0b21lci5lbWFpbFxuICAgICAgICAgICAgY3VzdG9tZXIucGFzc3dvcmQgPSBoYXNoIHx8IGN1c3RvbWVyLnBhc3N3b3JkXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyLnNhdmUoKTsgXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiB1cGRhdGVkQ3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBmaXJzdG5hbWU6IHVwZGF0ZWRDdXN0b21lci5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0bmFtZTogdXBkYXRlZEN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVwZGF0ZWRDdXN0b21lci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRDdXN0b21lci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZEN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xufSlcbik7XG4gIFxuICBcbmV4cG9ydCBkZWZhdWx0IGN1c3RvbWVyUm91dGVyO1xuIl19","map":{"version":3,"sources":["customerRouter.js"],"names":["customerRouter","express","Router","get","req","res","Customers","create","firstName","lastName","email","password","isAdmin","then","createAdmin","send","err","status","message","post","body","signinCustomer","findOne","where","bcrypt","compare","match","error","id","firstname","lastname","token","customerEmail","hash","put","isAuth","params","customer","updatedCustomer","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport bcrypt from 'bcrypt';\nimport expressAsyncHandler from 'express-async-handler';\nimport {Customers} from \"../models\";\nimport { generateToken, isAuth } from \"../utlis\";\n\n\nconst customerRouter = express.Router();\n\n// Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\ncustomerRouter.get(\n    '/createadmin', \n    expressAsyncHandler( async (req, res) =>{\n    try{\n      Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n     }).then(createAdmin => res.send(createAdmin)) \n    }catch(err){\n        res.status(500).send({message: err.message});\n    }\n}));\n\n\n\n// Route to login customers\ncustomerRouter.post(\n    '/signin', \n    expressAsyncHandler( async (req, res) => {\n    const { email, password } = req.body;\n  \n    const signinCustomer = await Customers.findOne({ where: { email} });\n  \n    if (!signinCustomer) {\n        res.status(401).send({\n            message: \"Invalid email or password\",\n        });\n    }else{\n        bcrypt.compare(password, signinCustomer.password).then(async (match) =>{\n            if(!match) res.send({error: \"wrong email and password combo\"});\n        })\n        res.send({\n            id: signinCustomer.id,\n            firstname: signinCustomer.firstName,\n            lastname: signinCustomer.lastName,\n            email: signinCustomer.email,\n            isAdmin: signinCustomer.isAdmin,\n            token: generateToken(signinCustomer)\n        });\n    };\n  \n  })\n);\n\n// register customers\ncustomerRouter.post(\n    '/register', \n    expressAsyncHandler( async (req, res) => {\n    const {firstname,lastname,password,email} = req.body;\n    const customerEmail = await Customers.findOne({where: {email} });\n    \n    if (customerEmail) {\n        res.status(401).send({\n            message: \"Email already exists\",\n        });\n    }\n    else if(!customerEmail){\n\n        bcrypt.hash(password, 10).then((hash)=>{\n        Customers.create({\n            firstName: firstname,\n            lastName: lastname,\n            email: email,\n            password: hash\n            });\n        });\n  \n        res.send({\n            id: Customers.id,\n            firstname: Customers.firstName,\n            lastname: Customers.lastName,\n            email: Customers.email,\n            isAdmin: Customers.isAdmin,\n            token: generateToken(Customers)\n        });\n    };\n  \n  })\n  );\n// Rout to update customer info\ncustomerRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer = await Customers.findOne({where: {id: id}});\n    const {firstname,lastname,password,email} = req.body;\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        await bcrypt.hash(password,10).then((hash)=>{\n            customer.firstName = firstname || customer.firstName\n            customer.lastName = lastname || customer.lastName\n            customer.email = email || customer.email\n            customer.password = hash || customer.password\n        })\n        const updatedCustomer = await customer.save(); \n        res.send({\n            id: updatedCustomer.id,\n            firstname: updatedCustomer.firstName,\n            lastname: updatedCustomer.lastName,\n            email: updatedCustomer.email,\n            isAdmin: updatedCustomer.isAdmin,\n            token: generateToken(updatedCustomer)\n        });\n    };\n})\n);\n  \n  \nexport default customerRouter;\n"]}},"mtime":1651661817597},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n/* eslint-disable global-require */\n\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = require(`${__dirname}/../config/config.js`)[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js').forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJfX2Rpcm5hbWUiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJqb2luIiwiRGF0YVR5cGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBO0FBQ0E7QUFFQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFFQSxNQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQzs7QUFDQSxNQUFNQyxNQUFNLEdBQUdSLE9BQU8sQ0FBRSxHQUFFUyxTQUFZLHNCQUFoQixDQUFQLENBQThDSixHQUE5QyxDQUFmOztBQUNBLE1BQU1LLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJSCxNQUFNLENBQUNJLGdCQUFYLEVBQTZCO0FBQzNCRCxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWUcsTUFBTSxDQUFDSSxnQkFBbkIsQ0FBZCxFQUFvREosTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztBQUNMRyxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjTSxNQUFNLENBQUNLLFFBQXJCLEVBQStCTCxNQUFNLENBQUNNLFFBQXRDLEVBQWdETixNQUFNLENBQUNPLFFBQXZELEVBQWlFUCxNQUFqRSxDQUFaO0FBQ0Q7O0FBRURULEVBQUUsQ0FDQ2lCLFdBREgsQ0FDZVAsU0FEZixFQUVHUSxNQUZILENBRVVDLElBQUksSUFBS0EsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUE4QkQsSUFBSSxLQUFLZixRQUF2QyxJQUFxRGUsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBRjFGLEVBR0dDLE9BSEgsQ0FHV0gsSUFBSSxJQUFJO0FBQ2YsUUFBTUksS0FBSyxHQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVkLFNBQVYsRUFBcUJTLElBQXJCLENBQUQsQ0FBUCxDQUFvQ1AsU0FBcEMsRUFBK0NULFNBQVMsQ0FBQ3NCLFNBQXpELENBQWQ7O0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FOSDtBQVFBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXdCTyxTQUFTLElBQUk7QUFDbkMsTUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtBQUMzQm5CLElBQUFBLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7QUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDUixTQUFILEdBQWVBLFNBQWY7QUFFQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1keW5hbWljLXJlcXVpcmUgKi9cbi8vIGltcG9ydGFudCBmaWxlIGdlbmVyYXRlZCBieSBzZXF1bGllemVcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShgJHtfX2Rpcm5hbWUgIH0vLi4vY29uZmlnL2NvbmZpZy5qc2ApW2Vudl07XG5jb25zdCBkYiA9IHt9O1xuXG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShjb25maWcuZGF0YWJhc2UsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcpO1xufVxuXG5mc1xuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxuICAuZmlsdGVyKGZpbGUgPT4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpKVxuICAuZm9yRWFjaChmaWxlID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5cbk9iamVjdC5rZXlzKGRiKS5mb3JFYWNoKG1vZGVsTmFtZSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5cbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjtcbiJdfQ==","map":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":";;AAAA;;AACA;AACA;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AAEA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,MAAMC,MAAM,GAAGR,OAAO,CAAE,GAAES,SAAY,sBAAhB,CAAP,CAA8CJ,GAA9C,CAAf;;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;AAC3BD,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEUC,IAAI,IAAKA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAF1F,EAGGC,OAHH,CAGWH,IAAI,IAAI;AACf,QAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;AACAd,EAAAA,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CANH;AAQAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwBO,SAAS,IAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname  }/../config/config.js`)[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js'))\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]}},"mtime":1651661614846},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nrequire('dotenv').config(); // config file to connect to the db\n\n\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJlbnYiLCJQQVNTV09SRCIsIkRBVEFCQVNFIiwiSE9TVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUNBOzs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsaUJBQWU7QUFDYixnQkFBWSxNQURDO0FBRWIsZ0JBQVlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUZYO0FBR2IsZ0JBQVlGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxRQUhYO0FBSWIsWUFBUUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSlA7QUFLYixlQUFXO0FBTEUsR0FEQTtBQVFmLFVBQVE7QUFDTixnQkFBWSxTQUROO0FBRU4sZ0JBQVksSUFGTjtBQUdOLGdCQUFZLGVBSE47QUFJTixZQUFRLFdBSkY7QUFLTixlQUFXO0FBTEwsR0FSTztBQWVmLGdCQUFjO0FBQ1osZ0JBQVksTUFEQTtBQUVaLGdCQUFZLElBRkE7QUFHWixnQkFBWSxxQkFIQTtBQUlaLFlBQVEsV0FKSTtBQUtaLGVBQVc7QUFMQztBQWZDLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcbi8vIGNvbmZpZyBmaWxlIHRvIGNvbm5lY3QgdG8gdGhlIGRiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJkZXZlbG9wbWVudFwiOiB7XG4gICAgXCJ1c2VybmFtZVwiOiBcInJvb3RcIixcbiAgICBcInBhc3N3b3JkXCI6IHByb2Nlc3MuZW52LlBBU1NXT1JELFxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREFUQUJBU0UsXG4gICAgXCJob3N0XCI6IHByb2Nlc3MuZW52LkhPU1QsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInRlc3RcIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb29jbGV0XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV90ZXN0XCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInByb2R1Y3Rpb25cIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb290XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV9wcm9kdWN0aW9uXCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxufVxuXG4iXX0=","map":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","process","env","PASSWORD","DATABASE","HOST"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB;AACf,iBAAe;AACb,gBAAY,MADC;AAEb,gBAAYC,OAAO,CAACC,GAAR,CAAYC,QAFX;AAGb,gBAAYF,OAAO,CAACC,GAAR,CAAYE,QAHX;AAIb,YAAQH,OAAO,CAACC,GAAR,CAAYG,IAJP;AAKb,eAAW;AALE,GADA;AAQf,UAAQ;AACN,gBAAY,SADN;AAEN,gBAAY,IAFN;AAGN,gBAAY,eAHN;AAIN,YAAQ,WAJF;AAKN,eAAW;AALL,GARO;AAef,gBAAc;AACZ,gBAAY,MADA;AAEZ,gBAAY,IAFA;AAGZ,gBAAY,qBAHA;AAIZ,YAAQ,WAJI;AAKZ,eAAW;AALC;AAfC,CAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/","sourcesContent":["require('dotenv').config()\n// config file to connect to the db\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n}\n\n"]}},"mtime":1651661494824},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Address.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Address = sequelize.define(\"Address\", {\n    address: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    city: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    postcode: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    country: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    }\n  });\n\n  Address.associate = models => {\n    Address.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Address.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Address;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3MuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkFkZHJlc3MiLCJkZWZpbmUiLCJhZGRyZXNzIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJjaXR5IiwicG9zdGNvZGUiLCJjb3VudHJ5IiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiQ3VzdG9tZXJzIiwib25EZWxldGUiLCJoYXNNYW55IiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsT0FBTyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsU0FBakIsRUFBNEI7QUFDMUNDLElBQUFBLE9BQU8sRUFBRTtBQUNQQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQURpQztBQVExQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBUm9DO0FBZTFDRSxJQUFBQSxRQUFRLEVBQUU7QUFDUk4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0FmZ0M7QUFzQjFDRyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFQ7QUFFUEMsTUFBQUEsU0FBUyxFQUFFLEtBRko7QUFHUEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEg7QUF0QmlDLEdBQTVCLENBQWhCOztBQThCQVAsRUFBQUEsT0FBTyxDQUFDVyxTQUFSLEdBQXFCQyxNQUFELElBQVk7QUFDOUJaLElBQUFBLE9BQU8sQ0FBQ2EsU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxTQUF6QixFQUFvQztBQUNsQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRHdCLEtBQXBDO0FBR0FmLElBQUFBLE9BQU8sQ0FBQ2dCLE9BQVIsQ0FBZ0JKLE1BQU0sQ0FBQ0ssU0FBdkIsRUFBa0M7QUFDaENGLE1BQUFBLFFBQVEsRUFBRTtBQURzQixLQUFsQztBQUdELEdBUEQ7O0FBUUEsU0FBT2YsT0FBUDtBQUNELENBeENIIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkcmVzcyB0YWJsZSB3cml0dGVuIHVzaW5nIHNlcXVsaWV6ZSBzeW50YXhcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gICAgY29uc3QgQWRkcmVzcyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJBZGRyZXNzXCIsIHtcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2l0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwb3N0Y29kZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb3VudHJ5OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIEFkZHJlc3MuYXNzb2NpYXRlID0gKG1vZGVscykgPT4ge1xuICAgICAgQWRkcmVzcy5iZWxvbmdzVG8obW9kZWxzLkN1c3RvbWVycywge1xuICAgICAgICBvbkRlbGV0ZTogXCJjYXNjYWRlXCIsXG4gICAgICB9KTtcbiAgICAgIEFkZHJlc3MuaGFzTWFueShtb2RlbHMuT3JkZXJsaW5lLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFkZHJlc3M7XG4gIH07Il19","map":{"version":3,"sources":["Address.js"],"names":["module","exports","sequelize","DataTypes","Address","define","address","type","STRING","allowNull","validate","notEmpty","city","postcode","country","associate","models","belongsTo","Customers","onDelete","hasMany","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,OAAO,GAAGF,SAAS,CAACG,MAAV,CAAiB,SAAjB,EAA4B;AAC1CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KADiC;AAQ1CC,IAAAA,IAAI,EAAE;AACJL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KARoC;AAe1CE,IAAAA,QAAQ,EAAE;AACRN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAfgC;AAsB1CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH;AAtBiC,GAA5B,CAAhB;;AA8BAP,EAAAA,OAAO,CAACW,SAAR,GAAqBC,MAAD,IAAY;AAC9BZ,IAAAA,OAAO,CAACa,SAAR,CAAkBD,MAAM,CAACE,SAAzB,EAAoC;AAClCC,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGAf,IAAAA,OAAO,CAACgB,OAAR,CAAgBJ,MAAM,CAACK,SAAvB,EAAkC;AAChCF,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAGD,GAPD;;AAQA,SAAOf,OAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Address = sequelize.define(\"Address\", {\n      address: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      city: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      postcode: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      country: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    });\n    Address.associate = (models) => {\n      Address.belongsTo(models.Customers, {\n        onDelete: \"cascade\",\n      });\n      Address.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n    return Address;\n  };"]}},"mtime":1651661566304},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Customers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Customers = sequelize.define(\"Customers\", {\n    firstName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    lastName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isAdmin: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Customers.associate = models => {\n    Customers.hasMany(models.Address, {\n      onDelete: \"cascade\"\n    });\n    Customers.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Customers;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1c3RvbWVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ3VzdG9tZXJzIiwiZGVmaW5lIiwiZmlyc3ROYW1lIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQk9PTEVBTiIsImRlZmF1bHQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiQWRkcmVzcyIsIm9uRGVsZXRlIiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsU0FBUyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsV0FBakIsRUFBOEI7QUFDOUNDLElBQUFBLFNBQVMsRUFBRTtBQUNUQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUDtBQUVUQyxNQUFBQSxTQUFTLEVBQUUsS0FGRjtBQUdUQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRCxLQURtQztBQVE5Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQ1JMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURSO0FBRVJDLE1BQUFBLFNBQVMsRUFBRSxLQUZIO0FBR1JDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhGLEtBUm9DO0FBZTlDRSxJQUFBQSxLQUFLLEVBQUU7QUFDTE4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FmdUM7QUFzQjlDRyxJQUFBQSxRQUFRLEVBQUU7QUFDUlAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0F0Qm9DO0FBNkI5Q0ksSUFBQUEsT0FBTyxFQUFFO0FBQ1BSLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQURUO0FBRVBDLE1BQUFBLE9BQU8sRUFBRTtBQUZGO0FBN0JxQyxHQUE5QixDQUFsQjs7QUFrQ0FiLEVBQUFBLFNBQVMsQ0FBQ2MsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQ2hDZixJQUFBQSxTQUFTLENBQUNnQixPQUFWLENBQWtCRCxNQUFNLENBQUNFLE9BQXpCLEVBQWtDO0FBQ2hDQyxNQUFBQSxRQUFRLEVBQUU7QUFEc0IsS0FBbEM7QUFJQWxCLElBQUFBLFNBQVMsQ0FBQ2dCLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0ksU0FBekIsRUFBb0M7QUFDbENELE1BQUFBLFFBQVEsRUFBRTtBQUR3QixLQUFwQztBQUdELEdBUkQ7O0FBVUEsU0FBT2xCLFNBQVA7QUFDRCxDQTlDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGN1c3RvbWVyIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBDdXN0b21lcnMgPSBzZXF1ZWxpemUuZGVmaW5lKFwiQ3VzdG9tZXJzXCIsIHtcbiAgICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc0FkbWluOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9XG4gICAgfSk7XG4gICAgQ3VzdG9tZXJzLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5BZGRyZXNzLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICBcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5PcmRlcmxpbmUsIHtcbiAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgfSk7XG4gICAgfTtcbiAgXG4gICAgcmV0dXJuIEN1c3RvbWVycztcbiAgfTsiXX0=","map":{"version":3,"sources":["Customers.js"],"names":["module","exports","sequelize","DataTypes","Customers","define","firstName","type","STRING","allowNull","validate","notEmpty","lastName","email","password","isAdmin","BOOLEAN","default","associate","models","hasMany","Address","onDelete","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADP;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHD,KADmC;AAQ9CC,IAAAA,QAAQ,EAAE;AACRL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KARoC;AAe9CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfuC;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,OAAO,EAAE;AACPR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADT;AAEPC,MAAAA,OAAO,EAAE;AAFF;AA7BqC,GAA9B,CAAlB;;AAkCAb,EAAAA,SAAS,CAACc,SAAV,GAAuBC,MAAD,IAAY;AAChCf,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACE,OAAzB,EAAkC;AAChCC,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAIAlB,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACI,SAAzB,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GARD;;AAUA,SAAOlB,SAAP;AACD,CA9CH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Customers = sequelize.define(\"Customers\", {\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isAdmin: {\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      }\n    });\n    Customers.associate = (models) => {\n      Customers.hasMany(models.Address, {\n        onDelete: \"cascade\",\n      });\n  \n      Customers.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n  \n    return Customers;\n  };"]}},"mtime":1651661579788},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Orderline.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Orderline = sequelize.define(\"Orderline\", {\n    totalPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    itemsPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    shippingPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    taxPrice: {\n      type: DataTypes.DOUBLE,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isPaid: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    },\n    isDelivered: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Orderline.associate = models => {\n    Orderline.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Orderline.belongsTo(models.Address, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Orderline;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVybGluZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiT3JkZXJsaW5lIiwiZGVmaW5lIiwidG90YWxQcmljZSIsInR5cGUiLCJET1VCTEUiLCJhbGxvd051bGwiLCJ2YWxpZGF0ZSIsIm5vdEVtcHR5IiwiaXRlbXNQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0YXhQcmljZSIsImlzUGFpZCIsIkJPT0xFQU4iLCJkZWZhdWx0IiwiaXNEZWxpdmVyZWQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJDdXN0b21lcnMiLCJvbkRlbGV0ZSIsIkFkZHJlc3MiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxTQUFTLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixXQUFqQixFQUE4QjtBQUM5Q0MsSUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQUROO0FBRVZDLE1BQUFBLFNBQVMsRUFBRSxLQUZEO0FBR1ZDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhBLEtBRGtDO0FBUTlDQyxJQUFBQSxVQUFVLEVBQUU7QUFDVkwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRE47QUFFVkMsTUFBQUEsU0FBUyxFQUFFLEtBRkQ7QUFHVkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEEsS0FSa0M7QUFlOUNFLElBQUFBLGFBQWEsRUFBRTtBQUNiTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFESDtBQUViQyxNQUFBQSxTQUFTLEVBQUUsS0FGRTtBQUdiQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRyxLQWYrQjtBQXNCOUNHLElBQUFBLFFBQVEsRUFBRTtBQUNSUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUjtBQUVSQyxNQUFBQSxTQUFTLEVBQUUsS0FGSDtBQUdSQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRixLQXRCb0M7QUE2QjlDSSxJQUFBQSxNQUFNLEVBQUM7QUFDTFIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BRFg7QUFFTEMsTUFBQUEsT0FBTyxFQUFFO0FBRkosS0E3QnVDO0FBaUM5Q0MsSUFBQUEsV0FBVyxFQUFDO0FBQ1ZYLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQUROO0FBRVZDLE1BQUFBLE9BQU8sRUFBRTtBQUZDO0FBakNrQyxHQUE5QixDQUFsQjs7QUF1Q0FiLEVBQUFBLFNBQVMsQ0FBQ2UsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQzlCaEIsSUFBQUEsU0FBUyxDQUFDaUIsU0FBVixDQUFvQkQsTUFBTSxDQUFDRSxTQUEzQixFQUFzQztBQUNwQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRDBCLEtBQXRDO0FBR0FuQixJQUFBQSxTQUFTLENBQUNpQixTQUFWLENBQW9CRCxNQUFNLENBQUNJLE9BQTNCLEVBQW9DO0FBQ2xDRCxNQUFBQSxRQUFRLEVBQUU7QUFEd0IsS0FBcEM7QUFHRCxHQVBIOztBQVFBLFNBQU9uQixTQUFQO0FBQ0QsQ0FqREgiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9TYXJhaF9CYWRpYmFuZ2EvRGV2ZWxvcG1lbnQvQ29kZS9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcmRlcmxpbmUgdGFibGUgd3JpdHRlbiB1c2luZyBzZXF1bGllemUgc3ludGF4XG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICAgIGNvbnN0IE9yZGVybGluZSA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJPcmRlcmxpbmVcIiwge1xuICAgICAgdG90YWxQcmljZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuRE9VQkxFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpdGVtc1ByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5ET1VCTEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNoaXBwaW5nUHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGF4UHJpY2U6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRPVUJMRSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaXNQYWlkOntcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGRlZmF1bHQ6ICcwJyxcbiAgICAgIH0sXG4gICAgICBpc0RlbGl2ZXJlZDp7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgT3JkZXJsaW5lLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQ3VzdG9tZXJzLCB7XG4gICAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgT3JkZXJsaW5lLmJlbG9uZ3NUbyhtb2RlbHMuQWRkcmVzcywge1xuICAgICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgcmV0dXJuIE9yZGVybGluZTtcbiAgfTsiXX0=","map":{"version":3,"sources":["Orderline.js"],"names":["module","exports","sequelize","DataTypes","Orderline","define","totalPrice","type","DOUBLE","allowNull","validate","notEmpty","itemsPrice","shippingPrice","taxPrice","isPaid","BOOLEAN","default","isDelivered","associate","models","belongsTo","Customers","onDelete","Address"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KADkC;AAQ9CC,IAAAA,UAAU,EAAE;AACVL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADN;AAEVC,MAAAA,SAAS,EAAE,KAFD;AAGVC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHA,KARkC;AAe9CE,IAAAA,aAAa,EAAE;AACbN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADH;AAEbC,MAAAA,SAAS,EAAE,KAFE;AAGbC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHG,KAf+B;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,MAAM,EAAC;AACLR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADX;AAELC,MAAAA,OAAO,EAAE;AAFJ,KA7BuC;AAiC9CC,IAAAA,WAAW,EAAC;AACVX,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADN;AAEVC,MAAAA,OAAO,EAAE;AAFC;AAjCkC,GAA9B,CAAlB;;AAuCAb,EAAAA,SAAS,CAACe,SAAV,GAAuBC,MAAD,IAAY;AAC9BhB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACE,SAA3B,EAAsC;AACpCC,MAAAA,QAAQ,EAAE;AAD0B,KAAtC;AAGAnB,IAAAA,SAAS,CAACiB,SAAV,CAAoBD,MAAM,CAACI,OAA3B,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GAPH;;AAQA,SAAOnB,SAAP;AACD,CAjDH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// orderline table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Orderline = sequelize.define(\"Orderline\", {\n      totalPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      itemsPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      shippingPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      taxPrice: {\n        type: DataTypes.DOUBLE,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isPaid:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n      isDelivered:{\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      },\n    });\n\n    Orderline.associate = (models) => {\n        Orderline.belongsTo(models.Customers, {\n          onDelete: \"cascade\",\n        });\n        Orderline.belongsTo(models.Address, {\n          onDelete: \"cascade\",\n        });\n      }\n    return Orderline;\n  };"]}},"mtime":1651661640433},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Products.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Products = sequelize.define(\"Products\", {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    price: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    image: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    descrip: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    countInStock: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      validate: {\n        notEmpty: true,\n        default: '0'\n      }\n    }\n  });\n  return Products;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJzZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJQcm9kdWN0cyIsImRlZmluZSIsIm5hbWUiLCJ0eXBlIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJub3RFbXB0eSIsInByaWNlIiwiaW1hZ2UiLCJkZXNjcmlwIiwiY291bnRJblN0b2NrIiwiSU5URUdFUiIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLENBQUNDLFNBQUQsRUFBWUMsU0FBWixLQUEwQjtBQUN2QyxRQUFNQyxRQUFRLEdBQUdGLFNBQVMsQ0FBQ0csTUFBVixDQUFpQixVQUFqQixFQUE2QjtBQUM1Q0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBRHNDO0FBUTVDQyxJQUFBQSxLQUFLLEVBQUU7QUFDTEwsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FScUM7QUFlNUNFLElBQUFBLEtBQUssRUFBRTtBQUNMTixNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEWDtBQUVMQyxNQUFBQSxTQUFTLEVBQUUsS0FGTjtBQUdMQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFITCxLQWZxQztBQXNCNUNHLElBQUFBLE9BQU8sRUFBRTtBQUNQUCxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQXRCbUM7QUE2QjVDSSxJQUFBQSxZQUFZLEVBQUU7QUFDWlIsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNhLE9BREo7QUFFWlAsTUFBQUEsU0FBUyxFQUFFLEtBRkM7QUFHWkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRSxJQURGO0FBRVJNLFFBQUFBLE9BQU8sRUFBRTtBQUZEO0FBSEU7QUE3QjhCLEdBQTdCLENBQWpCO0FBc0NBLFNBQU9iLFFBQVA7QUFDRCxDQXhDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBQcm9kdWN0cyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJQcm9kdWN0c1wiLCB7XG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByaWNlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGltYWdlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXA6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY291bnRJblN0b2NrOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICAgIGRlZmF1bHQ6ICcwJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb2R1Y3RzO1xuICB9OyJdfQ==","map":{"version":3,"sources":["Products.js"],"names":["module","exports","sequelize","DataTypes","Products","define","name","type","STRING","allowNull","validate","notEmpty","price","image","descrip","countInStock","INTEGER","default"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6B;AAC5CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KADsC;AAQ5CC,IAAAA,KAAK,EAAE;AACLL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KARqC;AAe5CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfqC;AAsB5CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KAtBmC;AA6B5CI,IAAAA,YAAY,EAAE;AACZR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADJ;AAEZP,MAAAA,SAAS,EAAE,KAFC;AAGZC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE,IADF;AAERM,QAAAA,OAAO,EAAE;AAFD;AAHE;AA7B8B,GAA7B,CAAjB;AAsCA,SAAOb,QAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// products table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Products = sequelize.define(\"Products\", {\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      price: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      image: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      descrip: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      countInStock: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        validate: {\n          notEmpty: true,\n          default: '0'\n        }\n      }\n    });\n    return Products;\n  };"]}},"mtime":1651661656864},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/utlis.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _configa = _interopRequireDefault(require(\"./config/configa\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable arrow-body-style */\n// function to generate a token for a customer\nconst generateToken = customer => {\n  return _jsonwebtoken.default.sign({\n    id: customer.id,\n    firstname: customer.firstName,\n    lastname: customer.lastName,\n    email: customer.email,\n    isAdmin: customer.isAdmin\n  }, _configa.default.JWT_SECRET);\n}; // function to check if the user is an authorizaed user\n\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n\n    _jsonwebtoken.default.verify(token, _configa.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.customer = data;\n        next();\n      }\n    });\n  }\n}; // function to check if the current logged in customer is an admin\n\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for this admin user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0bGlzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlVG9rZW4iLCJjdXN0b21lciIsImp3dCIsInNpZ24iLCJpZCIsImZpcnN0bmFtZSIsImZpcnN0TmFtZSIsImxhc3RuYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsImJlYXJlclRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBO0FBQ08sTUFBTUEsYUFBYSxHQUFJQyxRQUFELElBQWM7QUFDdkMsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxFQUFFLEVBQUVILFFBQVEsQ0FBQ0csRUFEZjtBQUVFQyxJQUFBQSxTQUFTLEVBQUVKLFFBQVEsQ0FBQ0ssU0FGdEI7QUFHRUMsSUFBQUEsUUFBUSxFQUFFTixRQUFRLENBQUNPLFFBSHJCO0FBSUVDLElBQUFBLEtBQUssRUFBRVIsUUFBUSxDQUFDUSxLQUpsQjtBQUtFQyxJQUFBQSxPQUFPLEVBQUVULFFBQVEsQ0FBQ1M7QUFMcEIsR0FESyxFQVFMQyxpQkFBT0MsVUFSRixDQUFQO0FBVUgsQ0FYTSxDLENBYVA7Ozs7O0FBQ08sTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW1CO0FBQ3ZDLFFBQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztBQUNBLE1BQUcsQ0FBQ0YsV0FBSixFQUFnQjtBQUNkRixJQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxPQUFPLEVBQUU7QUFBVixLQUFyQjtBQUNELEdBRkQsTUFFSztBQUNILFVBQU1DLEtBQUssR0FBR04sV0FBVyxDQUFDTyxLQUFaLENBQWtCLENBQWxCLEVBQW9CUCxXQUFXLENBQUNRLE1BQWhDLENBQWQ7O0FBQ0F2QiwwQkFBSXdCLE1BQUosQ0FBV0gsS0FBWCxFQUFrQlosaUJBQU9DLFVBQXpCLEVBQXFDLENBQUNlLEdBQUQsRUFBTUMsSUFBTixLQUFjO0FBQ2pELFVBQUdELEdBQUgsRUFBTztBQUNMWixRQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxVQUFBQSxPQUFPLEVBQUU7QUFBVixTQUFyQjtBQUNELE9BRkQsTUFFSztBQUNIUixRQUFBQSxHQUFHLENBQUNiLFFBQUosR0FBZTJCLElBQWY7QUFDQVosUUFBQUEsSUFBSTtBQUNMO0FBQ0YsS0FQRDtBQVFEO0FBQ0YsQ0FmTSxDLENBZ0JQOzs7OztBQUNPLE1BQU1OLE9BQU8sR0FBRyxDQUFDSSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUN6QyxNQUFJRixHQUFHLENBQUNiLFFBQUosSUFBZ0JhLEdBQUcsQ0FBQ2IsUUFBSixDQUFhUyxPQUFqQyxFQUEwQztBQUN4Q00sSUFBQUEsSUFBSTtBQUNMLEdBRkQsTUFFTztBQUNMRCxJQUFBQSxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FOTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuaW1wb3J0IGp3dCAgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnL2NvbmZpZ2EnO1xuXG4vLyBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIHRva2VuIGZvciBhIGN1c3RvbWVyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbiA9IChjdXN0b21lcikgPT4ge1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgIHtcbiAgICAgICAgaWQ6IGN1c3RvbWVyLmlkLFxuICAgICAgICBmaXJzdG5hbWU6IGN1c3RvbWVyLmZpcnN0TmFtZSxcbiAgICAgICAgbGFzdG5hbWU6IGN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICBlbWFpbDogY3VzdG9tZXIuZW1haWwsXG4gICAgICAgIGlzQWRtaW46IGN1c3RvbWVyLmlzQWRtaW5cbiAgICAgIH0sXG4gICAgICBjb25maWcuSldUX1NFQ1JFVFxuICAgICk7XG59O1xuXG4vLyBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgdXNlciBpcyBhbiBhdXRob3JpemFlZCB1c2VyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PntcbiAgY29uc3QgYmVhcmVyVG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZighYmVhcmVyVG9rZW4pe1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkJ30pO1xuICB9ZWxzZXtcbiAgICBjb25zdCB0b2tlbiA9IGJlYXJlclRva2VuLnNsaWNlKDcsYmVhcmVyVG9rZW4ubGVuZ3RoKTtcbiAgICBqd3QudmVyaWZ5KHRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGF0YSkgPT57XG4gICAgICBpZihlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVxLmN1c3RvbWVyID0gZGF0YTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbi8vIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBjdXJyZW50IGxvZ2dlZCBpbiBjdXN0b21lciBpcyBhbiBhZG1pblxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKHJlcS5jdXN0b21lciAmJiByZXEuY3VzdG9tZXIuaXNBZG1pbikge1xuICAgIG5leHQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdUb2tlbiBpcyBub3QgdmFsaWQgZm9yIHRoaXMgYWRtaW4gdXNlcicgfSk7XG4gIH1cbn07Il19","map":{"version":3,"sources":["utlis.js"],"names":["generateToken","customer","jwt","sign","id","firstname","firstName","lastname","lastName","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"mappings":";;;;;;;AACA;;AACA;;;;AAFA;AAIA;AACO,MAAMA,aAAa,GAAIC,QAAD,IAAc;AACvC,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,EAAE,EAAEH,QAAQ,CAACG,EADf;AAEEC,IAAAA,SAAS,EAAEJ,QAAQ,CAACK,SAFtB;AAGEC,IAAAA,QAAQ,EAAEN,QAAQ,CAACO,QAHrB;AAIEC,IAAAA,KAAK,EAAER,QAAQ,CAACQ,KAJlB;AAKEC,IAAAA,OAAO,EAAET,QAAQ,CAACS;AALpB,GADK,EAQLC,iBAAOC,UARF,CAAP;AAUH,CAXM,C,CAaP;;;;;AACO,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAmB;AACvC,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAG,CAACF,WAAJ,EAAgB;AACdF,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACD,GAFD,MAEK;AACH,UAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAoBP,WAAW,CAACQ,MAAhC,CAAd;;AACAvB,0BAAIwB,MAAJ,CAAWH,KAAX,EAAkBZ,iBAAOC,UAAzB,EAAqC,CAACe,GAAD,EAAMC,IAAN,KAAc;AACjD,UAAGD,GAAH,EAAO;AACLZ,QAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAE;AAAV,SAArB;AACD,OAFD,MAEK;AACHR,QAAAA,GAAG,CAACb,QAAJ,GAAe2B,IAAf;AACAZ,QAAAA,IAAI;AACL;AACF,KAPD;AAQD;AACF,CAfM,C,CAgBP;;;;;AACO,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzC,MAAIF,GAAG,CAACb,QAAJ,IAAgBa,GAAG,CAACb,QAAJ,CAAaS,OAAjC,EAA0C;AACxCM,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CANM","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/","sourcesContent":["/* eslint-disable arrow-body-style */\nimport jwt  from 'jsonwebtoken';\nimport config  from './config/configa';\n\n// function to generate a token for a customer\nexport const generateToken = (customer) => {\n    return jwt.sign(\n      {\n        id: customer.id,\n        firstname: customer.firstName,\n        lastname: customer.lastName,\n        email: customer.email,\n        isAdmin: customer.isAdmin\n      },\n      config.JWT_SECRET\n    );\n};\n\n// function to check if the user is an authorizaed user\nexport const isAuth = (req, res, next) =>{\n  const bearerToken = req.headers.authorization;\n  if(!bearerToken){\n    res.status(401).send({message: 'Token is not supplied'});\n  }else{\n    const token = bearerToken.slice(7,bearerToken.length);\n    jwt.verify(token, config.JWT_SECRET, (err, data) =>{\n      if(err){\n        res.status(401).send({message: 'Invalid Token'});\n      }else{\n        req.customer = data;\n        next();\n      }\n    })\n  }\n}\n// function to check if the current logged in customer is an admin\nexport const isAdmin = (req, res, next) => {\n  if (req.customer && req.customer.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({ message: 'Token is not valid for this admin user' });\n  }\n};"]}},"mtime":1651662123922},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/configa.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// config file to generate the secrect variable for the jwt token\n_dotenv.default.config();\n\nvar _default = {\n  JWT_SECRET: process.env.JWT_SECRET\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZ2EuanMiXSwibmFtZXMiOlsiZG90ZW52IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQURBO0FBR0FBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ2JDLEVBQUFBLFVBQVUsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGO0FBRFgsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvY29uZmlnLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbmZpZyBmaWxlIHRvIGdlbmVyYXRlIHRoZSBzZWNyZWN0IHZhcmlhYmxlIGZvciB0aGUgand0IHRva2VuXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5cbmRvdGVudi5jb25maWcoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxufTsiXX0=","map":{"version":3,"sources":["configa.js"],"names":["dotenv","config","JWT_SECRET","process","env"],"mappings":";;;;;;;AACA;;;;AADA;AAGAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYF;AADX,C","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/","sourcesContent":["// config file to generate the secrect variable for the jwt token\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n  JWT_SECRET: process.env.JWT_SECRET,\n};"]}},"mtime":1651661530707},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/addressRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst addressRouter = _express.default.Router(); // address route to create address\n\n\naddressRouter.post('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    address,\n    postcode,\n    city,\n    country\n  } = req.body;\n  const customerId = req.customer.id;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: customerId\n    }\n  });\n  const custAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId,\n      postcode: postcode,\n      address: address\n    }\n  });\n  const cAddress = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else if (custAddress) {\n    res.status(401).send({\n      message: \"Address already registered\"\n    });\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  } else if (cAddress) {\n    res.status(401).send({\n      message: \"To use new address, update.\"\n    });\n  } else {\n    _models.Address.create({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country,\n      CustomerId: customerId\n    });\n\n    res.send({\n      address: address,\n      postcode: postcode,\n      city: city,\n      country: country\n    });\n  }\n})); // address route to update address\n\naddressRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Address.findOne({\n    where: {\n      CustomerId: id\n    }\n  });\n\n  if (!customer) {\n    res.status(404).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    customer.address = req.body.address || customer.address;\n    customer.postcode = req.body.postcode || customer.postcode;\n    customer.city = req.body.city || customer.city;\n    customer.country = req.body.country || customer.country;\n    const updatedAddress = await customer.save();\n    res.send({\n      id: updatedAddress.id,\n      address: updatedAddress.address,\n      postcode: updatedAddress.postcode,\n      city: updatedAddress.city,\n      country: updatedAddress.country\n    });\n  }\n\n  ;\n}));\nvar _default = addressRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHJlc3NSb3V0ZXIuanMiXSwibmFtZXMiOlsiYWRkcmVzc1JvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwiYWRkcmVzcyIsInBvc3Rjb2RlIiwiY2l0eSIsImNvdW50cnkiLCJib2R5IiwiY3VzdG9tZXJJZCIsImN1c3RvbWVyIiwiaWQiLCJDdXN0b21lcnMiLCJmaW5kT25lIiwid2hlcmUiLCJjdXN0QWRkcmVzcyIsIkFkZHJlc3MiLCJDdXN0b21lcklkIiwiY0FkZHJlc3MiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNyZWF0ZSIsInB1dCIsInBhcmFtcyIsInVwZGF0ZWRBZGRyZXNzIiwic2F2ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBSkE7QUFNQSxNQUFNQSxhQUFhLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXRCLEMsQ0FDQTs7O0FBQ0FGLGFBQWEsQ0FBQ0csSUFBZCxDQUNJLE1BREosRUFDWUMsYUFEWixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTztBQUFDQyxJQUFBQSxPQUFEO0FBQVVDLElBQUFBLFFBQVY7QUFBb0JDLElBQUFBLElBQXBCO0FBQTBCQyxJQUFBQTtBQUExQixNQUFxQ0wsR0FBRyxDQUFDTSxJQUFoRDtBQUNBLFFBQU1DLFVBQVUsR0FBR1AsR0FBRyxDQUFDUSxRQUFKLENBQWFDLEVBQWhDO0FBQ0EsUUFBTUQsUUFBUSxHQUFHLE1BQU1FLGtCQUFVQyxPQUFWLENBQWtCO0FBQUNDLElBQUFBLEtBQUssRUFBRTtBQUFDSCxNQUFBQSxFQUFFLEVBQUVGO0FBQUw7QUFBUixHQUFsQixDQUF2QjtBQUNBLFFBQU1NLFdBQVcsR0FBRyxNQUFNQyxnQkFBUUgsT0FBUixDQUFnQjtBQUFDQyxJQUFBQSxLQUFLLEVBQUU7QUFBQ0csTUFBQUEsVUFBVSxFQUFFUixVQUFiO0FBQXlCSixNQUFB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TWtCLGNBQWMsR0FBRyxNQUFNZixRQUFRLENBQUNnQixJQUFULEVBQTdCO0FBQ0F2QixJQUFBQSxHQUFHLENBQUNpQixJQUFKLENBQVM7QUFDTFQsTUFBQUEsRUFBRSxFQUFFYyxjQUFjLENBQUNkLEVBRGQ7QUFFTFAsTUFBQUEsT0FBTyxFQUFFcUIsY0FBYyxDQUFDckIsT0FGbkI7QUFHTEMsTUFBQUEsUUFBUSxFQUFFb0IsY0FBYyxDQUFDcEIsUUFIcEI7QUFJTEMsTUFBQUEsSUFBSSxFQUFFbUIsY0FBYyxDQUFDbkIsSUFKaEI7QUFLTEMsTUFBQUEsT0FBTyxFQUFFa0IsY0FBYyxDQUFDbEI7QUFMbkIsS0FBVDtBQU9IOztBQUFBO0FBQ0osQ0F0QkcsQ0FGSjtlQTRCZVYsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7QWRkcmVzcywgQ3VzdG9tZXJzfSBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHtpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuY29uc3QgYWRkcmVzc1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4vLyBhZGRyZXNzIHJvdXRlIHRvIGNyZWF0ZSBhZGRyZXNzXG5hZGRyZXNzUm91dGVyLnBvc3QoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgIHthZGRyZXNzLCBwb3N0Y29kZSwgY2l0eSwgY291bnRyeX0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7aWQ6IGN1c3RvbWVySWQgfX0pO1xuICAgIGNvbnN0IGN1c3RBZGRyZXNzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWQsIHBvc3Rjb2RlOiBwb3N0Y29kZSwgYWRkcmVzczogYWRkcmVzc319KTtcbiAgICBjb25zdCBjQWRkcmVzcyA9IGF3YWl0IEFkZHJlc3MuZmluZE9uZSh7d2hlcmU6IHtDdXN0b21lcklkOiBjdXN0b21lcklkfX0pO1xuXG4gICAgaWYgKCFjdXN0b21lcikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkN1c3RvbWVyIE5vdCBGb3VuZFwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZSBpZiAoY3VzdEFkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkFkZHJlc3MgYWxyZWFkeSByZWdpc3RlcmVkXCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IGNvdW50cnlcbiAgICAgICAgfSlcbiAgICB9ZWxzZSBpZiAoY0FkZHJlc3Mpe1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIlRvIHVzZSBuZXcgYWRkcmVzcywgdXBkYXRlLlwiLFxuICAgICAgICB9KTtcbiAgICB9ZWxzZXtcbiAgICAgICAgQWRkcmVzcy5jcmVhdGUoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5LFxuICAgICAgICAgICAgQ3VzdG9tZXJJZDogY3VzdG9tZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyxcbiAgICAgICAgICAgIHBvc3Rjb2RlOiBwb3N0Y29kZSxcbiAgICAgICAgICAgIGNpdHk6IGNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBjb3VudHJ5XG4gICAgICAgIH0pXG4gICAgfVxufSkgIFxuKTtcbi8vIGFkZHJlc3Mgcm91dGUgdG8gdXBkYXRlIGFkZHJlc3NcbmFkZHJlc3NSb3V0ZXIucHV0KFxuICAgICcvOmlkJywgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IGN1c3RvbWVyPSBhd2FpdCBBZGRyZXNzLmZpbmRPbmUoe3doZXJlOiB7Q3VzdG9tZXJJZDogaWR9fSk7XG5cbiAgICBpZiAoIWN1c3RvbWVyKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgTm90IEZvdW5kXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBjdXN0b21lci5hZGRyZXNzID0gcmVxLmJvZHkuYWRkcmVzcyB8fCBjdXN0b21lci5hZGRyZXNzXG4gICAgICAgIGN1c3RvbWVyLnBvc3Rjb2RlID0gcmVxLmJvZHkucG9zdGNvZGUgfHwgY3VzdG9tZXIucG9zdGNvZGVcbiAgICAgICAgY3VzdG9tZXIuY2l0eSA9IHJlcS5ib2R5LmNpdHkgfHwgY3VzdG9tZXIuY2l0eVxuICAgICAgICBjdXN0b21lci5jb3VudHJ5ID0gcmVxLmJvZHkuY291bnRyeSB8fCBjdXN0b21lci5jb3VudHJ5XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBZGRyZXNzID0gYXdhaXQgY3VzdG9tZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogdXBkYXRlZEFkZHJlc3MuaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiB1cGRhdGVkQWRkcmVzcy5hZGRyZXNzLFxuICAgICAgICAgICAgcG9zdGNvZGU6IHVwZGF0ZWRBZGRyZXNzLnBvc3Rjb2RlLFxuICAgICAgICAgICAgY2l0eTogdXBkYXRlZEFkZHJlc3MuY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IHVwZGF0ZWRBZGRyZXNzLmNvdW50cnksXG4gICAgICAgIH0pO1xuICAgIH07XG59KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCBhZGRyZXNzUm91dGVyO1xuIl19","map":{"version":3,"sources":["addressRouter.js"],"names":["addressRouter","express","Router","post","isAuth","req","res","address","postcode","city","country","body","customerId","customer","id","Customers","findOne","where","custAddress","Address","CustomerId","cAddress","status","send","message","create","put","params","updatedAddress","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport {Address, Customers} from '../models';\nimport {isAuth } from \"../utlis\";\n\nconst addressRouter = express.Router();\n// address route to create address\naddressRouter.post(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const  {address, postcode, city, country} = req.body;\n    const customerId = req.customer.id;\n    const customer = await Customers.findOne({where: {id: customerId }});\n    const custAddress = await Address.findOne({where: {CustomerId: customerId, postcode: postcode, address: address}});\n    const cAddress = await Address.findOne({where: {CustomerId: customerId}});\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else if (custAddress){\n        res.status(401).send({\n            message: \"Address already registered\",\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }else if (cAddress){\n        res.status(401).send({\n            message: \"To use new address, update.\",\n        });\n    }else{\n        Address.create({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country,\n            CustomerId: customerId\n        });\n        res.send({\n            address: address,\n            postcode: postcode,\n            city: city,\n            country: country\n        })\n    }\n})  \n);\n// address route to update address\naddressRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer= await Address.findOne({where: {CustomerId: id}});\n\n    if (!customer) {\n        res.status(404).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        customer.address = req.body.address || customer.address\n        customer.postcode = req.body.postcode || customer.postcode\n        customer.city = req.body.city || customer.city\n        customer.country = req.body.country || customer.country\n        const updatedAddress = await customer.save();\n        res.send({\n            id: updatedAddress.id,\n            address: updatedAddress.address,\n            postcode: updatedAddress.postcode,\n            city: updatedAddress.city,\n            country: updatedAddress.country,\n        });\n    };\n})\n);\n\n\nexport default addressRouter;\n"]}},"mtime":1651661714919},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/OrderRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router(); // route to place an order, ispaid and delivered are default 0(false)\n\n\norderRouter.post('/', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const customerId = req.customer.id;\n  const addresses = await _models.Address.findOne({\n    where: {\n      CustomerId: customerId\n    }\n  });\n  const addressId = addresses.id;\n  const createdOrder = {\n    totalPrice: req.body.totalPrice,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    AddressId: addressId,\n    CustomerId: customerId,\n    isPaid: '0',\n    isDelivered: '0'\n  };\n  const newOrder = await _models.Orderline.create(createdOrder);\n  res.status(201).send({\n    message: 'New Order Created',\n    data: newOrder\n  });\n})); // route to get all orders made by a specific customer\n\norderRouter.get('/mine', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    where: {\n      CustomerId: req.customer.id\n    }\n  });\n  res.send(orders);\n})); // Route to get all the orders ever made from admin dashboard\n\norderRouter.get('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _models.Orderline.findAll({\n    customer: req.customer.id\n  });\n  res.send(orders);\n})); // Route to delete the orders made from admin dashboard\n\norderRouter.delete('/:id', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _models.Orderline.findByPk(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.destroy();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJjdXN0b21lcklkIiwiY3VzdG9tZXIiLCJpZCIsImFkZHJlc3NlcyIsIkFkZHJlc3MiLCJmaW5kT25lIiwid2hlcmUiLCJDdXN0b21lcklkIiwiYWRkcmVzc0lkIiwiY3JlYXRlZE9yZGVyIiwidG90YWxQcmljZSIsImJvZHkiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwiQWRkcmVzc0lkIiwiaXNQYWlkIiwiaXNEZWxpdmVyZWQiLCJuZXdPcmRlciIsIk9yZGVybGluZSIsImNyZWF0ZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiZGF0YSIsImdldCIsIm9yZGVycyIsImZpbmRBbGwiLCJpc0FkbWluIiwiZGVsZXRlIiwib3JkZXIiLCJmaW5kQnlQayIsInBhcmFtcyIsImRlbGV0ZWRPcmRlciIsImRlc3Ryb3kiLCJwcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCLEMsQ0FDQTs7O0FBQ0FGLFdBQVcsQ0FBQ0csSUFBWixDQUNJLEdBREosRUFFSUMsYUFGSixFQUdJLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTUMsVUFBVSxHQUFHRixHQUFHLENBQUNHLFFBQUosQ0FBYUMsRUFBaEM7QUFDQSxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsZ0JBQVFDLE9BQVIsQ0FBZ0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVA7QUFBYjtBQUFSLEdBQWhCLENBQXhCO0FBQ0EsUUFBTVEsU0FBUyxHQUFHTCxTQUFTLENBQUNELEVBQTVCO0FBRUEsUUFBTU8sWUFBWSxHQUFJO0FBQ3BCQyxJQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRCxVQUREO0FBRXBCRSxJQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ2EsSUFBSixDQUFTQyxVQUZEO0FBR3BCQyxJQUFBQSxRQUFRLEVBQUVmLEdBQUcsQ0FBQ2EsSUFBSixDQUFTRSxRQUhDO0FBSXBCQyxJQUFBQSxhQUFhLEVBQUVoQixHQUFHLENBQUNhLElBQUosQ0FBU0csYUFKSjtBQUtwQkMsSUFBQUEsU0FBUyxFQUFFUCxTQUxTO0FBTXBCRCxJQUFBQSxVQUFVLEVBQUVQLFVBTlE7QUFPcEJnQixJQUFBQSxNQUFNLEVBQUUsR0FQWTtBQVFwQkMsSUFBQUEsV0FBVyxFQUFFO0FBUk8sR0FBdEI7QUFVQSxRQUFNQyxRQUFRLEdBQUcsTUFBTUMsa0JBQVVDLE1BQVYsQ0FBaUJYLFlBQWpCLENBQXZCO0FBQ0FWLEVBQUFBLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxPQUFPLEVBQUUsbUJBQVg7QUFBZ0NDLElBQUFBLElBQUksRUFBRU47QUFBdEMsR0FBckI7QUFDRCxDQWpCRCxDQUhKLEUsQ0FzQkE7O0FBQ0F6QixXQUFXLENBQUNnQyxHQUFaLENBQ0UsT0FERixFQUVFNUIsYUFGRixFQUdFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFFckIsSUFBQUEsS0FBSyxFQUFFO0FBQUNDLE1BQUFBLFVBQVUsRUFBRVQsR0FBRyxDQUFDRyxRQUFKLENBQWFDO0FBQTFCO0FBQVQsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUhGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ2dDLEdBQVosQ0FDRSxHQURGLEVBRUU1QixhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTTJCLE1BQU0sR0FBRyxNQUFNUCxrQkFBVVEsT0FBVixDQUFrQjtBQUFDMUIsSUFBQUEsUUFBUSxFQUFFSCxHQUFHLENBQUNHLFFBQUosQ0FBYUM7QUFBeEIsR0FBbEIsQ0FBckI7QUFDQUgsRUFBQUEsR0FBRyxDQUFDdUIsSUFBSixDQUFTSSxNQUFUO0FBQ0QsQ0FIRCxDQUpGLEUsQ0FTQTs7QUFDQWpDLFdBQVcsQ0FBQ29DLE1BQVosQ0FDRSxNQURGLEVBRUVoQyxhQUZGLEVBR0UrQixjQUhGLEVBSUUsa0NBQW9CLE9BQU85QixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsUUFBTStCLEtBQUssR0FBRyxNQUFNWCxrQkFBVVksUUFBVixDQUFtQmpDLEdBQUcsQ0FBQ2tDLE1BQUosQ0FBVzlCLEVBQTlCLENBQXBCOztBQUNBLE1BQUk0QixLQUFKLEVBQVc7QUFDVCxVQUFNRyxZQUFZLEdBQUcsTUFBTUgsS0FBSyxDQUFDSSxPQUFOLEVBQTNCO0FBQ0FuQyxJQUFBQSxHQUFHLENBQUN1QixJQUFKLENBQVM7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGVBQVg7QUFBNEJZLE1BQUFBLE9BQU8sRUFBRUY7QUFBckMsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMbEMsSUFBQUEsR0FBRyxDQUFDc0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQVJELENBSkY7ZUFjZTlCLFciLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9TYXJhaF9CYWRpYmFuZ2EvRGV2ZWxvcG1lbnQvQ29kZS9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kL3JvdXRlcnMvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7IGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0bGlzJztcbmltcG9ydCB7T3JkZXJsaW5lLCBBZGRyZXNzfSBmcm9tICcuLi9tb2RlbHMnO1xuXG5cbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbi8vIHJvdXRlIHRvIHBsYWNlIGFuIG9yZGVyLCBpc3BhaWQgYW5kIGRlbGl2ZXJlZCBhcmUgZGVmYXVsdCAwKGZhbHNlKVxub3JkZXJSb3V0ZXIucG9zdChcbiAgICAnLycsXG4gICAgaXNBdXRoLFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21lcklkID0gcmVxLmN1c3RvbWVyLmlkO1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gYXdhaXQgQWRkcmVzcy5maW5kT25lKHt3aGVyZToge0N1c3RvbWVySWQ6IGN1c3RvbWVySWR9fSlcbiAgICAgIGNvbnN0IGFkZHJlc3NJZCA9IGFkZHJlc3Nlcy5pZFxuICAgICAgXG4gICAgICBjb25zdCBjcmVhdGVkT3JkZXIgPSAoe1xuICAgICAgICB0b3RhbFByaWNlOiByZXEuYm9keS50b3RhbFByaWNlLFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIEFkZHJlc3NJZDogYWRkcmVzc0lkLFxuICAgICAgICBDdXN0b21lcklkOiBjdXN0b21lcklkLFxuICAgICAgICBpc1BhaWQ6ICcwJyxcbiAgICAgICAgaXNEZWxpdmVyZWQ6ICcwJ1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXdPcmRlciA9IGF3YWl0IE9yZGVybGluZS5jcmVhdGUoY3JlYXRlZE9yZGVyKTtcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogJ05ldyBPcmRlciBDcmVhdGVkJywgZGF0YTogbmV3T3JkZXJ9KTtcbiAgICB9KVxuKTtcbi8vIHJvdXRlIHRvIGdldCBhbGwgb3JkZXJzIG1hZGUgYnkgYSBzcGVjaWZpYyBjdXN0b21lclxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnL21pbmUnLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRBbGwoeyB3aGVyZToge0N1c3RvbWVySWQ6IHJlcS5jdXN0b21lci5pZH19KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xuICB9KVxuKTtcblxuLy8gUm91dGUgdG8gZ2V0IGFsbCB0aGUgb3JkZXJzIGV2ZXIgbWFkZSBmcm9tIGFkbWluIGRhc2hib2FyZFxub3JkZXJSb3V0ZXIuZ2V0KFxuICAnLycsXG4gIGlzQXV0aCxcbiAgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlcmxpbmUuZmluZEFsbCh7Y3VzdG9tZXI6IHJlcS5jdXN0b21lci5pZH0pXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbiAgfSlcbik7XG4vLyBSb3V0ZSB0byBkZWxldGUgdGhlIG9yZGVycyBtYWRlIGZyb20gYWRtaW4gZGFzaGJvYXJkXG5vcmRlclJvdXRlci5kZWxldGUoXG4gICcvOmlkJyxcbiAgaXNBdXRoLFxuICBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXJsaW5lLmZpbmRCeVBrKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuZGVzdHJveSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19","map":{"version":3,"sources":["OrderRouter.js"],"names":["orderRouter","express","Router","post","isAuth","req","res","customerId","customer","id","addresses","Address","findOne","where","CustomerId","addressId","createdOrder","totalPrice","body","itemsPrice","taxPrice","shippingPrice","AddressId","isPaid","isDelivered","newOrder","Orderline","create","status","send","message","data","get","orders","findAll","isAdmin","delete","order","findByPk","params","deletedOrder","destroy","product"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB,C,CACA;;;AACAF,WAAW,CAACG,IAAZ,CACI,GADJ,EAEIC,aAFJ,EAGI,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAMC,UAAU,GAAGF,GAAG,CAACG,QAAJ,CAAaC,EAAhC;AACA,QAAMC,SAAS,GAAG,MAAMC,gBAAQC,OAAR,CAAgB;AAACC,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAEP;AAAb;AAAR,GAAhB,CAAxB;AACA,QAAMQ,SAAS,GAAGL,SAAS,CAACD,EAA5B;AAEA,QAAMO,YAAY,GAAI;AACpBC,IAAAA,UAAU,EAAEZ,GAAG,CAACa,IAAJ,CAASD,UADD;AAEpBE,IAAAA,UAAU,EAAEd,GAAG,CAACa,IAAJ,CAASC,UAFD;AAGpBC,IAAAA,QAAQ,EAAEf,GAAG,CAACa,IAAJ,CAASE,QAHC;AAIpBC,IAAAA,aAAa,EAAEhB,GAAG,CAACa,IAAJ,CAASG,aAJJ;AAKpBC,IAAAA,SAAS,EAAEP,SALS;AAMpBD,IAAAA,UAAU,EAAEP,UANQ;AAOpBgB,IAAAA,MAAM,EAAE,GAPY;AAQpBC,IAAAA,WAAW,EAAE;AARO,GAAtB;AAUA,QAAMC,QAAQ,GAAG,MAAMC,kBAAUC,MAAV,CAAiBX,YAAjB,CAAvB;AACAV,EAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,mBAAX;AAAgCC,IAAAA,IAAI,EAAEN;AAAtC,GAArB;AACD,CAjBD,CAHJ,E,CAsBA;;AACAzB,WAAW,CAACgC,GAAZ,CACE,OADF,EAEE5B,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAErB,IAAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAET,GAAG,CAACG,QAAJ,CAAaC;AAA1B;AAAT,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAHF,E,CASA;;AACAjC,WAAW,CAACgC,GAAZ,CACE,GADF,EAEE5B,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM2B,MAAM,GAAG,MAAMP,kBAAUQ,OAAV,CAAkB;AAAC1B,IAAAA,QAAQ,EAAEH,GAAG,CAACG,QAAJ,CAAaC;AAAxB,GAAlB,CAArB;AACAH,EAAAA,GAAG,CAACuB,IAAJ,CAASI,MAAT;AACD,CAHD,CAJF,E,CASA;;AACAjC,WAAW,CAACoC,MAAZ,CACE,MADF,EAEEhC,aAFF,EAGE+B,cAHF,EAIE,kCAAoB,OAAO9B,GAAP,EAAYC,GAAZ,KAAoB;AACtC,QAAM+B,KAAK,GAAG,MAAMX,kBAAUY,QAAV,CAAmBjC,GAAG,CAACkC,MAAJ,CAAW9B,EAA9B,CAApB;;AACA,MAAI4B,KAAJ,EAAW;AACT,UAAMG,YAAY,GAAG,MAAMH,KAAK,CAACI,OAAN,EAA3B;AACAnC,IAAAA,GAAG,CAACuB,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE,eAAX;AAA4BY,MAAAA,OAAO,EAAEF;AAArC,KAAT;AACD,GAHD,MAGO;AACLlC,IAAAA,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CARD,CAJF;eAce9B,W","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/","sourcesContent":["\nimport express from \"express\";\nimport expressAsyncHandler from 'express-async-handler';\nimport { isAdmin, isAuth } from '../utlis';\nimport {Orderline, Address} from '../models';\n\n\nconst orderRouter = express.Router();\n// route to place an order, ispaid and delivered are default 0(false)\norderRouter.post(\n    '/',\n    isAuth,\n    expressAsyncHandler(async (req, res) => {\n      const customerId = req.customer.id;\n      const addresses = await Address.findOne({where: {CustomerId: customerId}})\n      const addressId = addresses.id\n      \n      const createdOrder = ({\n        totalPrice: req.body.totalPrice,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        AddressId: addressId,\n        CustomerId: customerId,\n        isPaid: '0',\n        isDelivered: '0'\n      });\n      const newOrder = await Orderline.create(createdOrder);\n      res.status(201).send({ message: 'New Order Created', data: newOrder});\n    })\n);\n// route to get all orders made by a specific customer\norderRouter.get(\n  '/mine',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({ where: {CustomerId: req.customer.id}});\n    res.send(orders);\n  })\n);\n\n// Route to get all the orders ever made from admin dashboard\norderRouter.get(\n  '/',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const orders = await Orderline.findAll({customer: req.customer.id})\n    res.send(orders);\n  })\n);\n// Route to delete the orders made from admin dashboard\norderRouter.delete(\n  '/:id',\n  isAuth,\n  isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const order = await Orderline.findByPk(req.params.id);\n    if (order) {\n      const deletedOrder = await order.destroy();\n      res.send({ message: 'Order Deleted', product: deletedOrder });\n    } else {\n      res.status(404).send({ message: 'Order Not Found' });\n    }\n  })\n);\nexport default orderRouter;"]}},"mtime":1652972239580},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/productRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utlis = require(\"../utlis\");\n\nvar _models = _interopRequireDefault(require(\"../models\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// product route to create a product not complete\nconst productRouter = _express.default.Router();\n\nproductRouter.post('/', _utlis.isAuth, _utlis.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  _models.default.create({\n    name: 'sample product',\n    price: '00',\n    descrip: 'sample descripto',\n    image: '/images/product-1.jpg'\n  });\n\n  const createdProduct = await _models.default.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    console.error();\n    res.status(500).send({\n      message: 'Error in creating product'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInJlcSIsInJlcyIsIlByb2R1Y3RzIiwiY3JlYXRlIiwibmFtZSIsInByaWNlIiwiZGVzY3JpcCIsImltYWdlIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJwcm9kdWN0IiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0M7O0FBQ0E7O0FBQ0E7Ozs7QUFFRDtBQUNBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBQ0NGLGFBQWEsQ0FBQ0csSUFBZCxDQUNFLEdBREYsRUFFRUMsYUFGRixFQUdFQyxjQUhGLEVBSUUsa0NBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN0Q0Msa0JBQVNDLE1BQVQsQ0FBZ0I7QUFDZEMsSUFBQUEsSUFBSSxFQUFFLGdCQURRO0FBRWRDLElBQUFBLEtBQUssRUFBRSxJQUZPO0FBR2RDLElBQUFBLE9BQU8sRUFBRSxrQkFISztBQUlkQyxJQUFBQSxLQUFLLEVBQUU7QUFKTyxHQUFoQjs7QUFNQSxRQUFNQyxjQUFjLEdBQUcsTUFBTU4sZ0JBQVNPLElBQVQsRUFBN0I7O0FBQ0EsTUFBSUQsY0FBSixFQUFvQjtBQUNsQlAsSUFBQUEsR0FBRyxDQUNBUyxNQURILENBQ1UsR0FEVixFQUVHQyxJQUZILENBRVE7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCQyxNQUFBQSxPQUFPLEVBQUVMO0FBQXZDLEtBRlI7QUFHRCxHQUpELE1BSU87QUFDTE0sSUFBQUEsT0FBTyxDQUFDQyxLQUFSO0FBQ0FkLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWhCRCxDQUpGO2VBc0JlbEIsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbiBpbXBvcnQgZXhwcmVzc0F5c25jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuIGltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0bGlzJztcbiBpbXBvcnQgUHJvZHVjdHMgZnJvbSAnLi4vbW9kZWxzJztcblxuLy8gcHJvZHVjdCByb3V0ZSB0byBjcmVhdGUgYSBwcm9kdWN0IG5vdCBjb21wbGV0ZVxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4gcHJvZHVjdFJvdXRlci5wb3N0KFxuICAgJy8nLFxuICAgaXNBdXRoLFxuICAgaXNBZG1pbixcbiAgIGV4cHJlc3NBeXNuY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgIFByb2R1Y3RzLmNyZWF0ZSh7XG4gICAgICAgbmFtZTogJ3NhbXBsZSBwcm9kdWN0JyxcbiAgICAgICBwcmljZTogJzAwJyxcbiAgICAgICBkZXNjcmlwOiAnc2FtcGxlIGRlc2NyaXB0bycsXG4gICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtMS5qcGcnLFxuICAgICB9KTtcbiAgICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0cy5zYXZlKCk7XG4gICAgIGlmIChjcmVhdGVkUHJvZHVjdCkge1xuICAgICAgIHJlc1xuICAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmVycm9yKCk7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnRXJyb3IgaW4gY3JlYXRpbmcgcHJvZHVjdCcgfSk7XG4gICAgIH1cbiAgIH0pXG4gKTtcbiBleHBvcnQgZGVmYXVsdCBwcm9kdWN0Um91dGVyOyJdfQ==","map":{"version":3,"sources":["productRouter.js"],"names":["productRouter","express","Router","post","isAuth","isAdmin","req","res","Products","create","name","price","descrip","image","createdProduct","save","status","send","message","product","console","error"],"mappings":";;;;;;;AAAA;;AACC;;AACA;;AACA;;;;AAED;AACA,MAAMA,aAAa,GAAGC,iBAAQC,MAAR,EAAtB;;AACCF,aAAa,CAACG,IAAd,CACE,GADF,EAEEC,aAFF,EAGEC,cAHF,EAIE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtCC,kBAASC,MAAT,CAAgB;AACdC,IAAAA,IAAI,EAAE,gBADQ;AAEdC,IAAAA,KAAK,EAAE,IAFO;AAGdC,IAAAA,OAAO,EAAE,kBAHK;AAIdC,IAAAA,KAAK,EAAE;AAJO,GAAhB;;AAMA,QAAMC,cAAc,GAAG,MAAMN,gBAASO,IAAT,EAA7B;;AACA,MAAID,cAAJ,EAAoB;AAClBP,IAAAA,GAAG,CACAS,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,iBAAX;AAA8BC,MAAAA,OAAO,EAAEL;AAAvC,KAFR;AAGD,GAJD,MAIO;AACLM,IAAAA,OAAO,CAACC,KAAR;AACAd,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAhBD,CAJF;eAsBelB,a","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/","sourcesContent":["import express from 'express';\n import expressAysncHandler from 'express-async-handler';\n import { isAuth, isAdmin } from '../utlis';\n import Products from '../models';\n\n// product route to create a product not complete\nconst productRouter = express.Router();\n productRouter.post(\n   '/',\n   isAuth,\n   isAdmin,\n   expressAysncHandler(async (req, res) => {\n     Products.create({\n       name: 'sample product',\n       price: '00',\n       descrip: 'sample descripto',\n       image: '/images/product-1.jpg',\n     });\n     const createdProduct = await Products.save();\n     if (createdProduct) {\n       res\n         .status(201)\n         .send({ message: 'Product Created', product: createdProduct });\n     } else {\n       console.error();\n       res.status(500).send({ message: 'Error in creating product' });\n     }\n   })\n );\n export default productRouter;"]}},"mtime":1651661867003},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/data.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// products as javascript object/module\nmodule.exports = {\n  products: [{\n    id: '1',\n    name: 'Meal 1',\n    image: '/images/dinners/product-1.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '2',\n    name: 'Meal 2',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '3',\n    name: 'Meal 3',\n    image: '/images/dinners/product-3.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '4',\n    name: 'Meal 4',\n    image: '/images/dinners/product-4.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '5',\n    name: 'Meal 5',\n    image: '/images/dinners/product-5.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '6',\n    name: 'Meal 6',\n    image: '/images/dinners/product-6.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '7',\n    name: 'Meal 7',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 0\n  }, {\n    id: '8',\n    name: 'Meal 8',\n    image: '/images/dinners/product-7.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }, {\n    id: '9',\n    name: 'Meal 9',\n    image: '/images/dinners/product-2.jpg',\n    price: 12.99,\n    descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n    countInStock: 8\n  }]\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInByb2R1Y3RzIiwiaWQiLCJuYW1lIiwiaW1hZ2UiLCJwcmljZSIsImRlc2NyaXAiLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWdCO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBRFEsRUFVUjtBQUNFTCxJQUFBQSxFQUFFLEVBQUUsR0FETjtBQUVFQyxJQUFBQSxJQUFJLEVBQUUsUUFGUjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsK0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEtBSlQ7QUFLRUMsSUFBQUEsT0FBTyxFQUFFLDJEQUxYO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQVZRLEVBa0JSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEJRLEVBMEJSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUJRLEVBa0NSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbENRLEVBMENSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMUNRLEVBa0RSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbERRLEVBMERSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBMURRLEVBa0VSO0FBQ0VMLElBQUFBLEVBQUUsRUFBRSxHQUROO0FBRUVDLElBQUFBLElBQUksRUFBRSxRQUZSO0FBR0VDLElBQUFBLEtBQUssRUFBRSwrQkFIVDtBQUlFQyxJQUFBQSxLQUFLLEVBQUUsS0FKVDtBQUtFQyxJQUFBQSxPQUFPLEVBQUUsMkRBTFg7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBbEVRO0FBREUsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3NhcmFoYmFkaWJhbmdhL0RvY3VtZW50cy9ZZWFyMy9TYXJhaF9CYWRpYmFuZ2EvRGV2ZWxvcG1lbnQvQ29kZS9SZXN0dXJhbnRDb21wbGV0ZS9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHByb2R1Y3RzIGFzIGphdmFzY3JpcHQgb2JqZWN0L21vZHVsZVxubW9kdWxlLmV4cG9ydHMgPXtcbiAgICBwcm9kdWN0czogW1xuICAgICAge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBuYW1lOiAnTWVhbCAxJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0xLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzInLFxuICAgICAgICBuYW1lOiAnTWVhbCAyJyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC0yLmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIG5hbWU6ICdNZWFsIDMnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTMuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc0JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNCcsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNC5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDgsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzUnLFxuICAgICAgICBuYW1lOiAnTWVhbCA1JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC01LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnNicsXG4gICAgICAgIG5hbWU6ICdNZWFsIDYnLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTYuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgbmFtZTogJ01lYWwgNycsXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9kaW5uZXJzL3Byb2R1Y3QtNy5qcGcnLFxuICAgICAgICBwcmljZTogMTIuOTksXG4gICAgICAgIGRlc2NyaXA6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4nLFxuICAgICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJzgnLFxuICAgICAgICBuYW1lOiAnTWVhbCA4JyxcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2Rpbm5lcnMvcHJvZHVjdC03LmpwZycsXG4gICAgICAgIHByaWNlOiAxMi45OSxcbiAgICAgICAgZGVzY3JpcDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LicsXG4gICAgICAgIGNvdW50SW5TdG9jazogOCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnOScsXG4gICAgICAgIG5hbWU6ICdNZWFsIDknLFxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvZGlubmVycy9wcm9kdWN0LTIuanBnJyxcbiAgICAgICAgcHJpY2U6IDEyLjk5LFxuICAgICAgICBkZXNjcmlwOiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuJyxcbiAgICAgICAgY291bnRJblN0b2NrOiA4LFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuICAiXX0=","map":{"version":3,"sources":["data.js"],"names":["module","exports","products","id","name","image","price","descrip","countInStock"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAgB;AACZC,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EAUR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAVQ,EAkBR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlBQ,EA0BR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1BQ,EAkCR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlCQ,EA0CR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1CQ,EAkDR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlDQ,EA0DR;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GA1DQ,EAkER;AACEL,IAAAA,EAAE,EAAE,GADN;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,KAAK,EAAE,+BAHT;AAIEC,IAAAA,KAAK,EAAE,KAJT;AAKEC,IAAAA,OAAO,EAAE,2DALX;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAlEQ;AADE,CAAhB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/","sourcesContent":["// products as javascript object/module\nmodule.exports ={\n    products: [\n      {\n        id: '1',\n        name: 'Meal 1',\n        image: '/images/dinners/product-1.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n  \n      },\n      {\n        id: '2',\n        name: 'Meal 2',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '3',\n        name: 'Meal 3',\n        image: '/images/dinners/product-3.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '4',\n        name: 'Meal 4',\n        image: '/images/dinners/product-4.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '5',\n        name: 'Meal 5',\n        image: '/images/dinners/product-5.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '6',\n        name: 'Meal 6',\n        image: '/images/dinners/product-6.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '7',\n        name: 'Meal 7',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 0,\n      },\n      {\n        id: '8',\n        name: 'Meal 8',\n        image: '/images/dinners/product-7.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n      {\n        id: '9',\n        name: 'Meal 9',\n        image: '/images/dinners/product-2.jpg',\n        price: 12.99,\n        descrip: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit.',\n        countInStock: 8,\n      },\n    ],\n  };\n  "]}},"mtime":1651661889901},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/customerRouter.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _models = require(\"../models\");\n\nvar _utlis = require(\"../utlis\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable object-shorthand */\nconst customerRouter = _express.default.Router(); // Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\n\n\ncustomerRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    _models.Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n    }).then(createAdmin => res.send(createAdmin));\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n})); // Route to login customers\n\ncustomerRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const signinCustomer = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (!signinCustomer) {\n    res.status(401).send({\n      message: \"Invalid email or password\"\n    });\n  } else {\n    _bcrypt.default.compare(password, signinCustomer.password).then(async match => {\n      if (!match) res.send({\n        error: \"wrong email and password combo\"\n      });\n    });\n\n    res.send({\n      id: signinCustomer.id,\n      firstname: signinCustomer.firstName,\n      lastname: signinCustomer.lastName,\n      email: signinCustomer.email,\n      isAdmin: signinCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(signinCustomer)\n    });\n  }\n\n  ;\n})); // register customers\n\ncustomerRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n  const customerEmail = await _models.Customers.findOne({\n    where: {\n      email\n    }\n  });\n\n  if (customerEmail) {\n    res.status(401).send({\n      message: \"Email already exists\"\n    });\n  } else if (!customerEmail) {\n    _bcrypt.default.hash(password, 10).then(hash => {\n      _models.Customers.create({\n        firstName: firstname,\n        lastName: lastname,\n        email: email,\n        password: hash\n      });\n    });\n\n    res.send({\n      id: _models.Customers.id,\n      firstname: _models.Customers.firstName,\n      lastname: _models.Customers.lastName,\n      email: _models.Customers.email,\n      isAdmin: _models.Customers.isAdmin,\n      token: (0, _utlis.generateToken)(_models.Customers)\n    });\n  }\n\n  ;\n})); // Rout to update customer info\n\ncustomerRouter.put('/:id', _utlis.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const customer = await _models.Customers.findOne({\n    where: {\n      id: id\n    }\n  });\n  const {\n    firstname,\n    lastname,\n    password,\n    email\n  } = req.body;\n\n  if (!customer) {\n    res.status(401).send({\n      message: \"Customer Not Found\"\n    });\n  } else {\n    await _bcrypt.default.hash(password, 10).then(hash => {\n      customer.firstName = firstname || customer.firstName;\n      customer.lastName = lastname || customer.lastName;\n      customer.email = email || customer.email;\n      customer.password = hash || customer.password;\n    });\n    const updatedCustomer = await customer.save();\n    res.send({\n      id: updatedCustomer.id,\n      firstname: updatedCustomer.firstName,\n      lastname: updatedCustomer.lastName,\n      email: updatedCustomer.email,\n      isAdmin: updatedCustomer.isAdmin,\n      token: (0, _utlis.generateToken)(updatedCustomer)\n    });\n  }\n\n  ;\n}));\nvar _default = customerRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyUm91dGVyLmpzIl0sIm5hbWVzIjpbImN1c3RvbWVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIkN1c3RvbWVycyIsImNyZWF0ZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJ0aGVuIiwiY3JlYXRlQWRtaW4iLCJzZW5kIiwiZXJyIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJib2R5Iiwic2lnbmluQ3VzdG9tZXIiLCJmaW5kT25lIiwid2hlcmUiLCJiY3J5cHQiLCJjb21wYXJlIiwibWF0Y2giLCJlcnJvciIsImlkIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0b2tlbiIsImN1c3RvbWVyRW1haWwiLCJoYXNoIiwicHV0IiwiaXNBdXRoIiwicGFyYW1zIiwiY3VzdG9tZXIiLCJ1cGRhdGVkQ3VzdG9tZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFMQTtBQVFBLE1BQU1BLGNBQWMsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdkIsQyxDQUVBOzs7QUFDQUYsY0FBYyxDQUFDRyxHQUFmLENBQ0ksY0FESixFQUVJLGtDQUFxQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBbUI7QUFDeEMsTUFBRztBQUNEQyxzQkFBVUMsTUFBVixDQUFpQjtBQUNqQkMsTUFBQUEsU0FBUyxFQUFFLE9BRE07QUFFakJDLE1BQUFBLFFBQVEsRUFBRSxPQUZPO0FBR2pCQyxNQUFBQSxLQUFLLEVBQUUsa0JBSFU7QUFJakJDLE1BQUFBLFFBQVEsRUFBRSxVQUpPO0FBS2pCQyxNQUFBQSxPQUFPLEVBQUU7QUFMUSxLQUFqQixFQU1FQyxJQU5GLENBTU9DLFdBQVcsSUFBSVQsR0FBRyxDQUFDVSxJQUFKLENBQVNELFdBQVQsQ0FOdEI7QUFPRCxHQVJELENBUUMsT0FBTUUsR0FBTixFQUFVO0FBQ1BYLElBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCO0FBQUNHLE1BQUFBLE9BQU8sRUFBRUYsR0FBRyxDQUFDRTtBQUFkLEtBQXJCO0FBQ0g7QUFDSixDQVpHLENBRkosRSxDQWtCQTs7QUFDQWxCLGNBQWMsQ0FBQ21CLElBQWYsQ0FDSSxTQURKLEVBRUksa0NBQXFCLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNO0FBQUVLLElBQUFBLEtBQUY7QUFBU0MsSUFBQUE7QUFBVCxNQUFzQlAsR0FBRyxDQUFDZ0IsSUFBaEM7QUFFQSxRQUFNQyxjQUFjLEdBQUcsTUFBTWYsa0JBQVVnQixPQUFWLENBQWtCO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFFYixNQUFBQTtBQUFGO0FBQVQsR0FBbEIsQ0FBN0I7O0FBRUEsTUFBSSxDQUFDVyxjQUFMLEVBQXFCO0FBQ2pCaEIsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUI7QUFDakJHLE1BQUFBLE9BQU8sRUFBRTtBQURRLEtBQXJCO0FBR0gsR0FKRCxNQUlLO0FBQ0RNLG9CQUFPQyxPQUFQLENBQWVkLFFBQWYsRUFBeUJVLGNBQWMsQ0FBQ1YsUUFBeEMsRUFBa0RFLElBQWxELENBQXVELE1BQU9hLEtBQVAsSUFBZ0I7QUFDbkUsVUFBRyxDQUFDQSxLQUFKLEVBQVdyQixHQUFHLENBQUNVLElBQUosQ0FBUztBQUFDWSxRQUFBQSxLQUFLLEVBQUU7QUFBUixPQUFUO0FBQ2QsS0FGRDs7QUFHQXRCLElBQUFBLEdBQUcsQ0FBQ1UsSUFBSixDQUFTO0FBQ0xhLE1BQUFBLEVBQUUsRUFBRVAsY0FBYyxDQUFDTyxFQURkO0FBRUxDLE1BQUFBLFNBQVMsRUFBRVIsY0FBYyxDQUFDYixTQUZyQjtBQUdMc0IsTUFBQUEsUUFBUSxFQUFFVCxjQUFjLENBQUNaLFFBSHBCO0FBSUxDLE1BQUFBLEtBQUssRUFBRVcsY0FBYyxDQUFDWCxLQUpqQjtBQUtMRSxNQUFBQSxPQUFPLEVBQUVTLGNBQWMsQ0FBQ1QsT0FMbkI7QUFNTG1CLE1BQUFBLEtBQUssRUFBRSwwQkFBY1YsY0FBZDtBQU5GLEtBQVQ7QUFRSDs7QUFBQTtBQUVGLENBdkJDLENBRkosRSxDQTRCQTs7QUFDQXJCLGNBQWMsQ0FBQ21CLElBQWYsQ0FDSSxXQURKLEVBRUksa0NBQXFCLE9BQU9mLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNO0FBQUN3QixJQUFBQSxTQUFEO0FBQVdDLElBQUFBLFFBQVg7QUFBb0JuQixJQUFBQSxRQUFwQjtBQUE2QkQsSUFBQUE7QUFBN0IsTUFBc0NOLEdBQUcsQ0FBQ2dCLElBQWhEO0FBQ0EsUUFBTVksYUFBYSxHQUFHLE1BQU0xQixrQkFBVWdCLE9BQVYsQ0FBa0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNiLE1BQUFBO0FBQUQ7QUFBUixHQUFsQixDQUE1Qjs7QUFFQSxNQUFJc0IsYUFBSixFQUFtQjtBQUNmM0IsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUI7QUFDakJHLE1BQUFBLE9BQU8sRUFBRTtBQURRLEtBQXJCO0FBR0gsR0FKRCxNQUtLLElBQUcsQ0FBQ2MsYUFBSixFQUFrQjtBQUVuQlIsb0JBQU9TLElBQVAsQ0FBWXRCLFFBQVosRUFBc0IsRUFBdEIsRUFBMEJFLElBQTFCLENBQWdDb0IsSUFBRCxJQUFRO0FBQ3ZDM0Isd0JBQVVDLE1BQVYsQ0FBaUI7QUFDYkMsUUFBQUEsU0FBUyxFQUFFcUIsU0FERTtBQUVicEIsUUFBQUEsUUFBUSxFQUFFcUIsUUFGRztBQUdicEIsUUFBQUEsS0FBSyxFQUFFQSxLQUhNO0FBSWJDLFFBQUFBLFFBQVEsRUFBRXNCO0FBSkcsT0FBakI7QUFNQyxLQVBEOztBQVNBNUIsSUFBQUEsR0FBRyxDQUFDVSxJQUFKLENBQVM7QUFDTGEsTUFBQUEsRUFBRSxFQUFFdEIsa0JBQVVzQixFQURUO0FBRUxDLE1BQUFBLFNBQVMsRUFBRXZCLGtCQUFVRSxTQUZoQjtBQUdMc0IsTUFBQUEsUUFBUSxFQUFFeEIsa0JBQVVHLFFBSGY7QUFJTEMsTUFBQUEsS0FBSyxFQUFFSixrQkFBVUksS0FKWjtBQUtMRSxNQUFBQSxPQUFPLEVBQUVOLGtCQUFVTSxPQUxkO0FBTUxtQixNQUFBQSxLQUFLLEVBQUUsMEJBQWN6QixpQkFBZDtBQU5GLEtBQVQ7QUFRSDs7QUFBQTtBQUVGLENBOUJDLENBRkosRSxDQWtDQTs7QUFDQU4sY0FBYyxDQUFDa0MsR0FBZixDQUNJLE1BREosRUFDWUMsYUFEWixFQUVJLGtDQUFxQixPQUFPL0IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3pDLFFBQU07QUFBQ3VCLElBQUFBO0FBQUQsTUFBT3hCLEdBQUcsQ0FBQ2dDLE1BQWpCO0FBQ0EsUUFBTUMsUUFBUSxHQUFHLE1BQU0vQixrQkFBVWdCLE9BQVYsQ0FBa0I7QUFBQ0MsSUFBQUEsS0FBSyxFQUFFO0FBQUNLLE1BQUFBLEVBQUUsRUFBRUE7QUFBTDtBQUFSLEdBQWxCLENBQXZCO0FBQ0EsUUFBTTtBQUFDQyxJQUFBQSxTQUFEO0FBQVdDLElBQUFBLFFBQVg7QUFBb0JuQixJQUFBQSxRQUFwQjtBQUE2QkQsSUFBQUE7QUFBN0IsTUFBc0NOLEdBQUcsQ0FBQ2dCLElBQWhEOztBQUVBLE1BQUksQ0FBQ2lCLFFBQUwsRUFBZTtBQUNYaEMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUI7QUFDakJHLE1BQUFBLE9BQU8sRUFBRTtBQURRLEtBQXJCO0FBR0gsR0FKRCxNQUlLO0FBQ0QsVUFBTU0sZ0JBQU9TLElBQVAsQ0FBWXRCLFFBQVosRUFBcUIsRUFBckIsRUFBeUJFLElBQXpCLENBQStCb0IsSUFBRCxJQUFRO0FBQ3hDSSxNQUFBQSxRQUFRLENBQUM3QixTQUFULEdBQXFCcUIsU0FBUyxJQUFJUSxRQUFRLENBQUM3QixTQUEzQztBQUNBNkIsTUFBQUEsUUFBUSxDQUFDNUIsUUFBVCxHQUFvQnFCLFFBQVEsSUFBSU8sUUFBUSxDQUFDNUIsUUFBekM7QUFDQTRCLE1BQUFBLFFBQVEsQ0FBQzNCLEtBQVQsR0FBaUJBLEtBQUssSUFBSTJCLFFBQVEsQ0FBQzNCLEtBQW5DO0FBQ0EyQixNQUFBQSxRQUFRLENBQUMxQixRQUFULEdBQW9Cc0IsSUFBSSxJQUFJSSxRQUFRLENBQUMxQixRQUFyQztBQUNILEtBTEssQ0FBTjtBQU1BLFVBQU0yQixlQUFlLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxJQUFULEVBQTlCO0FBQ0FsQyxJQUFBQSxHQUFHLENBQUNVLElBQUosQ0FBUztBQUNMYSxNQUFBQSxFQUFFLEVBQUVVLGVBQWUsQ0FBQ1YsRUFEZjtBQUVMQyxNQUFBQSxTQUFTLEVBQUVTLGVBQWUsQ0FBQzlCLFNBRnRCO0FBR0xzQixNQUFBQSxRQUFRLEVBQUVRLGVBQWUsQ0FBQzdCLFFBSHJCO0FBSUxDLE1BQUFBLEtBQUssRUFBRTRCLGVBQWUsQ0FBQzVCLEtBSmxCO0FBS0xFLE1BQUFBLE9BQU8sRUFBRTBCLGVBQWUsQ0FBQzFCLE9BTHBCO0FBTUxtQixNQUFBQSxLQUFLLEVBQUUsMEJBQWNPLGVBQWQ7QUFORixLQUFUO0FBUUg7O0FBQUE7QUFDSixDQTFCRyxDQUZKO2VBZ0NldEMsYyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvcm91dGVycy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCB7Q3VzdG9tZXJzfSBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tIFwiLi4vdXRsaXNcIjtcblxuXG5jb25zdCBjdXN0b21lclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8vIFJvdXRlIHRvIGNyZWF0ZSBhbiBhZG1pbiB1c2VyLCBjYW4gYmUgdXBkYXRlZCB0byBnZW5lcmF0ZSBuZXcgYWRtaW5zIG5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gZW5jcnlwdCBwYXNzd29yZCBoZXJlXG5jdXN0b21lclJvdXRlci5nZXQoXG4gICAgJy9jcmVhdGVhZG1pbicsIFxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT57XG4gICAgdHJ5e1xuICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICBmaXJzdE5hbWU6IFwiU2lyZW5cIixcbiAgICAgIGxhc3ROYW1lOiBcIk9jZWFuXCIsXG4gICAgICBlbWFpbDogXCJzaXJlbm9AZ21haWwuY29tXCIsXG4gICAgICBwYXNzd29yZDogXCJwYXNzd29yZFwiLFxuICAgICAgaXNBZG1pbjogXCIxXCJcbiAgICAgfSkudGhlbihjcmVhdGVBZG1pbiA9PiByZXMuc2VuZChjcmVhdGVBZG1pbikpIFxuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KTtcbiAgICB9XG59KSk7XG5cblxuXG4vLyBSb3V0ZSB0byBsb2dpbiBjdXN0b21lcnNcbmN1c3RvbWVyUm91dGVyLnBvc3QoXG4gICAgJy9zaWduaW4nLCBcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIFxuICAgIGNvbnN0IHNpZ25pbkN1c3RvbWVyID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbH0gfSk7XG4gIFxuICAgIGlmICghc2lnbmluQ3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIsXG4gICAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgc2lnbmluQ3VzdG9tZXIucGFzc3dvcmQpLnRoZW4oYXN5bmMgKG1hdGNoKSA9PntcbiAgICAgICAgICAgIGlmKCFtYXRjaCkgcmVzLnNlbmQoe2Vycm9yOiBcIndyb25nIGVtYWlsIGFuZCBwYXNzd29yZCBjb21ib1wifSk7XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiBzaWduaW5DdXN0b21lci5pZCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTogc2lnbmluQ3VzdG9tZXIuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IHNpZ25pbkN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHNpZ25pbkN1c3RvbWVyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluQ3VzdG9tZXIuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pbkN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xuICBcbiAgfSlcbik7XG5cbi8vIHJlZ2lzdGVyIGN1c3RvbWVyc1xuY3VzdG9tZXJSb3V0ZXIucG9zdChcbiAgICAnL3JlZ2lzdGVyJywgXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBjdXN0b21lckVtYWlsID0gYXdhaXQgQ3VzdG9tZXJzLmZpbmRPbmUoe3doZXJlOiB7ZW1haWx9IH0pO1xuICAgIFxuICAgIGlmIChjdXN0b21lckVtYWlsKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYoIWN1c3RvbWVyRW1haWwpe1xuXG4gICAgICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCkudGhlbigoaGFzaCk9PntcbiAgICAgICAgQ3VzdG9tZXJzLmNyZWF0ZSh7XG4gICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0bmFtZSxcbiAgICAgICAgICAgIGxhc3ROYW1lOiBsYXN0bmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBpZDogQ3VzdG9tZXJzLmlkLFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBDdXN0b21lcnMuZmlyc3ROYW1lLFxuICAgICAgICAgICAgbGFzdG5hbWU6IEN1c3RvbWVycy5sYXN0TmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBDdXN0b21lcnMuZW1haWwsXG4gICAgICAgICAgICBpc0FkbWluOiBDdXN0b21lcnMuaXNBZG1pbixcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKEN1c3RvbWVycylcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgXG4gIH0pXG4gICk7XG4vLyBSb3V0IHRvIHVwZGF0ZSBjdXN0b21lciBpbmZvXG5jdXN0b21lclJvdXRlci5wdXQoXG4gICAgJy86aWQnLCBpc0F1dGgsXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBDdXN0b21lcnMuZmluZE9uZSh7d2hlcmU6IHtpZDogaWR9fSk7XG4gICAgY29uc3Qge2ZpcnN0bmFtZSxsYXN0bmFtZSxwYXNzd29yZCxlbWFpbH0gPSByZXEuYm9keTtcblxuICAgIGlmICghY3VzdG9tZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBOb3QgRm91bmRcIixcbiAgICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICAgIGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLDEwKS50aGVuKChoYXNoKT0+e1xuICAgICAgICAgICAgY3VzdG9tZXIuZmlyc3ROYW1lID0gZmlyc3RuYW1lIHx8IGN1c3RvbWVyLmZpcnN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIubGFzdE5hbWUgPSBsYXN0bmFtZSB8fCBjdXN0b21lci5sYXN0TmFtZVxuICAgICAgICAgICAgY3VzdG9tZXIuZW1haWwgPSBlbWFpbCB8fCBjdXN0b21lci5lbWFpbFxuICAgICAgICAgICAgY3VzdG9tZXIucGFzc3dvcmQgPSBoYXNoIHx8IGN1c3RvbWVyLnBhc3N3b3JkXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lciA9IGF3YWl0IGN1c3RvbWVyLnNhdmUoKTsgXG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIGlkOiB1cGRhdGVkQ3VzdG9tZXIuaWQsXG4gICAgICAgICAgICBmaXJzdG5hbWU6IHVwZGF0ZWRDdXN0b21lci5maXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0bmFtZTogdXBkYXRlZEN1c3RvbWVyLmxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVwZGF0ZWRDdXN0b21lci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRDdXN0b21lci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4odXBkYXRlZEN1c3RvbWVyKVxuICAgICAgICB9KTtcbiAgICB9O1xufSlcbik7XG4gIFxuICBcbmV4cG9ydCBkZWZhdWx0IGN1c3RvbWVyUm91dGVyO1xuIl19","map":{"version":3,"sources":["customerRouter.js"],"names":["customerRouter","express","Router","get","req","res","Customers","create","firstName","lastName","email","password","isAdmin","then","createAdmin","send","err","status","message","post","body","signinCustomer","findOne","where","bcrypt","compare","match","error","id","firstname","lastname","token","customerEmail","hash","put","isAuth","params","customer","updatedCustomer","save"],"mappings":"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","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/routers/","sourcesContent":["/* eslint-disable object-shorthand */\nimport express from \"express\";\nimport bcrypt from 'bcrypt';\nimport expressAsyncHandler from 'express-async-handler';\nimport {Customers} from \"../models\";\nimport { generateToken, isAuth } from \"../utlis\";\n\n\nconst customerRouter = express.Router();\n\n// Route to create an admin user, can be updated to generate new admins need to figure out how to encrypt password here\ncustomerRouter.get(\n    '/createadmin', \n    expressAsyncHandler( async (req, res) =>{\n    try{\n      Customers.create({\n      firstName: \"Siren\",\n      lastName: \"Ocean\",\n      email: \"sireno@gmail.com\",\n      password: \"password\",\n      isAdmin: \"1\"\n     }).then(createAdmin => res.send(createAdmin)) \n    }catch(err){\n        res.status(500).send({message: err.message});\n    }\n}));\n\n\n\n// Route to login customers\ncustomerRouter.post(\n    '/signin', \n    expressAsyncHandler( async (req, res) => {\n    const { email, password } = req.body;\n  \n    const signinCustomer = await Customers.findOne({ where: { email} });\n  \n    if (!signinCustomer) {\n        res.status(401).send({\n            message: \"Invalid email or password\",\n        });\n    }else{\n        bcrypt.compare(password, signinCustomer.password).then(async (match) =>{\n            if(!match) res.send({error: \"wrong email and password combo\"});\n        })\n        res.send({\n            id: signinCustomer.id,\n            firstname: signinCustomer.firstName,\n            lastname: signinCustomer.lastName,\n            email: signinCustomer.email,\n            isAdmin: signinCustomer.isAdmin,\n            token: generateToken(signinCustomer)\n        });\n    };\n  \n  })\n);\n\n// register customers\ncustomerRouter.post(\n    '/register', \n    expressAsyncHandler( async (req, res) => {\n    const {firstname,lastname,password,email} = req.body;\n    const customerEmail = await Customers.findOne({where: {email} });\n    \n    if (customerEmail) {\n        res.status(401).send({\n            message: \"Email already exists\",\n        });\n    }\n    else if(!customerEmail){\n\n        bcrypt.hash(password, 10).then((hash)=>{\n        Customers.create({\n            firstName: firstname,\n            lastName: lastname,\n            email: email,\n            password: hash\n            });\n        });\n  \n        res.send({\n            id: Customers.id,\n            firstname: Customers.firstName,\n            lastname: Customers.lastName,\n            email: Customers.email,\n            isAdmin: Customers.isAdmin,\n            token: generateToken(Customers)\n        });\n    };\n  \n  })\n  );\n// Rout to update customer info\ncustomerRouter.put(\n    '/:id', isAuth,\n    expressAsyncHandler( async (req, res) => {\n    const {id} = req.params;\n    const customer = await Customers.findOne({where: {id: id}});\n    const {firstname,lastname,password,email} = req.body;\n\n    if (!customer) {\n        res.status(401).send({\n            message: \"Customer Not Found\",\n        });\n    }else{\n        await bcrypt.hash(password,10).then((hash)=>{\n            customer.firstName = firstname || customer.firstName\n            customer.lastName = lastname || customer.lastName\n            customer.email = email || customer.email\n            customer.password = hash || customer.password\n        })\n        const updatedCustomer = await customer.save(); \n        res.send({\n            id: updatedCustomer.id,\n            firstname: updatedCustomer.firstName,\n            lastname: updatedCustomer.lastName,\n            email: updatedCustomer.email,\n            isAdmin: updatedCustomer.isAdmin,\n            token: generateToken(updatedCustomer)\n        });\n    };\n})\n);\n  \n  \nexport default customerRouter;\n"]}},"mtime":1651661817597},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n/* eslint-disable global-require */\n\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = require(`${__dirname}/../config/config.js`)[env];\n\nconst db = {};\nlet sequelize;\n\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname).filter(file => file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js').forEach(file => {\n  const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n\n  db[model.name] = model;\n});\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJjb25maWciLCJfX2Rpcm5hbWUiLCJkYiIsInNlcXVlbGl6ZSIsInVzZV9lbnZfdmFyaWFibGUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJqb2luIiwiRGF0YVR5cGVzIiwibmFtZSIsIk9iamVjdCIsImtleXMiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBO0FBQ0E7QUFFQSxNQUFNQSxFQUFFLEdBQUdDLE9BQU8sQ0FBQyxJQUFELENBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFFQSxNQUFNRyxRQUFRLEdBQUdGLElBQUksQ0FBQ0UsUUFBTCxDQUFjQyxVQUFkLENBQWpCO0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixhQUFwQzs7QUFDQSxNQUFNQyxNQUFNLEdBQUdSLE9BQU8sQ0FBRSxHQUFFUyxTQUFZLHNCQUFoQixDQUFQLENBQThDSixHQUE5QyxDQUFmOztBQUNBLE1BQU1LLEVBQUUsR0FBRyxFQUFYO0FBRUEsSUFBSUMsU0FBSjs7QUFDQSxJQUFJSCxNQUFNLENBQUNJLGdCQUFYLEVBQTZCO0FBQzNCRCxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjSSxPQUFPLENBQUNELEdBQVIsQ0FBWUcsTUFBTSxDQUFDSSxnQkFBbkIsQ0FBZCxFQUFvREosTUFBcEQsQ0FBWjtBQUNELENBRkQsTUFFTztBQUNMRyxFQUFBQSxTQUFTLEdBQUcsSUFBSVQsU0FBSixDQUFjTSxNQUFNLENBQUNLLFFBQXJCLEVBQStCTCxNQUFNLENBQUNNLFFBQXRDLEVBQWdETixNQUFNLENBQUNPLFFBQXZELEVBQWlFUCxNQUFqRSxDQUFaO0FBQ0Q7O0FBRURULEVBQUUsQ0FDQ2lCLFdBREgsQ0FDZVAsU0FEZixFQUVHUSxNQUZILENBRVVDLElBQUksSUFBS0EsSUFBSSxDQUFDQyxPQUFMLENBQWEsR0FBYixNQUFzQixDQUF2QixJQUE4QkQsSUFBSSxLQUFLZixRQUF2QyxJQUFxRGUsSUFBSSxDQUFDRSxLQUFMLENBQVcsQ0FBQyxDQUFaLE1BQW1CLEtBRjFGLEVBR0dDLE9BSEgsQ0FHV0gsSUFBSSxJQUFJO0FBQ2YsUUFBTUksS0FBSyxHQUFHdEIsT0FBTyxDQUFDQyxJQUFJLENBQUNzQixJQUFMLENBQVVkLFNBQVYsRUFBcUJTLElBQXJCLENBQUQsQ0FBUCxDQUFvQ1AsU0FBcEMsRUFBK0NULFNBQVMsQ0FBQ3NCLFNBQXpELENBQWQ7O0FBQ0FkLEVBQUFBLEVBQUUsQ0FBQ1ksS0FBSyxDQUFDRyxJQUFQLENBQUYsR0FBaUJILEtBQWpCO0FBQ0QsQ0FOSDtBQVFBSSxNQUFNLENBQUNDLElBQVAsQ0FBWWpCLEVBQVosRUFBZ0JXLE9BQWhCLENBQXdCTyxTQUFTLElBQUk7QUFDbkMsTUFBSWxCLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFsQixFQUE2QjtBQUMzQm5CLElBQUFBLEVBQUUsQ0FBQ2tCLFNBQUQsQ0FBRixDQUFjQyxTQUFkLENBQXdCbkIsRUFBeEI7QUFDRDtBQUNGLENBSkQ7QUFNQUEsRUFBRSxDQUFDQyxTQUFILEdBQWVBLFNBQWY7QUFDQUQsRUFBRSxDQUFDUixTQUFILEdBQWVBLFNBQWY7QUFFQTRCLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnJCLEVBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgZ2xvYmFsLXJlcXVpcmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1keW5hbWljLXJlcXVpcmUgKi9cbi8vIGltcG9ydGFudCBmaWxlIGdlbmVyYXRlZCBieSBzZXF1bGllemVcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuXG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZShgJHtfX2Rpcm5hbWUgIH0vLi4vY29uZmlnL2NvbmZpZy5qc2ApW2Vudl07XG5jb25zdCBkYiA9IHt9O1xuXG5sZXQgc2VxdWVsaXplO1xuaWYgKGNvbmZpZy51c2VfZW52X3ZhcmlhYmxlKSB7XG4gIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbY29uZmlnLnVzZV9lbnZfdmFyaWFibGVdLCBjb25maWcpO1xufSBlbHNlIHtcbiAgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShjb25maWcuZGF0YWJhc2UsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcpO1xufVxuXG5mc1xuICAucmVhZGRpclN5bmMoX19kaXJuYW1lKVxuICAuZmlsdGVyKGZpbGUgPT4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpKVxuICAuZm9yRWFjaChmaWxlID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgZmlsZSkpKHNlcXVlbGl6ZSwgU2VxdWVsaXplLkRhdGFUeXBlcyk7XG4gICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgfSk7XG5cbk9iamVjdC5rZXlzKGRiKS5mb3JFYWNoKG1vZGVsTmFtZSA9PiB7XG4gIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgfVxufSk7XG5cbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcbmRiLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjtcbiJdfQ==","map":{"version":3,"sources":["index.js"],"names":["fs","require","path","Sequelize","basename","__filename","env","process","NODE_ENV","config","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"mappings":";;AAAA;;AACA;AACA;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAD,CAAzB;;AAEA,MAAMG,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAjB;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AACA,MAAMC,MAAM,GAAGR,OAAO,CAAE,GAAES,SAAY,sBAAhB,CAAP,CAA8CJ,GAA9C,CAAf;;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,IAAIC,SAAJ;;AACA,IAAIH,MAAM,CAACI,gBAAX,EAA6B;AAC3BD,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcI,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CAAZ;AACD,CAFD,MAEO;AACLG,EAAAA,SAAS,GAAG,IAAIT,SAAJ,CAAcM,MAAM,CAACK,QAArB,EAA+BL,MAAM,CAACM,QAAtC,EAAgDN,MAAM,CAACO,QAAvD,EAAiEP,MAAjE,CAAZ;AACD;;AAEDT,EAAE,CACCiB,WADH,CACeP,SADf,EAEGQ,MAFH,CAEUC,IAAI,IAAKA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,IAAI,KAAKf,QAAvC,IAAqDe,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAF1F,EAGGC,OAHH,CAGWH,IAAI,IAAI;AACf,QAAMI,KAAK,GAAGtB,OAAO,CAACC,IAAI,CAACsB,IAAL,CAAUd,SAAV,EAAqBS,IAArB,CAAD,CAAP,CAAoCP,SAApC,EAA+CT,SAAS,CAACsB,SAAzD,CAAd;;AACAd,EAAAA,EAAE,CAACY,KAAK,CAACG,IAAP,CAAF,GAAiBH,KAAjB;AACD,CANH;AAQAI,MAAM,CAACC,IAAP,CAAYjB,EAAZ,EAAgBW,OAAhB,CAAwBO,SAAS,IAAI;AACnC,MAAIlB,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BnB,IAAAA,EAAE,CAACkB,SAAD,CAAF,CAAcC,SAAd,CAAwBnB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACR,SAAH,GAAeA,SAAf;AAEA4B,MAAM,CAACC,OAAP,GAAiBrB,EAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable import/no-dynamic-require */\n// important file generated by sequlieze\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname  }/../config/config.js`)[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js'))\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]}},"mtime":1651661614846},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\nrequire('dotenv').config(); // config file to connect to the db\n\n\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb2Nlc3MiLCJlbnYiLCJQQVNTV09SRCIsIkRBVEFCQVNFIiwiSE9TVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyxDQUNBOzs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2YsaUJBQWU7QUFDYixnQkFBWSxNQURDO0FBRWIsZ0JBQVlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUZYO0FBR2IsZ0JBQVlGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxRQUhYO0FBSWIsWUFBUUgsT0FBTyxDQUFDQyxHQUFSLENBQVlHLElBSlA7QUFLYixlQUFXO0FBTEUsR0FEQTtBQVFmLFVBQVE7QUFDTixnQkFBWSxTQUROO0FBRU4sZ0JBQVksSUFGTjtBQUdOLGdCQUFZLGVBSE47QUFJTixZQUFRLFdBSkY7QUFLTixlQUFXO0FBTEwsR0FSTztBQWVmLGdCQUFjO0FBQ1osZ0JBQVksTUFEQTtBQUVaLGdCQUFZLElBRkE7QUFHWixnQkFBWSxxQkFIQTtBQUlaLFlBQVEsV0FKSTtBQUtaLGVBQVc7QUFMQztBQWZDLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9jb25maWcvIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcbi8vIGNvbmZpZyBmaWxlIHRvIGNvbm5lY3QgdG8gdGhlIGRiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJkZXZlbG9wbWVudFwiOiB7XG4gICAgXCJ1c2VybmFtZVwiOiBcInJvb3RcIixcbiAgICBcInBhc3N3b3JkXCI6IHByb2Nlc3MuZW52LlBBU1NXT1JELFxuICAgIFwiZGF0YWJhc2VcIjogcHJvY2Vzcy5lbnYuREFUQUJBU0UsXG4gICAgXCJob3N0XCI6IHByb2Nlc3MuZW52LkhPU1QsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInRlc3RcIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb29jbGV0XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV90ZXN0XCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxuICBcInByb2R1Y3Rpb25cIjoge1xuICAgIFwidXNlcm5hbWVcIjogXCJyb290XCIsXG4gICAgXCJwYXNzd29yZFwiOiBudWxsLFxuICAgIFwiZGF0YWJhc2VcIjogXCJkYXRhYmFzZV9wcm9kdWN0aW9uXCIsXG4gICAgXCJob3N0XCI6IFwiMTI3LjAuMC4xXCIsXG4gICAgXCJkaWFsZWN0XCI6IFwibXlzcWxcIlxuICB9LFxufVxuXG4iXX0=","map":{"version":3,"sources":["config.js"],"names":["require","config","module","exports","process","env","PASSWORD","DATABASE","HOST"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,G,CACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB;AACf,iBAAe;AACb,gBAAY,MADC;AAEb,gBAAYC,OAAO,CAACC,GAAR,CAAYC,QAFX;AAGb,gBAAYF,OAAO,CAACC,GAAR,CAAYE,QAHX;AAIb,YAAQH,OAAO,CAACC,GAAR,CAAYG,IAJP;AAKb,eAAW;AALE,GADA;AAQf,UAAQ;AACN,gBAAY,SADN;AAEN,gBAAY,IAFN;AAGN,gBAAY,eAHN;AAIN,YAAQ,WAJF;AAKN,eAAW;AALL,GARO;AAef,gBAAc;AACZ,gBAAY,MADA;AAEZ,gBAAY,IAFA;AAGZ,gBAAY,qBAHA;AAIZ,YAAQ,WAJI;AAKZ,eAAW;AALC;AAfC,CAAjB","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/config/","sourcesContent":["require('dotenv').config()\n// config file to connect to the db\nmodule.exports = {\n  \"development\": {\n    \"username\": \"root\",\n    \"password\": process.env.PASSWORD,\n    \"database\": process.env.DATABASE,\n    \"host\": process.env.HOST,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": \"rooclet\",\n    \"password\": null,\n    \"database\": \"database_test\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": \"root\",\n    \"password\": null,\n    \"database\": \"database_production\",\n    \"host\": \"127.0.0.1\",\n    \"dialect\": \"mysql\"\n  },\n}\n\n"]}},"mtime":1651661494824},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Address.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Address = sequelize.define(\"Address\", {\n    address: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    city: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    postcode: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    country: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    }\n  });\n\n  Address.associate = models => {\n    Address.belongsTo(models.Customers, {\n      onDelete: \"cascade\"\n    });\n    Address.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Address;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3MuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsIkFkZHJlc3MiLCJkZWZpbmUiLCJhZGRyZXNzIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJjaXR5IiwicG9zdGNvZGUiLCJjb3VudHJ5IiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwiQ3VzdG9tZXJzIiwib25EZWxldGUiLCJoYXNNYW55IiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsT0FBTyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsU0FBakIsRUFBNEI7QUFDMUNDLElBQUFBLE9BQU8sRUFBRTtBQUNQQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEVDtBQUVQQyxNQUFBQSxTQUFTLEVBQUUsS0FGSjtBQUdQQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFISCxLQURpQztBQVExQ0MsSUFBQUEsSUFBSSxFQUFFO0FBQ0pMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURaO0FBRUpDLE1BQUFBLFNBQVMsRUFBRSxLQUZQO0FBR0pDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhOLEtBUm9DO0FBZTFDRSxJQUFBQSxRQUFRLEVBQUU7QUFDUk4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0FmZ0M7QUFzQjFDRyxJQUFBQSxPQUFPLEVBQUU7QUFDUFAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFQ7QUFFUEMsTUFBQUEsU0FBUyxFQUFFLEtBRko7QUFHUEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEg7QUF0QmlDLEdBQTVCLENBQWhCOztBQThCQVAsRUFBQUEsT0FBTyxDQUFDVyxTQUFSLEdBQXFCQyxNQUFELElBQVk7QUFDOUJaLElBQUFBLE9BQU8sQ0FBQ2EsU0FBUixDQUFrQkQsTUFBTSxDQUFDRSxTQUF6QixFQUFvQztBQUNsQ0MsTUFBQUEsUUFBUSxFQUFFO0FBRHdCLEtBQXBDO0FBR0FmLElBQUFBLE9BQU8sQ0FBQ2dCLE9BQVIsQ0FBZ0JKLE1BQU0sQ0FBQ0ssU0FBdkIsRUFBa0M7QUFDaENGLE1BQUFBLFFBQVEsRUFBRTtBQURzQixLQUFsQztBQUdELEdBUEQ7O0FBUUEsU0FBT2YsT0FBUDtBQUNELENBeENIIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9zYXJhaGJhZGliYW5nYS9Eb2N1bWVudHMvWWVhcjMvU2FyYWhfQmFkaWJhbmdhL0RldmVsb3BtZW50L0NvZGUvUmVzdHVyYW50Q29tcGxldGUvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkcmVzcyB0YWJsZSB3cml0dGVuIHVzaW5nIHNlcXVsaWV6ZSBzeW50YXhcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gICAgY29uc3QgQWRkcmVzcyA9IHNlcXVlbGl6ZS5kZWZpbmUoXCJBZGRyZXNzXCIsIHtcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICBub3RFbXB0eTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2l0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwb3N0Y29kZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb3VudHJ5OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgbm90RW1wdHk6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIEFkZHJlc3MuYXNzb2NpYXRlID0gKG1vZGVscykgPT4ge1xuICAgICAgQWRkcmVzcy5iZWxvbmdzVG8obW9kZWxzLkN1c3RvbWVycywge1xuICAgICAgICBvbkRlbGV0ZTogXCJjYXNjYWRlXCIsXG4gICAgICB9KTtcbiAgICAgIEFkZHJlc3MuaGFzTWFueShtb2RlbHMuT3JkZXJsaW5lLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFkZHJlc3M7XG4gIH07Il19","map":{"version":3,"sources":["Address.js"],"names":["module","exports","sequelize","DataTypes","Address","define","address","type","STRING","allowNull","validate","notEmpty","city","postcode","country","associate","models","belongsTo","Customers","onDelete","hasMany","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,OAAO,GAAGF,SAAS,CAACG,MAAV,CAAiB,SAAjB,EAA4B;AAC1CC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH,KADiC;AAQ1CC,IAAAA,IAAI,EAAE;AACJL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHN,KARoC;AAe1CE,IAAAA,QAAQ,EAAE;AACRN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAfgC;AAsB1CG,IAAAA,OAAO,EAAE;AACPP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADT;AAEPC,MAAAA,SAAS,EAAE,KAFJ;AAGPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHH;AAtBiC,GAA5B,CAAhB;;AA8BAP,EAAAA,OAAO,CAACW,SAAR,GAAqBC,MAAD,IAAY;AAC9BZ,IAAAA,OAAO,CAACa,SAAR,CAAkBD,MAAM,CAACE,SAAzB,EAAoC;AAClCC,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGAf,IAAAA,OAAO,CAACgB,OAAR,CAAgBJ,MAAM,CAACK,SAAvB,EAAkC;AAChCF,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAGD,GAPD;;AAQA,SAAOf,OAAP;AACD,CAxCH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// address table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Address = sequelize.define(\"Address\", {\n      address: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      city: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      postcode: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      country: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      }\n    });\n    Address.associate = (models) => {\n      Address.belongsTo(models.Customers, {\n        onDelete: \"cascade\",\n      });\n      Address.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n    return Address;\n  };"]}},"mtime":1651661566304},"{\"sourceRoot\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"filename\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/Customers.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete\",\"plugins\":[{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.10.3:development":{"value":{"code":"\"use strict\";\n\n// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n  const Customers = sequelize.define(\"Customers\", {\n    firstName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    lastName: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      validate: {\n        notEmpty: true\n      }\n    },\n    isAdmin: {\n      type: DataTypes.BOOLEAN,\n      default: '0'\n    }\n  });\n\n  Customers.associate = models => {\n    Customers.hasMany(models.Address, {\n      onDelete: \"cascade\"\n    });\n    Customers.hasMany(models.Orderline, {\n      onDelete: \"cascade\"\n    });\n  };\n\n  return Customers;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkN1c3RvbWVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiQ3VzdG9tZXJzIiwiZGVmaW5lIiwiZmlyc3ROYW1lIiwidHlwZSIsIlNUUklORyIsImFsbG93TnVsbCIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQk9PTEVBTiIsImRlZmF1bHQiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJoYXNNYW55IiwiQWRkcmVzcyIsIm9uRGVsZXRlIiwiT3JkZXJsaW5lIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxTQUFELEVBQVlDLFNBQVosS0FBMEI7QUFDdkMsUUFBTUMsU0FBUyxHQUFHRixTQUFTLENBQUNHLE1BQVYsQ0FBaUIsV0FBakIsRUFBOEI7QUFDOUNDLElBQUFBLFNBQVMsRUFBRTtBQUNUQyxNQUFBQSxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssTUFEUDtBQUVUQyxNQUFBQSxTQUFTLEVBQUUsS0FGRjtBQUdUQyxNQUFBQSxRQUFRLEVBQUU7QUFDUkMsUUFBQUEsUUFBUSxFQUFFO0FBREY7QUFIRCxLQURtQztBQVE5Q0MsSUFBQUEsUUFBUSxFQUFFO0FBQ1JMLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDSyxNQURSO0FBRVJDLE1BQUFBLFNBQVMsRUFBRSxLQUZIO0FBR1JDLE1BQUFBLFFBQVEsRUFBRTtBQUNSQyxRQUFBQSxRQUFRLEVBQUU7QUFERjtBQUhGLEtBUm9DO0FBZTlDRSxJQUFBQSxLQUFLLEVBQUU7QUFDTE4sTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFg7QUFFTEMsTUFBQUEsU0FBUyxFQUFFLEtBRk47QUFHTEMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEwsS0FmdUM7QUFzQjlDRyxJQUFBQSxRQUFRLEVBQUU7QUFDUlAsTUFBQUEsSUFBSSxFQUFFSixTQUFTLENBQUNLLE1BRFI7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLEtBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBQ1JDLFFBQUFBLFFBQVEsRUFBRTtBQURGO0FBSEYsS0F0Qm9DO0FBNkI5Q0ksSUFBQUEsT0FBTyxFQUFFO0FBQ1BSLE1BQUFBLElBQUksRUFBRUosU0FBUyxDQUFDYSxPQURUO0FBRVBDLE1BQUFBLE9BQU8sRUFBRTtBQUZGO0FBN0JxQyxHQUE5QixDQUFsQjs7QUFrQ0FiLEVBQUFBLFNBQVMsQ0FBQ2MsU0FBVixHQUF1QkMsTUFBRCxJQUFZO0FBQ2hDZixJQUFBQSxTQUFTLENBQUNnQixPQUFWLENBQWtCRCxNQUFNLENBQUNFLE9BQXpCLEVBQWtDO0FBQ2hDQyxNQUFBQSxRQUFRLEVBQUU7QUFEc0IsS0FBbEM7QUFJQWxCLElBQUFBLFNBQVMsQ0FBQ2dCLE9BQVYsQ0FBa0JELE1BQU0sQ0FBQ0ksU0FBekIsRUFBb0M7QUFDbENELE1BQUFBLFFBQVEsRUFBRTtBQUR3QixLQUFwQztBQUdELEdBUkQ7O0FBVUEsU0FBT2xCLFNBQVA7QUFDRCxDQTlDSCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvc2FyYWhiYWRpYmFuZ2EvRG9jdW1lbnRzL1llYXIzL1NhcmFoX0JhZGliYW5nYS9EZXZlbG9wbWVudC9Db2RlL1Jlc3R1cmFudENvbXBsZXRlL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGN1c3RvbWVyIHRhYmxlIHdyaXR0ZW4gdXNpbmcgc2VxdWxpZXplIHN5bnRheFxubW9kdWxlLmV4cG9ydHMgPSAoc2VxdWVsaXplLCBEYXRhVHlwZXMpID0+IHtcbiAgICBjb25zdCBDdXN0b21lcnMgPSBzZXF1ZWxpemUuZGVmaW5lKFwiQ3VzdG9tZXJzXCIsIHtcbiAgICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIG5vdEVtcHR5OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc0FkbWluOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5CT09MRUFOLFxuICAgICAgICBkZWZhdWx0OiAnMCcsXG4gICAgICB9XG4gICAgfSk7XG4gICAgQ3VzdG9tZXJzLmFzc29jaWF0ZSA9IChtb2RlbHMpID0+IHtcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5BZGRyZXNzLCB7XG4gICAgICAgIG9uRGVsZXRlOiBcImNhc2NhZGVcIixcbiAgICAgIH0pO1xuICBcbiAgICAgIEN1c3RvbWVycy5oYXNNYW55KG1vZGVscy5PcmRlcmxpbmUsIHtcbiAgICAgICAgb25EZWxldGU6IFwiY2FzY2FkZVwiLFxuICAgICAgfSk7XG4gICAgfTtcbiAgXG4gICAgcmV0dXJuIEN1c3RvbWVycztcbiAgfTsiXX0=","map":{"version":3,"sources":["Customers.js"],"names":["module","exports","sequelize","DataTypes","Customers","define","firstName","type","STRING","allowNull","validate","notEmpty","lastName","email","password","isAdmin","BOOLEAN","default","associate","models","hasMany","Address","onDelete","Orderline"],"mappings":";;AAAA;AACAA,MAAM,CAACC,OAAP,GAAiB,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,SAAS,GAAGF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B;AAC9CC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADP;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHD,KADmC;AAQ9CC,IAAAA,QAAQ,EAAE;AACRL,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KARoC;AAe9CE,IAAAA,KAAK,EAAE;AACLN,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADX;AAELC,MAAAA,SAAS,EAAE,KAFN;AAGLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHL,KAfuC;AAsB9CG,IAAAA,QAAQ,EAAE;AACRP,MAAAA,IAAI,EAAEJ,SAAS,CAACK,MADR;AAERC,MAAAA,SAAS,EAAE,KAFH;AAGRC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,QAAQ,EAAE;AADF;AAHF,KAtBoC;AA6B9CI,IAAAA,OAAO,EAAE;AACPR,MAAAA,IAAI,EAAEJ,SAAS,CAACa,OADT;AAEPC,MAAAA,OAAO,EAAE;AAFF;AA7BqC,GAA9B,CAAlB;;AAkCAb,EAAAA,SAAS,CAACc,SAAV,GAAuBC,MAAD,IAAY;AAChCf,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACE,OAAzB,EAAkC;AAChCC,MAAAA,QAAQ,EAAE;AADsB,KAAlC;AAIAlB,IAAAA,SAAS,CAACgB,OAAV,CAAkBD,MAAM,CAACI,SAAzB,EAAoC;AAClCD,MAAAA,QAAQ,EAAE;AADwB,KAApC;AAGD,GARD;;AAUA,SAAOlB,SAAP;AACD,CA9CH","sourceRoot":"/Users/sarahbadibanga/Documents/Year3/Sarah_Badibanga/Development/Code/ResturantComplete/backend/models/","sourcesContent":["// customer table written using sequlieze syntax\nmodule.exports = (sequelize, DataTypes) => {\n    const Customers = sequelize.define(\"Customers\", {\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n          notEmpty: true\n        }\n      },\n      isAdmin: {\n        type: DataTypes.BOOLEAN,\n        default: '0',\n      }\n    });\n    Customers.associate = (models) => {\n      Customers.hasMany(models.Address, {\n        onDelete: \"cascade\",\n      });\n  \n      Customers.hasMany(models.Orderline, {\n        onDelete: \"cascade\",\n      });\n    };\n  \n    return Customers;\n  };"]}},"mtime":1651661579788}}